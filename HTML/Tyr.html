
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tyr.html</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body { margin: 0; background: black; color: white; display: flex; height: 100vh; }
        /* === Description typography controls ===
           Tweak these two variables to change description sizes globally */
        :root {
            --desc-font-size: 130%;
            --hull-desc-font-size: 130%;
        }
        .desc-text { font-size: var(--desc-font-size); margin-top: 8px; }
        .hull-desc { font-size: var(--hull-desc-font-size); margin-top: 5px; color: #ccc; }
        #controls { flex: 1; min-width: 200px; max-width: 350px; overflow-y: auto; background: #333; padding: 10px; }
        #plot { flex: 3; min-width: 400px; }
        #info { flex: 1; min-width: 200px; background: #333; padding: 10px; overflow-y: auto; }
        h2.header { margin-top: 0; margin-bottom: 5px; text-align: center; }
        h3.subheader { margin-top: 0; margin-bottom: 15px; text-align: center; color: #ccc; }
        .alignment-image { display: block; max-width: 100%; height: auto; margin: 10px auto; }
        button { display: block; width: 100%; margin-bottom: 5px; background: #555; color: white; border: none; padding: 5px; text-align: left; cursor: pointer; font-size: 20px; }
        button.header { background: #444; cursor: default; font-size: 24px; }
    </style>
</head>
<body>
    <div id="controls">
        <div id="gm-controls" style="margin-bottom:10px;"></div>
        <h2 class="header">Tyr</h2>
        <h3 class="subheader">Alignment: USFP</h3>
        <img src="Images/Factions/USFP.png" alt="Alignment Logo" class="alignment-image" onerror="this.style.display='none';">

        <input type="text" id="search-box" placeholder="Search objects..." style="width: 95%; padding: 6px; margin-bottom: 10px; font-size: 16px;">
        <div id="object-buttons">
    </div>
    </div>
    <div id="plot"></div>
    <div id="info">
        <img src="Images/Compass.png" alt="Compass" style="display:block; max-width:100%; height:auto; margin-bottom:10px;">
        <button id="galactic-map-btn" title="Back to Galactic Map">Show Galactic Map</button>
        Select an object
    </div>
<script>
    var objData = {"Leopard": {"type": "jumpnode", "x": 258769.4287651877, "y": -181158.06672365504, "grid": "C24", "hidden": false, "label": "Leopard", "destinations": {"Emerald Jump Point": "Vilnara"}}, "Ornate": {"type": "jumpnode", "x": -40896.18403481218, "y": 222178.79087634472, "grid": "X09", "hidden": false, "label": "Ornate", "destinations": {"Lightening Gate": "Ashia"}}, "DS 59": {"type": "station", "x": -93208.01193982622, "y": -228936.19999777782, "grid": "A07", "hidden": false, "label": "DS 59", "hull": "starbase_civil", "facilities": ["Docking"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "I 264": {"type": "station", "x": -132357.31749538175, "y": -225952.66090312766, "grid": "A05", "hidden": false, "label": "I 264", "hull": "starbase_command", "facilities": [], "sides": ["USFP"], "hullName": "Command Starbase", "hullImage": "Images/Ships/tsn-big-base256.png", "hullDescription": ""}, "M 184": {"type": "station", "x": -113679.23107562869, "y": -255301.00452452677, "grid": "Z06", "hidden": false, "label": "M 184", "hull": "starbase_industry", "facilities": ["Docking", "Refuel"], "sides": ["USFP"], "hullName": "Industrial Starbase", "hullImage": "Images/Ships/industry_station256.png", "hullDescription": ""}, "WP 36": {"type": "platform", "x": 160292.85481190315, "y": -81026.72492603782, "grid": "H20", "hidden": false, "label": "WP 36"}, "SY 287": {"type": "station", "x": -59090.89123481231, "y": -133524.5200569884, "grid": "F09", "hidden": false, "label": "SY 287", "hull": "usfp_shipyard", "facilities": [], "sides": ["USFP"], "hullName": "Ship Yard", "hullImage": "Images/Ships/TSN Mod/USFP/ShipYard256.png", "hullDescription": ""}, "Tyr Admin": {"type": "station", "x": -56972.83567925678, "y": -201510.63116809956, "grid": "B09", "hidden": false, "label": "Tyr Admin", "hull": "starbase_command", "facilities": [], "sides": ["USFP"], "hullName": "Command Starbase", "hullImage": "Images/Ships/tsn-big-base256.png", "hullDescription": ""}, "P 24": {"type": "platform", "x": -142042.28012370123, "y": -134959.70524217363, "grid": "F04", "hidden": false, "label": "P 24"}, "WP 46": {"type": "platform", "x": -53955.02516355533, "y": -202348.06856885174, "grid": "B09", "hidden": false, "label": "WP 46"}, "WP 25": {"type": "platform", "x": -55668.924869054885, "y": -202039.8241797062, "grid": "B09", "hidden": false, "label": "WP 25"}, "WP 41": {"type": "platform", "x": -63113.598772443394, "y": -157958.01157557755, "grid": "E08", "hidden": false, "label": "WP 41"}, "Anning Research": {"type": "station", "x": 224715.95379195188, "y": 86178.28992667061, "grid": "Q23", "hidden": false, "label": "Anning Research", "hull": "starbase_science", "facilities": [], "sides": ["USFP"], "hullName": "Science Starbase", "hullImage": "Images/Ships/science_station256.png", "hullDescription": ""}, "Luek": {"type": "station", "x": 211358.31835623324, "y": 77185.0387311592, "grid": "P22", "hidden": false, "label": "Luek", "hull": "starbase_civil", "facilities": ["Docking", "Refuel"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "Korti": {"type": "station", "x": -25331.867591895425, "y": 180062.29372241697, "grid": "V10", "hidden": false, "label": "Korti", "hull": "starbase_civil", "facilities": ["Docking"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "Gena": {"type": "station", "x": -24389.86154060933, "y": 182608.64325741952, "grid": "V10", "hidden": false, "label": "Gena", "hull": "starbase_civil", "facilities": ["Docking", "Refuel"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "WP 30": {"type": "platform", "x": -23709.230803923565, "y": 181369.41780161654, "grid": "V10", "hidden": false, "label": "WP 30"}, "Frasier Ind Traders": {"type": "station", "x": -25602.3070565574, "y": 181594.7840221682, "grid": "V10", "hidden": false, "label": "Frasier Ind Traders", "hull": "usfp_industrial_storage", "facilities": [], "sides": ["USFP"], "hullName": "Storage Module", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialStorage256.png", "hullDescription": ""}, "M 845": {"type": "station", "x": -232934.28650038733, "y": 69333.09389109237, "grid": "P00", "hidden": false, "label": "M 845", "hull": "usfp_industrial_refinary", "facilities": ["Docking", "Refuel"], "sides": ["USFP"], "hullName": "Refinary Unit", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialRefinary256.png", "hullDescription": ""}, "M 844": {"type": "station", "x": -245051.18993072028, "y": 56682.74704332193, "grid": "O99", "hidden": false, "label": "M 844", "hull": "usfp_industrial_refinary", "facilities": ["Docking", "Refuel"], "sides": ["USFP"], "hullName": "Refinary Unit", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialRefinary256.png", "hullDescription": ""}, "SM 845": {"type": "station", "x": -234277.37467996727, "y": 67734.5375203955, "grid": "P00", "hidden": false, "label": "SM 845", "description": "Storage Module", "hull": "usfp_industrial_storage", "facilities": [], "sides": ["USFP"], "hullName": "Storage Module", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialStorage256.png", "hullDescription": ""}, "SM 844": {"type": "station", "x": -243810.69033665946, "y": 59135.860653575015, "grid": "O99", "hidden": false, "label": "SM 844", "description": "Storage Module", "hull": "usfp_industrial_storage", "facilities": [], "sides": ["USFP"], "hullName": "Storage Module", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialStorage256.png", "hullDescription": ""}, "PM 844": {"type": "station", "x": -234090.4469219929, "y": 71286.16492190832, "grid": "P00", "hidden": false, "label": "PM 844", "description": "Storage additional Processing Module", "hull": "usfp_industrial_processor", "facilities": [], "sides": ["USFP"], "hullName": "Processor Unit", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialProcessor256.png", "hullDescription": ""}, "Try Transit": {"type": "station", "x": 159214.76243453712, "y": -81701.89389742297, "grid": "H19", "hidden": false, "label": "Try Transit", "hull": "starbase_command", "facilities": ["Docking", "Refuel", "Repair"], "sides": ["USFP"], "hullName": "Command Starbase", "hullImage": "Images/Ships/tsn-big-base256.png", "hullDescription": ""}, "WP 97": {"type": "platform", "x": 161797.549879976, "y": -80109.80450616112, "grid": "H20", "hidden": false, "label": "WP 97"}, "Leesh": {"type": "station", "x": -41306.698815950236, "y": 24335.531860640243, "grid": "N09", "hidden": false, "label": "Leesh", "hull": "starbase_civil", "facilities": ["Docking"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "LCS Himae": {"type": "station", "x": -44097.51528828677, "y": 17358.49067979891, "grid": "M09", "hidden": false, "label": "LCS Himae", "description": "The LCS Himae is a woundering trader thats broke down here and set up shop.", "hull": "transport_ship", "facilities": ["Refuel", "Docking"], "sides": ["USFP"], "hullName": "Transport", "hullImage": "Images/Ships/transport256.png", "hullDescription": "An unarmed colony transport, filled with homesteading cargo and civilian colonists. Displacement: 80 kt. "}, "Guardic": {"type": "station", "x": -47742.37328294481, "y": 11843.527239742805, "grid": "M09", "hidden": false, "label": "Guardic", "hull": "starbase_civil", "facilities": ["Docking"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "Sams Junkyard": {"type": "station", "x": -206661.58996566857, "y": -197026.00276880263, "grid": "C01", "hidden": false, "label": "Sams Junkyard", "hull": "starbase_industry", "facilities": ["Docking", "Refuel"], "sides": ["USFP"], "hullName": "Industrial Starbase", "hullImage": "Images/Ships/industry_station256.png", "hullDescription": ""}, "SR 63": {"type": "sensor_relay", "x": -40896.18403481218, "y": 211429.24847634468, "grid": "W09", "hidden": false, "label": "SR 63"}, "SR 92": {"type": "sensor_relay", "x": 4103.815965187823, "y": 211429.24847634468, "grid": "W12", "hidden": false, "label": "SR 92"}, "SR 53": {"type": "sensor_relay", "x": -12839.142951169168, "y": 246611.665187406, "grid": "Y11", "hidden": false, "label": "SR 53"}, "SR 84": {"type": "sensor_relay", "x": -50909.62606284632, "y": 255301.00452452677, "grid": "Y09", "hidden": false, "label": "SR 84"}, "SR 81": {"type": "sensor_relay", "x": -81439.78309042103, "y": 230954.01673663483, "grid": "X07", "hidden": false, "label": "SR 81"}, "SR 70": {"type": "sensor_relay", "x": -81439.78309042103, "y": 191904.4802160546, "grid": "V07", "hidden": false, "label": "SR 70"}, "SR 21": {"type": "sensor_relay", "x": -50909.626062846335, "y": 167557.4924281626, "grid": "U09", "hidden": false, "label": "SR 21"}, "SR 61": {"type": "sensor_relay", "x": -12839.142951169175, "y": 176246.8317652833, "grid": "U11", "hidden": false, "label": "SR 61"}, "SR 49": {"type": "sensor_relay", "x": -16995.793634812, "y": 188719.7188763448, "grid": "V11", "hidden": false, "label": "SR 49"}, "SR 79": {"type": "sensor_relay", "x": 8684.206365188002, "y": 153919.7188763448, "grid": "T12", "hidden": false, "label": "SR 79"}, "SR 42": {"type": "sensor_relay", "x": 34364.206365188, "y": 119119.71887634479, "grid": "R13", "hidden": false, "label": "SR 42"}, "SR 76": {"type": "sensor_relay", "x": 60044.206365188, "y": 84319.71887634482, "grid": "Q15", "hidden": false, "label": "SR 76"}, "SR 98": {"type": "sensor_relay", "x": 85724.206365188, "y": 49519.71887634482, "grid": "O16", "hidden": false, "label": "SR 98"}, "SR 13": {"type": "sensor_relay", "x": 111404.206365188, "y": 14719.718876344821, "grid": "M17", "hidden": false, "label": "SR 13"}, "SR 56": {"type": "sensor_relay", "x": 137084.206365188, "y": -20080.28112365518, "grid": "K18", "hidden": false, "label": "SR 56"}, "SR 31": {"type": "sensor_relay", "x": 162764.206365188, "y": -54880.28112365515, "grid": "J20", "hidden": false, "label": "SR 31"}, "SR 18": {"type": "sensor_relay", "x": 188444.206365188, "y": -89680.28112365515, "grid": "H21", "hidden": false, "label": "SR 18"}, "SR 85": {"type": "sensor_relay", "x": 214124.206365188, "y": -124480.28112365515, "grid": "F22", "hidden": false, "label": "SR 85"}, "SR 54": {"type": "sensor_relay", "x": 239804.206365188, "y": -159280.28112365515, "grid": "E23", "hidden": false, "label": "SR 54"}, "SR 64": {"type": "sensor_relay", "x": 265484.206365188, "y": -194080.28112365515, "grid": "C25", "hidden": false, "label": "SR 64"}, "SR 46": {"type": "sensor_relay", "x": 304724.206365188, "y": -179680.28112365518, "grid": "D27", "hidden": false, "label": "SR 46"}, "SR 52": {"type": "sensor_relay", "x": 287781.247448831, "y": -144497.86441259383, "grid": "E26", "hidden": false, "label": "SR 52"}, "SR 14": {"type": "sensor_relay", "x": 249710.7643371538, "y": -135808.5250754731, "grid": "F24", "hidden": false, "label": "SR 14"}, "SR 80": {"type": "sensor_relay", "x": 219180.60730957912, "y": -160155.51286336506, "grid": "D22", "hidden": false, "label": "SR 80"}, "SR 58": {"type": "sensor_relay", "x": 219180.60730957912, "y": -199205.04938394527, "grid": "C22", "hidden": false, "label": "SR 58"}, "SR 75": {"type": "sensor_relay", "x": 249710.7643371538, "y": -223552.03717183723, "grid": "A24", "hidden": false, "label": "SR 75"}, "SR 15": {"type": "sensor_relay", "x": 287781.247448831, "y": -214862.69783471653, "grid": "B26", "hidden": false, "label": "SR 15"}, "SR 99": {"type": "sensor_relay", "x": -100757.55790147898, "y": -185191.18672365506, "grid": "C06", "hidden": false, "label": "SR 99"}, "SR 77": {"type": "sensor_relay", "x": -55757.557901478984, "y": -185191.18672365506, "grid": "C09", "hidden": false, "label": "SR 77"}, "SR 87": {"type": "sensor_relay", "x": -72700.51681783597, "y": -150008.77001259374, "grid": "E08", "hidden": false, "label": "SR 87"}, "SR 26": {"type": "sensor_relay", "x": -110770.99992951314, "y": -141319.430675473, "grid": "E06", "hidden": false, "label": "SR 26"}, "SR 23": {"type": "sensor_relay", "x": -141301.15695708783, "y": -165666.41846336494, "grid": "D04", "hidden": false, "label": "SR 23"}, "SR 17": {"type": "sensor_relay", "x": -141301.15695708783, "y": -204715.95498394518, "grid": "B04", "hidden": false, "label": "SR 17"}, "SR 82": {"type": "sensor_relay", "x": -110770.99992951314, "y": -229062.94277183712, "grid": "A06", "hidden": false, "label": "SR 82"}, "SR 40": {"type": "sensor_relay", "x": -72700.51681783597, "y": -220373.6034347164, "grid": "A08", "hidden": false, "label": "SR 40"}, "SR 93": {"type": "sensor_relay", "x": -238632.78645282742, "y": 64269.6797003517, "grid": "P00", "hidden": false, "label": "SR 93"}, "SR 38": {"type": "sensor_relay", "x": -193632.78645282742, "y": 64269.6797003517, "grid": "P02", "hidden": false, "label": "SR 38"}, "SR 66": {"type": "sensor_relay", "x": -210575.7453691844, "y": 99452.09641141305, "grid": "Q01", "hidden": false, "label": "SR 66"}, "SR 19": {"type": "sensor_relay", "x": -248646.22848086155, "y": 108141.43574853375, "grid": "R99", "hidden": false, "label": "SR 19"}, "SR 90": {"type": "sensor_relay", "x": -279176.38550843624, "y": 83794.44796064182, "grid": "Q98", "hidden": false, "label": "SR 90"}, "SR 25": {"type": "sensor_relay", "x": -279176.38550843624, "y": 44744.91144006158, "grid": "O98", "hidden": false, "label": "SR 25"}, "SR 59": {"type": "sensor_relay", "x": -248646.22848086155, "y": 20397.923652169644, "grid": "N99", "hidden": false, "label": "SR 59"}, "SR 67": {"type": "sensor_relay", "x": -210575.7453691844, "y": 29087.26298929035, "grid": "N01", "hidden": false, "label": "SR 67"}, "SR 24": {"type": "sensor_relay", "x": -54660.15928568828, "y": 25575.33833112064, "grid": "N09", "hidden": false, "label": "SR 24"}, "SR 71": {"type": "sensor_relay", "x": -34920.58804359601, "y": 12453.009721320675, "grid": "M10", "hidden": false, "label": "SR 71"}};
        console.log("[DEBUG JS] objData keys:", Object.keys(objData));
        console.log("[DEBUG JS] objData sample:", objData[Object.keys(objData)[0]]);

    function clearAnnotations() {
        Plotly.relayout('plot', {annotations: []});
        document.getElementById('info').innerHTML = getInfoHeader() + 'Select an object';
        document.getElementById('galactic-map-btn').addEventListener('click', function() {
            window.location.href = 'index.html';
        });
        document.getElementById('galactic-map-btn').addEventListener('click', function() {
            window.location.href = 'index.html';
        });
    }
    
    function getInfoHeader() {
    return '<img src="Images/Compass.png" alt="Compass" '
         + 'style="display:block; max-width:100%; height:auto; margin-bottom:10px;">'
         + '<button id="galactic-map-btn" title="Back to Galactic Map">Galactic Map</button>';
        }
    
    function highlight(name) {
        var obj = objData[name];
        if (obj.hidden && !isGM()) {
            alert("This object is not visible on the public map.");
            return;
        }
        var annotation = {
            x: obj.x, y: obj.y, xref: 'x', yref: 'y', text: name,
            showarrow: true, arrowcolor: 'yellow', arrowwidth: 2,
            arrowhead: 3, font: {color: 'yellow', size: 28}
        };

        Plotly.relayout('plot', {annotations: [annotation]});

        var label = obj.label || name;
        var infoHtml = '<span style="font-size:20pt;">' + label + '</span><br>';
        infoHtml += '<b>Location:</b> ' + obj.grid + '<br>';

        if (obj.type === 'station') {
            // Station selected: display detailed station info
            if (obj.hullImage) {
                infoHtml += '<img src="' + obj.hullImage + '" alt="Hull Art" style="max-width:48%; height:auto;">';
            }
            if (obj.sides && obj.sides.length > 0) {
                infoHtml += '<img src="Images/Factions/' + obj.sides[0] + '.png" alt="Faction Logo" style="max-width:48%; height:auto;">';
            }
            infoHtml += '<b>Facilities:</b> ' + (obj.facilities.length ? obj.facilities.join(', ') : 'None') + '<br>';
            if (obj.hullName && obj.hullImage) {
                infoHtml += '<b>General Class:</b> ' + obj.hullName + '<br>';
            }
            if (obj.hullDescription) {
                infoHtml += '<p class="hull-desc">' + obj.hullDescription + '</p>';
            }
        } 
        else if ((obj.type === 'jump_point' || obj.type === 'jumppoint' || obj.type === 'jumpnode') && obj.destinations && typeof obj.destinations === 'object') {
        
            // Generate a random 5-character alphanumeric serial
            const serial = Math.random().toString(36).substring(2, 7).toUpperCase();
            infoHtml += 'Oliver Class jump stabilisation node. Serial: ' + serial;
            infoHtml += '<br><br><b>Destinations:</b><br>';
            for (const [target, label] of Object.entries(obj.destinations)) {
                if (typeof target === 'string' && typeof label === 'string') {
                    let file = label + '.html';
                    // Correctly escape single quotes for JS string
                    infoHtml += `<button onclick="window.open('${file}', '_blank')">${label}, ${target}</button>`;
                }
            }
            }
        else if (obj.type === 'sensor_relay') {
            // Generate a random 5-character alphanumeric serial
            const serial = Math.random().toString(36).substring(2, 7).toUpperCase();
            infoHtml += 'Standard sensor and info relay buoy, Serial: ' + serial;
        }
        else if (obj.type === 'jumpnode' || obj.type === 'jumppoint') {
            // Generate a random 5-character alphanumeric serial
            const serial = Math.random().toString(36).substring(2, 7).toUpperCase();
            infoHtml += 'Oliver Class jump stabilisation node. Serial: ' + serial;
        }
        else if (obj.type === 'planet') {
            if (obj['class']) {
                infoHtml += '<b>Class:</b> ' + obj['class'] + '<br>';
            }
        }
        else {
            infoHtml += '<b>Type:</b> ' + obj.type;
        }

            // ——— append a description paragraph if one exists ———
            if (obj.description) {
                infoHtml += '<p class="desc-text">'
                          + obj.description
                          + '</p>';
            }
            document.getElementById('info').innerHTML = getInfoHeader() + infoHtml;
            document.getElementById('galactic-map-btn').addEventListener('click', function() {
                window.location.href = 'index.html';
            });
                + infoHtml;
         
    }
         document.getElementById('galactic-map-btn').addEventListener('click', function() {
        window.location.href = 'index.html';
    });
    

    var fig = {"data": [{"type": "scatter", "x": [189780.4604251159, 190710.73258256144, 170713.6539965414, 169783.38183909585, 189780.4604251159], "y": [50940.86690424547, 105361.78811480787, 105703.6185179877, 51282.697307425304, 50940.86690424547], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [176938.4619888859, 164844.9239420942, 193323.5100859492, 205417.0481327409, 176938.4619888859], "y": [125830.96093284726, 89317.77875311096, 79885.38079463667, 116398.56297437297, 125830.96093284726], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [216317.57751160717, 217459.68866623976, 237415.5916517883, 236273.48049715572, 216317.57751160717], "y": [61843.92634210841, 44673.35727921007, 46000.736664079064, 63171.30572697741, 61843.92634210841], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [231309.12966081404, 222287.2691196905, 223501.24518569515, 232523.1057268187, 231309.12966081404], "y": [59581.549198098095, 58478.15618227724, 48552.116583768286, 49655.50959958914, 59581.549198098095], "fill": "toself", "fillcolor": "rgba(165,42,42,0.6876380676458009)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.6876380676458009)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-273210.02869168867, -289606.63362996036, -271616.47045844037, -255219.8655201687, -273210.02869168867], "y": [86090.6941613972, 52332.97811201448, 43594.89885727618, 77352.61490665891, 86090.6941613972], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-231984.07184793337, -270564.31876151357, -260759.0939688624, -222178.84705528218, -231984.07184793337], "y": [102011.48397934763, 80310.09509045872, 62878.584347967735, 84579.97323685663, 102011.48397934763], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-251379.716041531, -262953.79011560505, -281872.709034524, -270298.63496044994, -251379.716041531], "y": [64710.26814764167, 98467.98419702436, 91981.49771053788, 58223.781661155175, 64710.26814764167], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-250925.35463094557, -301561.92870501964, -307886.48402535636, -257249.90995128234, -250925.35463094557], "y": [27068.827020706005, 43947.68504539738, 24974.019084387102, 8095.161059695727, 27068.827020706005], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-176681.6107553699, -286153.0613726539, -288573.1291354999, -179101.67851821598, -176681.6107553699], "y": [64254.08211845586, 69558.86606907313, 19617.467690340953, 14312.683739723678, 64254.08211845586], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-202818.20349160154, -252008.01830641637, -269670.3326955646, -220480.51788074974, -202818.20349160154], "y": [45903.94753438628, 138496.54012697889, 129113.43560774392, 36520.843015151295, 45903.94753438628], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-240889.08925124505, -215811.92875741786, -234492.96545443955, -259570.12594826674, -240889.08925124505], "y": [-44824.25716567493, 20762.16258741149, 27904.91191274333, -37681.50784034309, -44824.25716567493], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-45684.05967699186, -51852.6756901457, -69804.87490753853, -63636.25889438469, -45684.05967699186], "y": [7327.60012247038, 19889.14545834728, 11073.333342663303, -1488.2119932135975, 7327.60012247038], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-200324.42876732352, -200452.75584671638, -200835.5413729875, -201466.23577965423, -202334.04771055694, -203424.128662955, -204717.8270495253, -206193.0073321927, -207824.42876732352, -209584.17728184717, -211442.1430907857, -213366.53588402274, -215324.42876732352, -217282.3216506243, -219206.71444386133, -221064.68025279985, -222824.42876732352, -224455.85020245434, -225931.03048512174, -227224.72887169206, -228314.8098240901, -229182.6217549928, -229813.31616165955, -230196.10168793067, -230324.42876732352, -230196.10168793067, -229813.31616165955, -229182.6217549928, -228314.8098240901, -227224.72887169206, -225931.03048512174, -224455.85020245434, -222824.42876732352, -221064.68025279985, -219206.71444386133, -217282.3216506243, -215324.42876732352, -213366.53588402274, -211442.1430907857, -209584.1772818472, -207824.42876732352, -206193.00733219273, -204717.8270495253, -203424.128662955, -202334.04771055694, -201466.23577965423, -200835.5413729875, -200452.75584671638, -200324.42876732352], "y": [-201584.10239146976, -199626.20950816898, -197701.81671493195, -195843.8509059934, -194084.10239146976, -192452.68095633894, -190977.50067367154, -189683.80228710122, -188593.72133470318, -187725.90940380047, -187095.21499713373, -186712.4294708626, -186584.10239146976, -186712.4294708626, -187095.21499713373, -187725.90940380044, -188593.72133470318, -189683.80228710122, -190977.50067367154, -192452.68095633894, -194084.10239146976, -195843.8509059934, -197701.81671493195, -199626.20950816898, -201584.10239146976, -203541.99527477054, -205466.38806800757, -207324.35387694612, -209084.10239146976, -210715.52382660058, -212190.70410926797, -213484.4024958383, -214574.48344823634, -215442.29537913908, -216072.98978580578, -216455.7753120769, -216584.10239146976, -216455.7753120769, -216072.98978580578, -215442.29537913908, -214574.48344823634, -213484.4024958383, -212190.70410926797, -210715.52382660058, -209084.10239146976, -207324.3538769461, -205466.3880680076, -203541.99527477054, -201584.10239146976], "fill": "toself", "fillcolor": "rgba(64,64,64,0.4)", "line": {"shape": "spline", "color": "rgba(64,64,64,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-229013.5413453496, -231705.30106018038, -251682.33749004066, -248990.57777520988, -229013.5413453496], "y": [-250131.7599398093, -194008.56988558787, -194966.70112922628, -251089.8911834477, -250131.7599398093], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-208143.59345792048, -238144.87053553824, -242818.03086356318, -212816.75378594542, -208143.59345792048], "y": [-244705.6291167055, -237496.01989650278, -256942.39674538065, -264152.0059655834, -244705.6291167055], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-226997.64871973926, -243975.11559311984, -227219.92815280365, -210242.46127942306, -226997.64871973926], "y": [-153848.0935354521, -179895.71394392644, -190816.50575770397, -164768.88534922962, -153848.0935354521], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-212096.80611536177, -212122.47153124036, -212199.02863649456, -212325.1675178279, -212498.72990400845, -212716.74609448807, -212975.48577180214, -213270.52182833562, -213596.80611536177, -213948.7558182665, -214320.3489800542, -214705.2275387016, -215096.80611536177, -215488.38469202194, -215873.26325066935, -216244.85641245704, -216596.80611536177, -216923.09040238793, -217218.1264589214, -217476.86613623548, -217694.8823267151, -217868.44471289564, -217994.58359422899, -218071.1406994832, -218096.80611536177, -218071.1406994832, -217994.58359422899, -217868.44471289564, -217694.8823267151, -217476.86613623548, -217218.1264589214, -216923.09040238793, -216596.80611536177, -216244.85641245704, -215873.26325066935, -215488.38469202194, -215096.80611536177, -214705.2275387016, -214320.3489800542, -213948.7558182665, -213596.80611536177, -213270.52182833562, -212975.48577180214, -212716.74609448807, -212498.72990400845, -212325.1675178279, -212199.02863649456, -212122.47153124036, -212096.80611536177], "y": [-201381.43596428738, -200989.8573876272, -200604.9788289798, -200233.3856671921, -199881.43596428738, -199555.15167726122, -199260.11562072774, -199001.37594341367, -198783.35975293405, -198609.7973667535, -198483.65848542016, -198407.10138016596, -198381.43596428738, -198407.10138016596, -198483.65848542016, -198609.7973667535, -198783.35975293405, -199001.37594341367, -199260.11562072774, -199555.15167726122, -199881.43596428738, -200233.3856671921, -200604.9788289798, -200989.8573876272, -201381.43596428738, -201773.01454094754, -202157.89309959495, -202529.48626138264, -202881.43596428738, -203207.72025131353, -203502.756307847, -203761.49598516108, -203979.5121756407, -204153.07456182124, -204279.2134431546, -204355.7705484088, -204381.43596428738, -204355.7705484088, -204279.2134431546, -204153.07456182124, -203979.5121756407, -203761.49598516108, -203502.756307847, -203207.72025131353, -202881.43596428738, -202529.48626138264, -202157.89309959495, -201773.01454094754, -201381.43596428738], "fill": "toself", "fillcolor": "rgba(64,64,64,0.4)", "line": {"shape": "spline", "color": "rgba(64,64,64,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [79837.68850341953, 77059.91072564175, 57118.82101561011, 59896.59879338789, 79837.68850341953], "y": [-54719.815479487785, -18608.704368376664, -20142.63434607141, -56253.74545718253, -54719.815479487785], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [157239.7861275324, 291639.7861275324, 335838.94561371946, 201438.9456137195, 157239.7861275324], "y": [-3302.697026657821, -149702.6970266578, -109126.41946556803, 37273.58053443196, -3302.697026657821], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-100673.22293246171, -41873.22293246171, -37874.02269254168, -96674.02269254168, -100673.22293246171], "y": [157723.5422840528, 145723.5422840528, 165319.62345966094, 177319.62345966094, 157723.5422840528], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [31642.716586915798, -13957.283413084202, -5789.962211919125, 39810.037788080874, 31642.716586915798], "y": [314649.7653908061, 294249.7653908061, 275993.40035290766, 296393.40035290766, 314649.7653908061], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [258769.4287651877], "y": [-181158.06672365504], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "#50CC50", "line": {"color": "#50CC50", "width": 5}}, "hovertext": ["Leopard [C24]"], "hoverinfo": "text", "text": ["Leopard"], "textposition": "top center", "textfont": {"color": "#50CC50", "size": 20}, "meta": {"base_marker_size": 16, "base_text_size": 20}}, {"type": "scatter", "x": [-40896.18403481218], "y": [222178.79087634472], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "#50CC50", "line": {"color": "#50CC50", "width": 5}}, "hovertext": ["Ornate [X09]"], "hoverinfo": "text", "text": ["Ornate"], "textposition": "top center", "textfont": {"color": "#50CC50", "size": 20}, "meta": {"base_marker_size": 16, "base_text_size": 20}}, {"type": "scatter", "x": [-93208.01193982622], "y": [-228936.19999777782], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 59 [A07]"], "hoverinfo": "text", "text": ["DS 59"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-132357.31749538175], "y": [-225952.66090312766], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["I 264 [A05]"], "hoverinfo": "text", "text": ["I 264"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-113679.23107562869], "y": [-255301.00452452677], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["M 184 [Z06]"], "hoverinfo": "text", "text": ["M 184"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [160292.85481190315], "y": [-81026.72492603782], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 36 [H20]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-59090.89123481231], "y": [-133524.5200569884], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["SY 287 [F09]"], "hoverinfo": "text", "text": ["SY 287"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-56972.83567925678], "y": [-201510.63116809956], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Tyr Admin [B09]"], "hoverinfo": "text", "text": ["Tyr Admin"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-142042.28012370123], "y": [-134959.70524217363], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["P 24 [F04]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-53955.02516355533], "y": [-202348.06856885174], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 46 [B09]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-55668.924869054885], "y": [-202039.8241797062], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 25 [B09]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-63113.598772443394], "y": [-157958.01157557755], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 41 [E08]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [224715.95379195188], "y": [86178.28992667061], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Anning Research [Q23]"], "hoverinfo": "text", "text": ["Anning Research"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [211358.31835623324], "y": [77185.0387311592], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Luek [P22]"], "hoverinfo": "text", "text": ["Luek"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-25331.867591895425], "y": [180062.29372241697], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Korti [V10]"], "hoverinfo": "text", "text": ["Korti"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-24389.86154060933], "y": [182608.64325741952], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Gena [V10]"], "hoverinfo": "text", "text": ["Gena"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-23709.230803923565], "y": [181369.41780161654], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 30 [V10]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-25602.3070565574], "y": [181594.7840221682], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Frasier Ind Traders [V10]"], "hoverinfo": "text", "text": ["Frasier Ind Traders"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-232934.28650038733], "y": [69333.09389109237], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["M 845 [P00]"], "hoverinfo": "text", "text": ["M 845"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-245051.18993072028], "y": [56682.74704332193], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["M 844 [O99]"], "hoverinfo": "text", "text": ["M 844"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-234277.37467996727], "y": [67734.5375203955], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["SM 845 [P00]"], "hoverinfo": "text", "text": ["SM 845"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-243810.69033665946], "y": [59135.860653575015], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["SM 844 [O99]"], "hoverinfo": "text", "text": ["SM 844"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-234090.4469219929], "y": [71286.16492190832], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["PM 844 [P00]"], "hoverinfo": "text", "text": ["PM 844"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [159214.76243453712], "y": [-81701.89389742297], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Try Transit [H19]"], "hoverinfo": "text", "text": ["Try Transit"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [161797.549879976], "y": [-80109.80450616112], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 97 [H20]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-41306.698815950236], "y": [24335.531860640243], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Leesh [N09]"], "hoverinfo": "text", "text": ["Leesh"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-44097.51528828677], "y": [17358.49067979891], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["LCS Himae [M09]"], "hoverinfo": "text", "text": ["LCS Himae"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-47742.37328294481], "y": [11843.527239742805], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Guardic [M09]"], "hoverinfo": "text", "text": ["Guardic"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-206661.58996566857], "y": [-197026.00276880263], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Sams Junkyard [C01]"], "hoverinfo": "text", "text": ["Sams Junkyard"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-40896.18403481218], "y": [211429.24847634468], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 63 [W09]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [4103.815965187823], "y": [211429.24847634468], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 92 [W12]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-12839.142951169168], "y": [246611.665187406], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 53 [Y11]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-50909.62606284632], "y": [255301.00452452677], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 84 [Y09]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-81439.78309042103], "y": [230954.01673663483], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 81 [X07]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-81439.78309042103], "y": [191904.4802160546], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 70 [V07]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-50909.626062846335], "y": [167557.4924281626], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 21 [U09]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-12839.142951169175], "y": [176246.8317652833], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 61 [U11]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-16995.793634812], "y": [188719.7188763448], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 49 [V11]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [8684.206365188002], "y": [153919.7188763448], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 79 [T12]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [34364.206365188], "y": [119119.71887634479], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 42 [R13]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [60044.206365188], "y": [84319.71887634482], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 76 [Q15]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [85724.206365188], "y": [49519.71887634482], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 98 [O16]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [111404.206365188], "y": [14719.718876344821], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 13 [M17]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [137084.206365188], "y": [-20080.28112365518], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 56 [K18]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [162764.206365188], "y": [-54880.28112365515], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 31 [J20]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [188444.206365188], "y": [-89680.28112365515], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 18 [H21]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [214124.206365188], "y": [-124480.28112365515], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 85 [F22]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [239804.206365188], "y": [-159280.28112365515], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 54 [E23]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [265484.206365188], "y": [-194080.28112365515], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 64 [C25]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [304724.206365188], "y": [-179680.28112365518], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 46 [D27]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [287781.247448831], "y": [-144497.86441259383], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 52 [E26]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [249710.7643371538], "y": [-135808.5250754731], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 14 [F24]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [219180.60730957912], "y": [-160155.51286336506], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 80 [D22]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [219180.60730957912], "y": [-199205.04938394527], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 58 [C22]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [249710.7643371538], "y": [-223552.03717183723], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 75 [A24]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [287781.247448831], "y": [-214862.69783471653], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 15 [B26]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-100757.55790147898], "y": [-185191.18672365506], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 99 [C06]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-55757.557901478984], "y": [-185191.18672365506], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 77 [C09]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-72700.51681783597], "y": [-150008.77001259374], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 87 [E08]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-110770.99992951314], "y": [-141319.430675473], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 26 [E06]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-141301.15695708783], "y": [-165666.41846336494], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 23 [D04]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-141301.15695708783], "y": [-204715.95498394518], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 17 [B04]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-110770.99992951314], "y": [-229062.94277183712], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 82 [A06]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-72700.51681783597], "y": [-220373.6034347164], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 40 [A08]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-238632.78645282742], "y": [64269.6797003517], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 93 [P00]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-193632.78645282742], "y": [64269.6797003517], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 38 [P02]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-210575.7453691844], "y": [99452.09641141305], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 66 [Q01]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-248646.22848086155], "y": [108141.43574853375], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 19 [R99]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-279176.38550843624], "y": [83794.44796064182], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 90 [Q98]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-279176.38550843624], "y": [44744.91144006158], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 25 [O98]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-248646.22848086155], "y": [20397.923652169644], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 59 [N99]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-210575.7453691844], "y": [29087.26298929035], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 67 [N01]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-54660.15928568828], "y": [25575.33833112064], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 24 [N09]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-34920.58804359601], "y": [12453.009721320675], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 71 [M10]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}], "layout": {"title": "Tyr", "paper_bgcolor": "black", "plot_bgcolor": "black", "font": {"color": "white"}, "margin": {"l": 0, "r": 0, "t": 40, "b": 0}, "autosize": true, "dragmode": "pan", "hovermode": "closest", "xaxis": {"color": "white", "showgrid": true, "gridcolor": "gray", "dtick": 20000, "title": "X Axis"}, "yaxis": {"color": "white", "showgrid": true, "gridcolor": "gray", "dtick": 20000, "scaleanchor": "x", "scaleratio": 1, "title": "Z Axis"}, "shapes": []}};
    fig.layout.showlegend = false;
    fig.layout.dragmode = 'pan';
    fig.layout.title = 'Tyr';
    if (!isGM()) {
        fig.data = fig.data.filter(t => !t.gmOnly);
        }
    Plotly.newPlot('plot', fig.data, fig.layout, {responsive: true, scrollZoom: true});
        console.log("[DEBUG JS] Plotted traces count:", fig.data.length);
        console.log("[DEBUG JS] fig.data sample:", fig.data.slice(0,3));

    var plotDiv = document.getElementById('plot');
    // Use Plotly's built-in nearest-point selection for accurate clicks
    plotDiv.on('plotly_click', function(ev) {
        if (!ev || !ev.points || !ev.points.length) return;
        var p = ev.points[0];
        var picked = null;
        // Prefer original name from hovertext: "Name [Grid]"
        if (p.hovertext && typeof p.hovertext === 'string') {
            picked = p.hovertext.split(' [')[0];
        } else if (p.text && typeof p.text === 'string') {
            // Fallback to text label (strip any ** used for GM marking)
            picked = p.text.replace(/\*/g, '');
        }
        if (picked && objData[picked]) {
            highlight(picked);
        }
    });

    // ——— Auto-scale markers based on current zoom/span (optimized: planets & blackholes only) ———
    (function() {
        var refSpan = null;
        var planetIdx = [];
        var bhIdx = [];
        function rescaleMarkers() {
            try {
                var full = plotDiv._fullLayout || {};
                var xaxis = full.xaxis || (fig.layout && fig.layout.xaxis);
                if (!xaxis || !xaxis.range) return;
                var curr = Math.abs(xaxis.range[1] - xaxis.range[0]);
                if (!curr) return;
                if (!refSpan) refSpan = curr;
                var scale = refSpan / curr;
                var indices = [];
                var markerSizes = [];
                var textSizes = [];
                function pushForIndex(i) {
                    var t = fig.data[i];
                    if (!t || !t.meta || !t.meta.base_marker_size) return;
                    var base = t.meta.base_marker_size;
                    var baseText = t.meta.base_text_size || (t.textfont && t.textfont.size) || 12;
                    var newMarker = Math.max(2, Math.round(base * scale));
                    var newText = Math.max(8, Math.round(baseText * Math.sqrt(scale)));
                    indices.push(i);
                    markerSizes.push(newMarker);
                    textSizes.push(newText);
                }
                planetIdx.forEach(pushForIndex);
                bhIdx.forEach(pushForIndex);
                if (indices.length) {
                    Plotly.restyle(plotDiv, {'marker.size': [markerSizes], 'textfont.size': [textSizes]}, indices);
                }
            } catch (e) { console.error(e); }
        }
        // initial scale after plot settles
        setTimeout(rescaleMarkers, 250);
        plotDiv.on('plotly_relayout', rescaleMarkers);
    })();

  var ctrl = document.getElementById('object-buttons');

  // Helper: create and append a single button
function addButton(label, fn, header, color, isHidden) {
    if (isHidden && !isGM()) return;
    var btn = document.createElement('button');
    btn.textContent = label;
    if (header) {
      btn.className = 'header';     // section header style
      btn.onclick = null;           // no click action
    } else {
      btn.onclick = fn;             // bind the handler
      if (color) btn.style.backgroundColor = color;
    }
    ctrl.appendChild(btn);
  }
  
  function enterGMMode() {
    const pw = prompt("Enter ONI Auth Code: --We will store a cookie for the purpose of tracking if you have authenticated or not--");
    if (pw === "oni1") {
      document.cookie = "gmMode=1; path=/; max-age=31536000";
      location.reload();
    } else {
      alert("Incorrect password.");
    }
  }

  function isGM() {
    return document.cookie.split(';').some(c => c.trim() === 'gmMode=1');
  }

  function exitGMMode() {
    document.cookie = "gmMode=; path=/; expires=Thu, 01 Jan 1970 00:00:00 UTC;";
    location.reload();
  }

  function renderGMControls() {
    const div = document.getElementById('gm-controls');
    div.innerHTML = '';
    const btn = document.createElement('button');
    btn.style.width = '100%';
    if (isGM()) {
      btn.textContent = 'ONI Logout';
      btn.onclick = exitGMMode;
    } else {
      btn.textContent = 'ONI Login';
      btn.onclick = enterGMMode;
    }
    div.appendChild(btn);
  }

  renderGMControls();

  // ——— Populate the sidebar ———
  addButton('None', clearAnnotations, false, null);

  addButton('--- Gates ---', null, true, null);
  addButton('Leopard',function(){highlight('Leopard');},false,null,false)
    addButton('Ornate',function(){highlight('Ornate');},false,null,false)

  addButton('--- Nav Points/POI ---', null, true, null);
  

    addButton('--- Planets ---', null, true, null);
    

    addButton('--- Stations ---', null, true, null);
    addButton('Anning Research',function(){highlight('Anning Research');},false,'blue',false)
    addButton('DS 59',function(){highlight('DS 59');},false,'blue',false)
    addButton('Frasier Ind Traders',function(){highlight('Frasier Ind Traders');},false,'blue',false)
    addButton('Gena',function(){highlight('Gena');},false,'blue',false)
    addButton('Guardic',function(){highlight('Guardic');},false,'blue',false)
    addButton('I 264',function(){highlight('I 264');},false,'blue',false)
    addButton('Korti',function(){highlight('Korti');},false,'blue',false)
    addButton('LCS Himae',function(){highlight('LCS Himae');},false,'blue',false)
    addButton('Leesh',function(){highlight('Leesh');},false,'blue',false)
    addButton('Luek',function(){highlight('Luek');},false,'blue',false)
    addButton('M 184',function(){highlight('M 184');},false,'blue',false)
    addButton('M 844',function(){highlight('M 844');},false,'blue',false)
    addButton('M 845',function(){highlight('M 845');},false,'blue',false)
    addButton('PM 844',function(){highlight('PM 844');},false,'blue',false)
    addButton('SM 844',function(){highlight('SM 844');},false,'blue',false)
    addButton('SM 845',function(){highlight('SM 845');},false,'blue',false)
    addButton('SY 287',function(){highlight('SY 287');},false,'blue',false)
    addButton('Sams Junkyard',function(){highlight('Sams Junkyard');},false,'blue',false)
    addButton('Try Transit',function(){highlight('Try Transit');},false,'blue',false)
    addButton('Tyr Admin',function(){highlight('Tyr Admin');},false,'blue',false)
    
  // Search filter
  document.getElementById('search-box').addEventListener('input', function() {
    const query = this.value.toLowerCase();
    const buttons = document.querySelectorAll('#object-buttons button');
    buttons.forEach(btn => {
      const label = btn.textContent.toLowerCase();
      const isHeader = btn.classList.contains('header');
      if (isHeader) {
        btn.style.display = ''; // always show section headers
      } else {
        btn.style.display = label.includes(query) ? '' : 'none';
      }
    });
  });
</script>
</body>
</html>