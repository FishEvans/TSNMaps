<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>System Map</title>
  <style>
    body { margin:0; background:black; color:white; display:flex; height:100vh; }
    #controls { width:200px; background:#333; padding:10px; overflow-y:auto; }
    .system-button { width:100%; padding:2px; font-size:14pt; background:#444; color:white; border:none; margin-bottom:5px; cursor:pointer; text-align:left; display:flex; align-items:center; }
    .system-button .button-icon { height:1em; width:auto; margin-right:0.5em; }
    #maparea { flex:1; position:relative; background:url("Images/starfield.jpg") center/cover; overflow:hidden; cursor: grab; }
    #map { width: 9600.0px; height: 3699.5235392204318px; transform-origin: top left; cursor: grab; }
    .map-container { position:absolute; top:0; left:0; }
    svg { position:absolute; top:0; left:0; z-index:0; pointer-events:auto; }
    svg polyline { pointer-events: stroke; }
    .system { position:absolute; width:50px; transform:translate(-50%,-50%); z-index:1; cursor:pointer; text-align:center; }
    .icon { position:relative; width:75px; height:75px; }
    .alignment-img { position:absolute; top:15px; left:15px; width:40px; height:40px; }
    .tint-img { position:absolute; top:0; left:0; width:70px; height:70px; opacity:0.3; }
    .system-name {
      position: absolute;
      left: 50%;
      
      text-align: center;
      top: calc(=100% + 4px);
      transform: translateX(-50%);
      white-space: wrap;
      font-size: 90px;
      font-weight: bold;
      color: white;
      text-decoration: none;
      pointer-events: none;
    }
    
@keyframes jumpPulse {
  0% { stroke: white; stroke-width: 12; }
  100% { stroke: cyan; stroke-width: 18; }
}

.jump-arrow-active {
  animation: jumpPulse 1s infinite alternate ease-in-out !important;
  pointer-events: none !important;

}
    #info {
      width: 300px;
      background: #333;
      padding: 10px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
    }
    #info img {
      max-width: 80%;
      height: auto;
    }
    #system-details { text-align: left; }
</style>
</head>
<body>
  <div id="controls">
    <h2>Systems</h2>
    <input type="text" id="system-search" placeholder="Search systems..." style="width:100%; padding:5px; margin-bottom:5px;" />
    <div id="sort-options" style="margin-bottom:5px;">
      <label><input type="radio" name="sort" value="name" checked /> A-Z</label>
      <label style="margin-left:10px;"><input type="radio" name="sort" value="alignment" /> Alignment</label>
    </div>
    <button class='system-button' data-system="Acantha" onclick="document.location.href='Acantha.html'"><img src="Images/Factions/Unknown.png" class="button-icon" alt="Unknown" />Acantha</button><button class='system-button' data-system="Acturus" onclick="document.location.href='Acturus.html'"><img src="Images/Factions/Hjorden.png" class="button-icon" alt="Hjorden" />Acturus</button><button class='system-button' data-system="AlMare" onclick="document.location.href='AlMare.html'"><img src="Images/Factions/USFP.png" class="button-icon" alt="USFP" />AlMare</button><button class='system-button' data-system="Alpha" onclick="document.location.href='Alpha.html'"><img src="Images/Factions/Ximni.png" class="button-icon" alt="Ximni" />Alpha</button><button class='system-button' data-system="Antara" onclick="document.location.href='Antara.html'"><img src="Images/Factions/Hjorden.png" class="button-icon" alt="Hjorden" />Antara</button><button class='system-button' data-system="Arrin" onclick="document.location.href='Arrin.html'"><img src="Images/Factions/Hjorden.png" class="button-icon" alt="Hjorden" />Arrin</button><button class='system-button' data-system="Ashia" onclick="document.location.href='Ashia.html'"><img src="Images/Factions/USFP.png" class="button-icon" alt="USFP" />Ashia</button><button class='system-button' data-system="Athorn" onclick="document.location.href='Athorn.html'"><img src="Images/Factions/Unknown.png" class="button-icon" alt="Unknown" />Athorn</button><button class='system-button' data-system="Atietis" onclick="document.location.href='Atietis.html'"><img src="Images/Factions/USFP.png" class="button-icon" alt="USFP" />Atietis</button><button class='system-button' data-system="Atlantis" onclick="document.location.href='Atlantis.html'"><img src="Images/Factions/USFP.png" class="button-icon" alt="USFP" />Atlantis</button><button class='system-button' data-system="Blackspire" onclick="document.location.href='Blackspire.html'"><img src="Images/Factions/USFP.png" class="button-icon" alt="USFP" />Blackspire</button><button class='system-button' data-system="Brightfall" onclick="document.location.href='Brightfall.html'"><img src="Images/Factions/USFP.png" class="button-icon" alt="USFP" />Brightfall</button><button class='system-button' data-system="Burin" onclick="document.location.href='Burin.html'"><img src="Images/Factions/Unknown.png" class="button-icon" alt="Unknown" />Burin</button><button class='system-button' data-system="Castor" onclick="document.location.href='Castor.html'"><img src="Images/Factions/USFP.png" class="button-icon" alt="USFP" />Castor</button><button class='system-button' data-system="Cerberus" onclick="document.location.href='Cerberus.html'"><img src="Images/Factions/USFP.png" class="button-icon" alt="USFP" />Cerberus</button><button class='system-button' data-system="Charon" onclick="document.location.href='Charon.html'"><img src="Images/Factions/USFP.png" class="button-icon" alt="USFP" />Charon</button><button class='system-button' data-system="Corus" onclick="document.location.href='Corus.html'"><img src="Images/Factions/USFP.png" class="button-icon" alt="USFP" />Corus</button><button class='system-button' data-system="DaRiln" onclick="document.location.href='DaRiln.html'"><img src="Images/Factions/Unknown.png" class="button-icon" alt="Unknown" />DaRiln</button><button class='system-button' data-system="Danae" onclick="document.location.href='Danae.html'"><img src="Images/Factions/USFP.png" class="button-icon" alt="USFP" />Danae</button><button class='system-button' data-system="Eulis" onclick="document.location.href='Eulis.html'"><img src="Images/Factions/Unknown.png" class="button-icon" alt="Unknown" />Eulis</button><button class='system-button' data-system="Euphini" onclick="document.location.href='Euphini.html'"><img src="Images/Factions/Unknown.png" class="button-icon" alt="Unknown" />Euphini</button><button class='system-button' data-system="Freya" onclick="document.location.href='Freya.html'"><img src="Images/Factions/USFP.png" class="button-icon" alt="USFP" />Freya</button><button class='system-button' data-system="GeTorin" onclick="document.location.href='GeTorin.html'"><img src="Images/Factions/Unknown.png" class="button-icon" alt="Unknown" />GeTorin</button><button class='system-button' data-system="Helios" onclick="document.location.href='Helios.html'"><img src="Images/Factions/USFP.png" class="button-icon" alt="USFP" />Helios</button><button class='system-button' data-system="Hjorden" onclick="document.location.href='Hjorden.html'"><img src="Images/Factions/Hjorden.png" class="button-icon" alt="Hjorden" />Hjorden</button><button class='system-button' data-system="Hypherion" onclick="document.location.href='Hypherion.html'"><img src="Images/Factions/USFP.png" class="button-icon" alt="USFP" />Hypherion</button><button class='system-button' data-system="Khoros" onclick="document.location.href='Khoros.html'"><img src="Images/Factions/Unknown.png" class="button-icon" alt="Unknown" />Khoros</button><button class='system-button' data-system="Krisenda" onclick="document.location.href='Krisenda.html'"><img src="Images/Factions/USFP.png" class="button-icon" alt="USFP" />Krisenda</button><button class='system-button' data-system="Mria" onclick="document.location.href='Mria.html'"><img src="Images/Factions/USFP.png" class="button-icon" alt="USFP" />Mria</button><button class='system-button' data-system="Norayne" onclick="document.location.href='Norayne.html'"><img src="Images/Factions/Torgoth.png" class="button-icon" alt="Torgoth" />Norayne</button><button class='system-button' data-system="Oberon" onclick="document.location.href='Oberon.html'"><img src="Images/Factions/USFP.png" class="button-icon" alt="USFP" />Oberon</button><button class='system-button' data-system="Phinmor" onclick="document.location.href='Phinmor.html'"><img src="Images/Factions/USFP.png" class="button-icon" alt="USFP" />Phinmor</button><button class='system-button' data-system="Poseidon" onclick="document.location.href='Poseidon.html'"><img src="Images/Factions/Unknown.png" class="button-icon" alt="Unknown" />Poseidon</button><button class='system-button' data-system="Promethean" onclick="document.location.href='Promethean.html'"><img src="Images/Factions/USFP.png" class="button-icon" alt="USFP" />Promethean</button><button class='system-button' data-system="Reema" onclick="document.location.href='Reema.html'"><img src="Images/Factions/USFP.png" class="button-icon" alt="USFP" />Reema</button><button class='system-button' data-system="Rhea" onclick="document.location.href='Rhea.html'"><img src="Images/Factions/USFP.png" class="button-icon" alt="USFP" />Rhea</button><button class='system-button' data-system="Sumri" onclick="document.location.href='Sumri.html'"><img src="Images/Factions/Unknown.png" class="button-icon" alt="Unknown" />Sumri</button><button class='system-button' data-system="Tethys" onclick="document.location.href='Tethys.html'"><img src="Images/Factions/USFP.png" class="button-icon" alt="USFP" />Tethys</button><button class='system-button' data-system="Tilminra" onclick="document.location.href='Tilminra.html'"><img src="Images/Factions/Unknown.png" class="button-icon" alt="Unknown" />Tilminra</button><button class='system-button' data-system="Tiridian" onclick="document.location.href='Tiridian.html'"><img src="Images/Factions/USFP.png" class="button-icon" alt="USFP" />Tiridian</button><button class='system-button' data-system="Titan" onclick="document.location.href='Titan.html'"><img src="Images/Factions/USFP.png" class="button-icon" alt="USFP" />Titan</button><button class='system-button' data-system="Triton" onclick="document.location.href='Triton.html'"><img src="Images/Factions/USFP.png" class="button-icon" alt="USFP" />Triton</button><button class='system-button' data-system="Tyr" onclick="document.location.href='Tyr.html'"><img src="Images/Factions/USFP.png" class="button-icon" alt="USFP" />Tyr</button><button class='system-button' data-system="Vesper Point" onclick="document.location.href='Vesper%20Point.html'"><img src="Images/Factions/USFP.png" class="button-icon" alt="USFP" />Vesper Point</button><button class='system-button' data-system="Vilnara" onclick="document.location.href='Vilnara.html'"><img src="Images/Factions/USFP.png" class="button-icon" alt="USFP" />Vilnara</button><button class='system-button' data-system="Waypoint 33" onclick="document.location.href='Waypoint%2033.html'"><img src="Images/Factions/USFP.png" class="button-icon" alt="USFP" />Waypoint 33</button><button class='system-button' data-system="Waypoint 46" onclick="document.location.href='Waypoint%2046.html'"><img src="Images/Factions/USFP.png" class="button-icon" alt="USFP" />Waypoint 46</button><button class='system-button' data-system="Waypoint 52" onclick="document.location.href='Waypoint%2052.html'"><img src="Images/Factions/USFP.png" class="button-icon" alt="USFP" />Waypoint 52</button><button class='system-button' data-system="Waypoint 60" onclick="document.location.href='Waypoint%2060.html'"><img src="Images/Factions/USFP.png" class="button-icon" alt="USFP" />Waypoint 60</button><button class='system-button' data-system="Waypoint 89" onclick="document.location.href='Waypoint%2089.html'"><img src="Images/Factions/USFP.png" class="button-icon" alt="USFP" />Waypoint 89</button>
  </div>
  <div id="maparea">
    <div class="map-container" id="map">
      <svg width="100%" height="100%">
        <defs>
          <marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="4" markerHeight="4" orient="auto-start-reverse">
            <path d="M0,0 L10,5 L0,10 Z" fill="white" />
          </marker>
        </defs>
        <line x1="2289.5243733394086" y1="2429.7406536630024" x2="2356.4546449427717" y2="3043.322482685854" stroke="white" stroke-width="6" opacity="0.5" /><line x1="2289.5243733394086" y1="2429.7406536630024" x2="2311.834463873863" y2="2634.267930003953" stroke="white" stroke-width="12" marker-end="url(#arrow)" class="jump-arrow jump-from-AlMare" /><line x1="2289.5243733394086" y1="2429.7406536630024" x2="1885.8226118472026" y2="2182.154013519131" stroke="white" stroke-width="6" opacity="0.5" /><line x1="2289.5243733394086" y1="2429.7406536630024" x2="2154.9571195086733" y2="2347.2117736150453" stroke="white" stroke-width="12" marker-end="url(#arrow)" class="jump-arrow jump-from-AlMare" /><line x1="1800.14359911277" y1="3285.2766050023793" x2="1813.4578164845316" y2="2712.7652580166564" stroke="white" stroke-width="6" opacity="0.5" /><line x1="1800.14359911277" y1="3285.2766050023793" x2="1804.581671570024" y2="3094.4394893404715" stroke="white" stroke-width="12" marker-end="url(#arrow)" class="jump-arrow jump-from-Blackspire" /><line x1="1800.14359911277" y1="3285.2766050023793" x2="1247.856623749973" y2="3249.246459501426" stroke="white" stroke-width="6" opacity="0.5" /><line x1="1800.14359911277" y1="3285.2766050023793" x2="1616.0479406585043" y2="3273.2665565020616" stroke="white" stroke-width="12" marker-end="url(#arrow)" class="jump-arrow jump-from-Blackspire" /><line x1="1813.4578164845316" y1="2712.7652580166564" x2="1885.8226118472026" y2="2182.154013519131" stroke="white" stroke-width="6" opacity="0.5" /><line x1="1813.4578164845316" y1="2712.7652580166564" x2="1837.5794149387552" y2="2535.8948431841477" stroke="white" stroke-width="12" marker-end="url(#arrow)" class="jump-arrow jump-from-Brightfall" /><line x1="1813.4578164845316" y1="2712.7652580166564" x2="1800.14359911277" y2="3285.2766050023793" stroke="white" stroke-width="6" opacity="0.5" /><line x1="1813.4578164845316" y1="2712.7652580166564" x2="1809.0197440272777" y2="2903.602373678564" stroke="white" stroke-width="12" marker-end="url(#arrow)" class="jump-arrow jump-from-Brightfall" /><line x1="4210.106998558152" y1="3560.8158094555374" x2="4754.679361466148" y2="3451.6888437972" stroke="white" stroke-width="6" opacity="0.5" /><line x1="4210.106998558152" y1="3560.8158094555374" x2="4391.631119527484" y2="3524.4401542360915" stroke="white" stroke-width="12" marker-end="url(#arrow)" class="jump-arrow jump-from-Corus" /><line x1="4210.106998558152" y1="3560.8158094555374" x2="3738.6377099414913" y2="3464.0158260246" stroke="white" stroke-width="6" opacity="0.5" /><line x1="4210.106998558152" y1="3560.8158094555374" x2="4052.950569019265" y2="3528.5491483118917" stroke="white" stroke-width="12" marker-end="url(#arrow)" class="jump-arrow jump-from-Corus" /><line x1="4210.106998558152" y1="3560.8158094555374" x2="4243.097685186831" y2="3142.8904982203644" stroke="white" stroke-width="6" opacity="0.5" /><line x1="4210.106998558152" y1="3560.8158094555374" x2="4221.103894101045" y2="3421.5073723771466" stroke="white" stroke-width="12" marker-end="url(#arrow)" class="jump-arrow jump-from-Corus" /><line x1="1475.7351251388518" y1="2220.0819320657056" x2="1885.8226118472026" y2="2182.154013519131" stroke="white" stroke-width="6" opacity="0.5" /><line x1="1475.7351251388518" y1="2220.0819320657056" x2="1612.4309540416355" y2="2207.4392925501807" stroke="white" stroke-width="12" marker-end="url(#arrow)" class="jump-arrow jump-from-Danae" /><line x1="4754.679361466148" y1="3451.6888437972" x2="4210.106998558152" y2="3560.8158094555374" stroke="white" stroke-width="6" opacity="0.5" /><line x1="4754.679361466148" y1="3451.6888437972" x2="4573.155240496816" y2="3488.064499016646" stroke="white" stroke-width="12" marker-end="url(#arrow)" class="jump-arrow jump-from-Freya" /><line x1="4754.679361466148" y1="3451.6888437972" x2="5348.242721597296" y2="3025.824493620772" stroke="white" stroke-width="6" opacity="0.5" /><line x1="4754.679361466148" y1="3451.6888437972" x2="4952.533814843197" y2="3309.7340604050573" stroke="white" stroke-width="12" marker-end="url(#arrow)" class="jump-arrow jump-from-Freya" /><line x1="3738.6377099414913" y1="3464.0158260246" x2="4210.106998558152" y2="3560.8158094555374" stroke="white" stroke-width="6" opacity="0.5" /><line x1="3738.6377099414913" y1="3464.0158260246" x2="3895.794139480378" y2="3496.2824871682456" stroke="white" stroke-width="12" marker-end="url(#arrow)" class="jump-arrow jump-from-Hypherion" /><line x1="3738.6377099414913" y1="3464.0158260246" x2="4243.097685186831" y2="3142.8904982203644" stroke="white" stroke-width="6" opacity="0.5" /><line x1="3738.6377099414913" y1="3464.0158260246" x2="3906.791035023271" y2="3356.9740500898547" stroke="white" stroke-width="12" marker-end="url(#arrow)" class="jump-arrow jump-from-Hypherion" /><line x1="4243.097685186831" y1="3142.8904982203644" x2="4345.508465397147" y2="2528.2460339950057" stroke="white" stroke-width="6" opacity="0.5" /><line x1="4243.097685186831" y1="3142.8904982203644" x2="4277.234611923603" y2="2938.0090101452447" stroke="white" stroke-width="12" marker-end="url(#arrow)" class="jump-arrow jump-from-Oberon" /><line x1="4243.097685186831" y1="3142.8904982203644" x2="4210.106998558152" y2="3560.8158094555374" stroke="white" stroke-width="6" opacity="0.5" /><line x1="4243.097685186831" y1="3142.8904982203644" x2="4232.100789643938" y2="3282.1989352987553" stroke="white" stroke-width="12" marker-end="url(#arrow)" class="jump-arrow jump-from-Oberon" /><line x1="4243.097685186831" y1="3142.8904982203644" x2="3738.6377099414913" y2="3464.0158260246" stroke="white" stroke-width="6" opacity="0.5" /><line x1="4243.097685186831" y1="3142.8904982203644" x2="4074.944360105051" y2="3249.9322741551096" stroke="white" stroke-width="12" marker-end="url(#arrow)" class="jump-arrow jump-from-Oberon" /><line x1="2356.4546449427717" y1="3043.322482685854" x2="2289.5243733394086" y2="2429.7406536630024" stroke="white" stroke-width="6" opacity="0.5" /><line x1="2356.4546449427717" y1="3043.322482685854" x2="2334.144554408317" y2="2838.7952063449034" stroke="white" stroke-width="12" marker-end="url(#arrow)" class="jump-arrow jump-from-Tiridian" /><line x1="1247.856623749973" y1="3249.246459501426" x2="1800.14359911277" y2="3285.2766050023793" stroke="white" stroke-width="6" opacity="0.5" /><line x1="1247.856623749973" y1="3249.246459501426" x2="1431.9522822042388" y2="3261.256508001744" stroke="white" stroke-width="12" marker-end="url(#arrow)" class="jump-arrow jump-from-Vesper-Point" /><line x1="1247.856623749973" y1="3249.246459501426" x2="1475.7351251388518" y2="2220.0819320657056" stroke="white" stroke-width="6" opacity="0.5" /><line x1="1247.856623749973" y1="3249.246459501426" x2="1323.8161242129327" y2="2906.191617022853" stroke="white" stroke-width="12" marker-end="url(#arrow)" class="jump-arrow jump-from-Vesper-Point" /><line x1="5348.242721597296" y1="3025.824493620772" x2="4754.679361466148" y2="3451.6888437972" stroke="white" stroke-width="6" opacity="0.5" /><line x1="5348.242721597296" y1="3025.824493620772" x2="5150.388268220247" y2="3167.779277012915" stroke="white" stroke-width="12" marker-end="url(#arrow)" class="jump-arrow jump-from-Vilnara" /><line x1="1885.8226118472026" y1="2182.154013519131" x2="1475.7351251388518" y2="2220.0819320657056" stroke="white" stroke-width="6" opacity="0.5" /><line x1="1885.8226118472026" y1="2182.154013519131" x2="1749.126782944419" y2="2194.7966530346557" stroke="white" stroke-width="12" marker-end="url(#arrow)" class="jump-arrow jump-from-Waypoint-60" /><line x1="1885.8226118472026" y1="2182.154013519131" x2="1813.4578164845316" y2="2712.7652580166564" stroke="white" stroke-width="6" opacity="0.5" /><line x1="1885.8226118472026" y1="2182.154013519131" x2="1861.701013392979" y2="2359.0244283516395" stroke="white" stroke-width="12" marker-end="url(#arrow)" class="jump-arrow jump-from-Waypoint-60" /><line x1="1885.8226118472026" y1="2182.154013519131" x2="2289.5243733394086" y2="2429.7406536630024" stroke="white" stroke-width="6" opacity="0.5" /><line x1="1885.8226118472026" y1="2182.154013519131" x2="2020.389865677938" y2="2264.682893567088" stroke="white" stroke-width="12" marker-end="url(#arrow)" class="jump-arrow jump-from-Waypoint-60" /><polyline points="3746.6356184459964,1198.044795380309 3922.820475870219,1966.5417287307184 4364.093783599396,2021.7008921968657 4802.122434654095,1182.957141843981 5537.199404257368,888.0178501338172 6768.871077889689,609.626307463498 7616.699866931116,-1.991475675839638" stroke="Red" stroke-width="6" fill="none"><title></title></polyline><polyline points="1583.5559326935863,3870.6632735145076 1258.1003978022618,2196.8217476252653 1394.7469206297237,1676.749160744625 1786.3309860457352,1256.612090558696 2248.2728265278156,1148.4188522701652 2842.7921625326826,1191.3480796560275 3313.9167412363213,1733.85517028446 3719.7773090372916,1952.081706740258 4713.013974962279,2088.7282295677205 5114.991916302975,1853.882919571931 5852.3053603498065,1738.1165261080173 6976.720997795924,1532.6728473354106 16084.391426214837,647.2048890169051" stroke="white" stroke-width="24" fill="none"><title></title></polyline><polyline points="-484.45395974867824,2097.476871669054 392.4690306824732,1796.9927700527853 1140.6131204209382,1882.8453705145764 1333.5456126674912,1625.2875691292033 1762.8086149764467,1163.0043358734051 2206.223144834049,1030.9234120860342 1649.5963945872718,-124.7846710534609 295.7669257667203,-176.67360539849938 -336.3346380728399,351.6500897509841 -336.3346380728399,351.6500897509841 -336.3346380728399,351.6500897509841" stroke="Purple" stroke-width="24" fill="none"><title>Hijorden</title></polyline><polyline points="5333.710733085009,2578.157090738093 5300.690502138166,2549.8540356407993" stroke="white" stroke-width="2" fill="none"><title></title></polyline><text data-base-size="28" x="5874.3658630015425" y="1346.5644260738484" fill="Orange" font-size="28"><tspan x="5874.3658630015425" dy="0em">League of Traders</tspan><tspan x="5874.3658630015425" dy="1.2em">Dictaorship</tspan></text><text data-base-size="38" x="3742.602851371491" y="1054.7396306949354" fill="Red" font-size="38"><tspan x="3742.602851371491" dy="0em">Hegemony Space</tspan></text><text data-base-size="24" x="2421.0488212102114" y="2322.1992766504222" fill="#ADD8E6" font-size="24"><tspan x="2421.0488212102114" dy="0em">Lower Arc</tspan></text><text data-base-size="24" x="5316.046691492537" y="2560.4560385857703" fill="#ADD8E6" font-size="24"><tspan x="5316.046691492537" dy="0em">Upper Arc</tspan></text><text data-base-size="24" x="721.9957099175153" y="2738.6688064315426" fill="white" font-size="24"><tspan x="721.9957099175153" dy="0em">Long Bar</tspan><tspan x="721.9957099175153" dy="1.2em">Region</tspan></text><text data-base-size="12" x="91.98492906620504" y="760.6292359068789" fill="Purple" font-size="12"><tspan x="91.98492906620504" dy="0em">Hijordan Democratic</tspan><tspan x="91.98492906620504" dy="1.2em">Monarchy</tspan></text>
      </svg>
      <a href="Acantha.html" class="system" data-system="Acantha" style="left:4971.543723442945px;top:1827.0667156635245px;"><div class="icon"><img src="Images/Factions/Unknown.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Acantha</div></a><a href="Acturus.html" class="system" data-system="Acturus" style="left:453.7923167266099px;top:165.79336127875558px;"><div class="icon"><img src="Images/Factions/Hjorden.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Acturus</div></a><a href="AlMare.html" class="system" data-system="AlMare" style="left:2289.5243733394086px;top:2429.7406536630024px;"><div class="icon"><img src="Images/Factions/USFP.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">AlMare</div></a><a href="Alpha.html" class="system" data-system="Alpha" style="left:7840.129142599951px;top:1212.9901809839491px;"><div class="icon"><img src="Images/Factions/Ximni.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Alpha</div></a><a href="Antara.html" class="system" data-system="Antara" style="left:1539.214479707825px;top:423.3511626641284px;"><div class="icon"><img src="Images/Factions/Hjorden.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Antara</div></a><a href="Arrin.html" class="system" data-system="Arrin" style="left:0.0px;top:1502.6409970409304px;"><div class="icon"><img src="Images/Factions/Hjorden.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Arrin</div></a><a href="Ashia.html" class="system" data-system="Ashia" style="left:5297.727141939858px;top:2076.131596060934px;"><div class="icon"><img src="Images/Factions/USFP.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Ashia</div></a><a href="Athorn.html" class="system" data-system="Athorn" style="left:7145.996945795067px;top:1120.1719904124666px;"><div class="icon"><img src="Images/Factions/Unknown.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Athorn</div></a><a href="Atietis.html" class="system" data-system="Atietis" style="left:3231.6399339506315px;top:1927.1106360714914px;"><div class="icon"><img src="Images/Factions/USFP.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Atietis</div></a><a href="Atlantis.html" class="system" data-system="Atlantis" style="left:2304.4847565456503px;top:1879.8785690917862px;"><div class="icon"><img src="Images/Factions/USFP.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Atlantis</div></a><a href="Blackspire.html" class="system" data-system="Blackspire" style="left:1800.14359911277px;top:3285.2766050023793px;"><div class="icon"><img src="Images/Factions/USFP.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Blackspire</div></a><a href="Brightfall.html" class="system" data-system="Brightfall" style="left:1813.4578164845316px;top:2712.7652580166564px;"><div class="icon"><img src="Images/Factions/USFP.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Brightfall</div></a><a href="Burin.html" class="system" data-system="Burin" style="left:7527.515479976304px;top:830.6266742927771px;"><div class="icon"><img src="Images/Factions/Unknown.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Burin</div></a><a href="Castor.html" class="system" data-system="Castor" style="left:7520.029879842838px;top:1818.040021140653px;"><div class="icon"><img src="Images/Factions/USFP.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Castor</div></a><a href="Cerberus.html" class="system" data-system="Cerberus" style="left:1926.880798606298px;top:1439.8878702754996px;"><div class="icon"><img src="Images/Factions/USFP.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Cerberus</div></a><a href="Charon.html" class="system" data-system="Charon" style="left:4125.765693887291px;top:2172.111197410067px;"><div class="icon"><img src="Images/Factions/USFP.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Charon</div></a><a href="Corus.html" class="system" data-system="Corus" style="left:4210.106998558152px;top:3560.8158094555374px;"><div class="icon"><img src="Images/Factions/USFP.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Corus</div></a><a href="Danae.html" class="system" data-system="Danae" style="left:1475.7351251388518px;top:2220.0819320657056px;"><div class="icon"><img src="Images/Factions/USFP.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Danae</div></a><a href="DaRiln.html" class="system" data-system="DaRiln" style="left:7360.601121272012px;top:438.88889366025546px;"><div class="icon"><img src="Images/Factions/Unknown.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">DaRiln</div></a><a href="Eulis.html" class="system" data-system="Eulis" style="left:5916.095113298375px;top:1002.6551925842605px;"><div class="icon"><img src="Images/Factions/Unknown.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Eulis</div></a><a href="Euphini.html" class="system" data-system="Euphini" style="left:716.1748213362425px;top:2251.856916782651px;"><div class="icon"><img src="Images/Factions/Unknown.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Euphini</div></a><a href="Freya.html" class="system" data-system="Freya" style="left:4754.679361466148px;top:3451.6888437972px;"><div class="icon"><img src="Images/Factions/USFP.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Freya</div></a><a href="GeTorin.html" class="system" data-system="GeTorin" style="left:5442.167468501944px;top:1072.0581505438095px;"><div class="icon"><img src="Images/Factions/Unknown.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">GeTorin</div></a><a href="Helios.html" class="system" data-system="Helios" style="left:7045.662945631731px;top:1908.3956276570548px;"><div class="icon"><img src="Images/Factions/USFP.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Helios</div></a><a href="Hjorden.html" class="system" data-system="Hjorden" style="left:861.6451470630136px;top:1263.5028110485698px;"><div class="icon"><img src="Images/Factions/Hjorden.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Hjorden</div></a><a href="Hypherion.html" class="system" data-system="Hypherion" style="left:3738.6377099414913px;top:3464.0158260246px;"><div class="icon"><img src="Images/Factions/USFP.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Hypherion</div></a><a href="Khoros.html" class="system" data-system="Khoros" style="left:6442.610816180644px;top:1072.1458678382478px;"><div class="icon"><img src="Images/Factions/Unknown.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Khoros</div></a><a href="Krisenda.html" class="system" data-system="Krisenda" style="left:1605.0965561884177px;top:1738.687523949246px;"><div class="icon"><img src="Images/Factions/USFP.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Krisenda</div></a><a href="Mria.html" class="system" data-system="Mria" style="left:6371.145802677925px;top:1998.85997335386px;"><div class="icon"><img src="Images/Factions/USFP.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Mria</div></a><a href="Norayne.html" class="system" data-system="Norayne" style="left:4197.5182002520305px;top:1602.4605938635236px;"><div class="icon"><img src="Images/Factions/Torgoth.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Norayne</div></a><a href="Oberon.html" class="system" data-system="Oberon" style="left:4243.097685186831px;top:3142.8904982203644px;"><div class="icon"><img src="Images/Factions/USFP.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Oberon</div></a><a href="Phinmor.html" class="system" data-system="Phinmor" style="left:4865.818935868758px;top:2242.833008930481px;"><div class="icon"><img src="Images/Factions/USFP.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Phinmor</div></a><a href="Poseidon.html" class="system" data-system="Poseidon" style="left:3654.674052150517px;top:1684.935837617699px;"><div class="icon"><img src="Images/Factions/Unknown.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Poseidon</div></a><a href="Promethean.html" class="system" data-system="Promethean" style="left:2373.4385227780526px;top:1367.6505913653625px;"><div class="icon"><img src="Images/Factions/USFP.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Promethean</div></a><a href="Reema.html" class="system" data-system="Reema" style="left:5701.851779199364px;top:2025.6160164034961px;"><div class="icon"><img src="Images/Factions/USFP.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Reema</div></a><a href="Rhea.html" class="system" data-system="Rhea" style="left:3169.054692148172px;top:3183.1947319028095px;"><div class="icon"><img src="Images/Factions/USFP.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Rhea</div></a><a href="Sumri.html" class="system" data-system="Sumri" style="left:5434.087036234675px;top:1593.339455872063px;"><div class="icon"><img src="Images/Factions/Unknown.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Sumri</div></a><a href="Tethys.html" class="system" data-system="Tethys" style="left:4002.0972306343715px;top:2930.0425654657706px;"><div class="icon"><img src="Images/Factions/USFP.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Tethys</div></a><a href="Tilminra.html" class="system" data-system="Tilminra" style="left:5058.842681652801px;top:1434.9023768152676px;"><div class="icon"><img src="Images/Factions/Unknown.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Tilminra</div></a><a href="Tiridian.html" class="system" data-system="Tiridian" style="left:2356.4546449427717px;top:3043.322482685854px;"><div class="icon"><img src="Images/Factions/USFP.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Tiridian</div></a><a href="Titan.html" class="system" data-system="Titan" style="left:2620.5949530428297px;top:2883.4659148866713px;"><div class="icon"><img src="Images/Factions/USFP.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Titan</div></a><a href="Triton.html" class="system" data-system="Triton" style="left:3784.785531199581px;top:2073.605817078062px;"><div class="icon"><img src="Images/Factions/USFP.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Triton</div></a><a href="Tyr.html" class="system" data-system="Tyr" style="left:5027.468790772561px;top:2793.4528271965573px;"><div class="icon"><img src="Images/Factions/USFP.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Tyr</div></a><a href="Vesper%20Point.html" class="system" data-system="Vesper Point" style="left:1247.856623749973px;top:3249.246459501426px;"><div class="icon"><img src="Images/Factions/USFP.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Vesper Point</div></a><a href="Vilnara.html" class="system" data-system="Vilnara" style="left:5348.242721597296px;top:3025.824493620772px;"><div class="icon"><img src="Images/Factions/USFP.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Vilnara</div></a><a href="Waypoint%2033.html" class="system" data-system="Waypoint 33" style="left:3509.2729734201007px;top:3699.5235392204318px;"><div class="icon"><img src="Images/Factions/USFP.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Waypoint 33</div></a><a href="Waypoint%2046.html" class="system" data-system="Waypoint 46" style="left:4345.508465397147px;top:2528.2460339950057px;"><div class="icon"><img src="Images/Factions/USFP.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Waypoint 46</div></a><a href="Waypoint%2052.html" class="system" data-system="Waypoint 52" style="left:2852.464319040152px;top:1826.110058262815px;"><div class="icon"><img src="Images/Factions/USFP.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Waypoint 52</div></a><a href="Waypoint%2060.html" class="system" data-system="Waypoint 60" style="left:1885.8226118472026px;top:2182.154013519131px;"><div class="icon"><img src="Images/Factions/USFP.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Waypoint 60</div></a><a href="Waypoint%2089.html" class="system" data-system="Waypoint 89" style="left:3694.4561892531083px;top:2526.732376864815px;"><div class="icon"><img src="Images/Factions/USFP.png" class="alignment-img" /><img src="Images/ring.png" class="tint-img" /></div><div class="system-name">Waypoint 89</div></a>
    </div>
  </div>
  <div id="info">
    <img src="Images/compass.png" alt="Compass" />
    <button onclick="resetZoom()" class="system-button" style="background-color:#222;width:100%;font-size:16pt;">Home</button>
    <div id="system-details">
      <p>Select a system to view metadata.</p>
    </div>
  </div>
  <script>
  
    const map     = document.getElementById('map');
    const maparea = document.getElementById('maparea');
    let scale = Math.min(maparea.clientWidth/map.clientWidth, maparea.clientHeight/map.clientHeight);
    let panX = 0, panY = 0;
    // Initial center of Y (from Python)
    const INITIAL_CENTER_PY = 1849.7617696102159;
    // Pan bounds
    let PANX_MIN, PANX_MAX, PANY_MIN, PANY_MAX;    
    PANX_MIN = -8041.742217024329;
    PANX_MAX = 41.7422170243293;
    PANY_MIN = -2941.265756244761;
    PANY_MAX = 41.7422170243293;

    // Parsed system metadata
    const systemMeta = {"Acantha": {"alignment": "Unknown", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {"pirate": "Low", "enemy": "Low", "assets": []}, "description": ""}, "Acturus": {"alignment": "Hjorden", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}, "AlMare": {"alignment": "USFP", "development": "Colony", "focus": "Military", "exports": "None", "intel": {"pirate": "Low", "enemy": "None", "assets": ["Armory", "Fortification"]}, "description": ""}, "Alpha": {"alignment": "Ximni", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}, "Antara": {"alignment": "Hjorden", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}, "Arrin": {"alignment": "Hjorden", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}, "Ashia": {"alignment": "USFP", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}, "Athorn": {"alignment": "Unknown", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {"pirate": "Low", "enemy": "Low", "assets": []}, "description": ""}, "Atietis": {"alignment": "USFP", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}, "Atlantis": {"alignment": "USFP", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}, "Blackspire": {"alignment": "USFP", "development": "Outpost", "focus": "Research", "exports": "Mining, Research", "intel": {"pirate": "Low", "enemy": "Low", "assets": []}, "description": "Black Spire is an unusual Sytem that has 3 Black holes. Other then that the system bearly quilifes as an outpost, some mineing. The Ashes explorioty Gate has recently come online provideing a basis for the primary exploration of Vesper Point."}, "Brightfall": {"alignment": "USFP", "development": "Outpost", "focus": "Industry", "exports": "Mining, Industry", "intel": {"pirate": "High", "enemy": "Low", "assets": []}, "description": "Brightfall has 4 seperate govenments each consiting of two Civil class stations and an industrial facility. unforunetlyt the govenments do not get along with each other and disputes are frequent between them. The single jump point means that a lot of trade simply bypasses the system. Piracy is rife in Brightfall due to the conflicted nature of the area. blockades of the jump point are not unheard of."}, "Burin": {"alignment": "Unknown", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}, "Castor": {"alignment": "USFP", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}, "Cerberus": {"alignment": "USFP", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}, "Charon": {"alignment": "USFP", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}, "Corus": {"alignment": "USFP", "development": "Colony", "focus": "Agriculture", "exports": "Agriculture", "intel": {"pirate": "Low", "enemy": "Low", "assets": ["Shipyard"]}, "description": "Corus is home to the planet Corus (not implimented yet) and has a number of obiting stations. notably it is the HQ system for the Corus Cargo Co. Fort Grey is a TSN Marine training facility. Corus is an abundant farming world and is noted for haveing an extensive railway network."}, "Danae": {"alignment": "USFP", "development": "Colony", "focus": "Agriculture", "exports": "Agriculture, Research", "intel": {"pirate": "Low", "enemy": "None", "assets": []}, "description": "Danae is one of the newer colonies in the USFP, only just achiving Colony Status in XXXX. Its econmoy is mainly focused on Agriculture however the Long Bar Exploritory Gate is present here takeing advantage of strong jump point that allows access to the Euphine Expanse and beyond."}, "DaRiln": {"alignment": "Unknown", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}, "Eulis": {"alignment": "Unknown", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}, "Euphini": {"alignment": "Unknown", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}, "Freya": {"alignment": "USFP", "development": "Outpost", "focus": "Research", "exports": "Mining, Research", "intel": {"pirate": "Low", "enemy": "Low", "assets": ["Shipyard"]}, "description": "System discovered in 2355. Principally a Research system with light industry and a rear storage armory"}, "GeTorin": {"alignment": "Unknown", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}, "Helios": {"alignment": "USFP", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}, "Hjorden": {"alignment": "Hjorden", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}, "Hypherion": {"alignment": "USFP", "development": "Administrative Center", "focus": "Agriculture", "exports": "Agriculture, Industry", "intel": {"pirate": "Low", "enemy": "Low", "assets": ["Armory", "Shipyard"]}, "description": "This is a well established system a joint venture by Terra and the AlMare Union. Contains a significant Shipyard complex and an Armory point though lacks in TSN Facilitys otherwise."}, "Khoros": {"alignment": "Unknown", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}, "Krisenda": {"alignment": "USFP", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}, "Mria": {"alignment": "USFP", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}, "Norayne": {"alignment": "Torgoth", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}, "Oberon": {"alignment": "USFP", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}, "Phinmor": {"alignment": "USFP", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}, "Poseidon": {"alignment": "Unknown", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}, "Promethean": {"alignment": "USFP", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}, "Reema": {"alignment": "USFP", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}, "Rhea": {"alignment": "USFP", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}, "Sumri": {"alignment": "Unknown", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}, "Tethys": {"alignment": "USFP", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}, "Tilminra": {"alignment": "Unknown", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}, "Tiridian": {"alignment": "USFP", "development": "Outpost", "focus": "", "exports": "None", "intel": {"pirate": "Mid", "enemy": "Low", "assets": ["Shipyard"]}, "description": ""}, "Titan": {"alignment": "USFP", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}, "Triton": {"alignment": "USFP", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}, "Tyr": {"alignment": "USFP", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {"pirate": "Low", "enemy": "Low", "assets": []}, "description": ""}, "Vesper Point": {"alignment": "USFP", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {"pirate": "Mid", "enemy": "Mid", "assets": []}, "description": "Vesper Point is a recently opened system undergoing a primary survey. the USFP have made claim to this system."}, "Vilnara": {"alignment": "USFP", "development": "Unclaimed", "focus": "Military", "exports": "None", "intel": {"pirate": "Low", "enemy": "Low", "assets": ["Shipyard"]}, "description": ""}, "Waypoint 33": {"alignment": "USFP", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}, "Waypoint 46": {"alignment": "USFP", "development": "Uninhabited", "focus": "", "exports": "None", "intel": {"pirate": "Mid", "enemy": "Low", "assets": []}, "description": "Waypoint System - Standard Search and Rescue station"}, "Waypoint 52": {"alignment": "USFP", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}, "Waypoint 60": {"alignment": "USFP", "development": "Uninhabited", "focus": "", "exports": "None", "intel": {"pirate": "Mid", "enemy": "Low", "assets": []}, "description": "Waypoint system Standard S & R outpost pluse a minor comertical venture. as such the uninhabited Development status of the Waypoint 60 is streaching a point. rather to say that there is no recognised USFP member claim on the system."}, "Waypoint 89": {"alignment": "USFP", "development": "Unclaimed", "focus": "", "exports": "None", "intel": {}, "description": ""}};

    // Recompute pan bounds based on current scale & viewport
    function updatePanBounds() {
      const mapW = map.clientWidth * scale;
      const mapH = map.clientHeight * scale;
      const margin = 400 * scale;  // 400px “buffer” at this zoom
      PANX_MIN = maparea.clientWidth - mapW - margin;
      PANX_MAX = margin;
      PANY_MIN = maparea.clientHeight - mapH - margin;
      PANY_MAX = margin;
      console.log(`Bounds → X:[${PANX_MIN.toFixed(0)},${PANX_MAX.toFixed(0)}] Y:[${PANY_MIN.toFixed(0)},${PANY_MAX.toFixed(0)}]`);
    }

    // Initial bounds calculation
    updatePanBounds();
    let isPanning = false, startX = 0, startY = 0;

    function applyTransform() { 
      // Clamp panning to within 400px margin
      panX = Math.min(PANX_MAX, Math.max(PANX_MIN, panX));
      panY = Math.min(PANY_MAX, Math.max(PANY_MIN, panY));
      map.style.transform = `translate(${panX}px,${panY}px) scale(${scale})`;
     
      // Dynamic label resizing with enforced min/max font sizes
      document.querySelectorAll('.system-name').forEach(label => {
      const minSize = 70;
      const maxSize = 90;
      // interpolate size based on zoom—use (scale - 1) so baseSize at scale=1
      let newSize = minSize + (scale - 1) * (maxSize - minSize);
      newSize = Math.max(minSize, Math.min(maxSize, newSize));
      label.style.setProperty('font-size', `${newSize}px`, 'important');
      // shift label upward by half the extra height
      const offset = (newSize - minSize) / 2;
      label.style.transform = `translateY(-${offset}px)`;
      const halfWidth = label.offsetWidth / 2;
      label.style.marginLeft = `-${halfWidth}px`;
      });
      // Icon scaling: keep icons a consistent on-screen size
      
      document.querySelectorAll('.icon').forEach(icon => {
        // dynamic icon scaling: shrink when zooming out, grow up to a max when zooming in
        const iconGrowFactor = 0.9; // max 20% growth
        let iconScale = scale > 1
          ? Math.min(scale, 1 + iconGrowFactor)
          : 1 / scale;
        icon.style.transform = `scale(${iconScale})`;
      });
      // Keep free‐floating text at least 24px on‐screen:
      document.querySelectorAll('svg text[data-base-size]').forEach(el => {
        const baseSize   = parseFloat(el.getAttribute('data-base-size'));
        const screenSize = Math.max(32, baseSize * scale);
        // undo the map’s scale so font renders at `screenSize` px exactly
        const attrSize   = screenSize / scale;
        el.setAttribute('font-size', attrSize);
      }); 
      
      
    }

    maparea.addEventListener('mousedown', e => {
      e.preventDefault(); isPanning = true; startX = e.clientX - panX; startY = e.clientY - panY; maparea.style.cursor = 'grabbing';
    });

    document.addEventListener('mouseup', () => { if (!isPanning) return; isPanning = false; maparea.style.cursor = 'grab'; });
    document.addEventListener('mousemove', e => {
      if (!isPanning) return;
      panX = e.clientX - startX;
      panY = e.clientY - startY;
      applyTransform();
    });
    
     maparea.addEventListener('wheel', e => { e.preventDefault();
       const rect = maparea.getBoundingClientRect();
       const mx = e.clientX - rect.left, my = e.clientY - rect.top;
       const prev = scale;
       scale *= e.deltaY > 0 ? 0.9 : 1.1;
       const minS = Math.min(maparea.clientWidth / map.clientWidth, maparea.clientHeight / map.clientHeight);
       const maxS = Math.min(maparea.clientWidth / 500, maparea.clientHeight / 500);
       scale = Math.max(minS, Math.min(scale, maxS));
       const factor = scale / prev;
       panX -= (mx - panX) * (factor - 1);
       panY -= (my - panY) * (factor - 1);

       // recalc bounds now that scale has changed
       updatePanBounds();
       applyTransform();
    });

    function resetZoom() {
       scale = Math.min(maparea.clientWidth / map.clientWidth, maparea.clientHeight / map.clientHeight);
       panX = (maparea.clientWidth - map.clientWidth * scale) / 2;
       panY = (maparea.clientHeight - map.clientHeight * scale) / 2;
       updatePanBounds();   // make sure bounds reflect the new scale
       applyTransform();
    }

    // Center map on load and on resize
    window.addEventListener('load', resetZoom);
    window.addEventListener('resize', resetZoom);
    resetZoom();
    
    document.querySelectorAll('.system').forEach(el => {
      const sys = el.getAttribute('data-system').replace(/ /g, '-');
      el.addEventListener('mouseenter', () => {
        // animate arrows and display metadata on hover
        document.querySelectorAll(`.jump-from-${sys}`).forEach(line =>
          line.classList.add('jump-arrow-active')
        );
        const name = el.getAttribute('data-system');
        const m = systemMeta[name] || {};
        document.getElementById('system-details').innerHTML =
          `<h3>${name}</h3>` +
          `<p>Alignment: ${m.alignment}</p>` +
          `<p>Development Level: ${m.development}</p>` +
          `<p>System Focus: ${m.focus}</p>` +
          `<p>Exports: ${m.exports}</p>` +
          `<p>Intel: ${JSON.stringify(m.intel)}</p>` +
          `<p>${m.description}</p>`;
      });
      el.addEventListener('mouseleave', () => {
        document.querySelectorAll(`.jump-from-${sys}`).forEach(line =>
          line.classList.remove('jump-arrow-active')
        );
      });
    });
  
  // system search filter
  const searchInput = document.getElementById('system-search');
  searchInput.addEventListener('input', () => {
    const term = searchInput.value.toLowerCase();
    document.querySelectorAll('.system-button').forEach(btn => {
      const name = btn.getAttribute('data-system').toLowerCase();
      btn.style.display = name.includes(term) ? '' : 'none';
    });
  });
  // sort functionality
  document.querySelectorAll('input[name="sort"]').forEach(radio => {
    radio.addEventListener('change', reorderButtons);
  });
  function reorderButtons() {
    const container = document.getElementById('controls');
    const sortBy = document.querySelector('input[name="sort"]:checked').value;
    const buttons = Array.from(container.querySelectorAll('.system-button'));
    buttons.sort((a, b) => {
      const nameA = a.getAttribute('data-system');
      const nameB = b.getAttribute('data-system');
      if (sortBy === 'name') {
        return nameA.localeCompare(nameB);
      }
      const alignA = systemMeta[nameA].alignment || '';
      const alignB = systemMeta[nameB].alignment || '';
      if (alignA !== alignB) {
        return alignA.localeCompare(alignB);
      }
      return nameA.localeCompare(nameB);
    });
    buttons.forEach(btn => container.appendChild(btn));
  }
  // initialize sort order
  reorderButtons();
  </script>

</body>
</html>