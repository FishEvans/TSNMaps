
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Corus.html</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body { margin: 0; background: black; color: white; display: flex; height: 100vh; }
        #controls { flex: 1; min-width: 200px; max-width: 350px; overflow-y: auto; background: #333; padding: 10px; }
        #plot { flex: 3; min-width: 400px; }
        #info { flex: 1; min-width: 200px; background: #333; padding: 10px; overflow-y: auto; }
        h2.header { margin-top: 0; margin-bottom: 5px; text-align: center; }
        h3.subheader { margin-top: 0; margin-bottom: 15px; text-align: center; color: #ccc; }
        .alignment-image { display: block; max-width: 100%; height: auto; margin: 10px auto; }
        button { display: block; width: 100%; margin-bottom: 5px; background: #555; color: white; border: none; padding: 5px; text-align: left; cursor: pointer; font-size: 20px; }
        button.header { background: #444; cursor: default; font-size: 24px; }
    </style>
</head>
<body>
    <div id="controls">
        <div id="gm-controls" style="margin-bottom:10px;"></div>
        <h2 class="header">Corus</h2>
        <h3 class="subheader">Alignment: USFP</h3>
        <img src="Images/Factions/USFP.png" alt="Alignment Logo" class="alignment-image" onerror="this.style.display='none';">

        <input type="text" id="search-box" placeholder="Search objects..." style="width: 95%; padding: 6px; margin-bottom: 10px; font-size: 16px;">
        <div id="object-buttons">
    </div>
    </div>
    <div id="plot"></div>
    <div id="info">
        <img src="Images/Compass.png" alt="Compass" style="display:block; max-width:100%; height:auto; margin-bottom:10px;">
        <button id="galactic-map-btn" title="Back to Galactic Map">Show Galactic Map</button>
        Select an object
    </div>
<script>
    var objData = {"Maximillion Gate": {"type": "jumpnode", "x": 67856.71874304226, "y": 47712.979521464615, "grid": "O15", "hidden": false, "label": "Maximillion Gate", "destinations": {"Sudan Gate": "Freya"}}, "Vermilion Gate": {"type": "jumpnode", "x": -276309.9479236244, "y": -169787.02047853539, "grid": "D98", "hidden": false, "label": "Vermilion Gate", "destinations": {"Green Fields": "Hypherion", "Aturin Gate": "Oberon"}}, "Corus Gate Control": {"type": "station", "x": -106221.21335572319, "y": -55095.66245384402, "grid": "J06", "hidden": false, "label": "Corus Gate Control", "hull": "starbase_command", "facilities": ["Docking", "Refuel"], "sides": ["USFP"], "hullName": "Command Starbase", "hullImage": "Images/Ships/tsn-big-base256.png", "hullDescription": ""}, "Port Godunk": {"type": "station", "x": 3698.0150393385115, "y": -90587.31368841193, "grid": "H12", "hidden": false, "label": "Port Godunk", "hull": "starbase_civil", "facilities": ["Docking", "Refuel"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "Fort Grey": {"type": "station", "x": -22746.440121841228, "y": -115642.07620555871, "grid": "G10", "hidden": false, "label": "Fort Grey", "description": "TSN Marine Barracks and Training Facility. Minor Supply Station", "hull": "starbase_command", "facilities": ["Docking", "Refuel", "Repair"], "sides": ["TSN"], "hullName": "Command Starbase", "hullImage": "Images/Ships/tsn-big-base256.png", "hullDescription": ""}, "Corus Cargo HQ": {"type": "station", "x": -3635.5004784941893, "y": -153452.32569115545, "grid": "E11", "hidden": false, "label": "Corus Cargo HQ", "hull": "starbase_civil", "facilities": [], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "DW 16": {"type": "station", "x": 62954.69054118342, "y": -142096.8920849234, "grid": "E15", "hidden": false, "label": "DW 16", "hull": "starbase_industry", "facilities": [], "sides": ["USFP"], "hullName": "Industrial Starbase", "hullImage": "Images/Ships/industry_station256.png", "hullDescription": ""}, "CC R&D": {"type": "station", "x": 59459.278328090186, "y": -92768.81231666982, "grid": "H14", "hidden": false, "label": "CC R&D", "hull": "starbase_science", "facilities": ["Docking"], "sides": ["USFP"], "hullName": "Science Starbase", "hullImage": "Images/Ships/science_station256.png", "hullDescription": ""}, "DW SM1": {"type": "station", "x": 50077.92037920183, "y": -142892.8450019173, "grid": "E14", "hidden": false, "label": "DW SM1", "hull": "usfp_industrial_storage", "facilities": [], "sides": ["USFP"], "hullName": "Storage Module", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialStorage256.png", "hullDescription": ""}, "DW SM2": {"type": "station", "x": 59658.22219713855, "y": -131131.23083640554, "grid": "F14", "hidden": false, "label": "DW SM2", "hull": "usfp_industrial_storage", "facilities": [], "sides": ["USFP"], "hullName": "Storage Module", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialStorage256.png", "hullDescription": ""}, "CC SM1": {"type": "station", "x": -4384.504894952938, "y": -142129.36552197658, "grid": "E11", "hidden": false, "label": "CC SM1", "hull": "usfp_industrial_storage", "facilities": [], "sides": ["USFP"], "hullName": "Storage Module", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialStorage256.png", "hullDescription": ""}, "CC SM2": {"type": "station", "x": 8812.594818036776, "y": -151214.0545595304, "grid": "E12", "hidden": false, "label": "CC SM2", "hull": "usfp_industrial_storage", "facilities": [], "sides": ["USFP"], "hullName": "Storage Module", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialStorage256.png", "hullDescription": ""}, "MM Refinery": {"type": "station", "x": -153001.00366322682, "y": -171414.7811948038, "grid": "D04", "hidden": false, "label": "MM Refinery", "hull": "usfp_industrial_refinary", "facilities": [], "sides": ["USFP"], "hullName": "Storage Module", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialRefinary256.png", "hullDescription": ""}, "MM Ops": {"type": "station", "x": -146672.3553310319, "y": -169013.23961433783, "grid": "D04", "hidden": false, "label": "MM Ops", "hull": "starbase_industry", "facilities": ["Docking", "Refuel"], "sides": ["USFP"], "hullName": "Industrial Starbase", "hullImage": "Images/Ships/industry_station256.png", "hullDescription": ""}, "MM Processing": {"type": "station", "x": -151845.9266608261, "y": -166132.5575710261, "grid": "D04", "hidden": false, "label": "MM Processing", "hull": "usfp_industrial_processor", "facilities": [], "sides": ["USFP"], "hullName": "Storage Module", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialProcessor256.png", "hullDescription": ""}, "MM SM1": {"type": "station", "x": -145836.16077944884, "y": -164141.82262281986, "grid": "D04", "hidden": false, "label": "MM SM1", "hull": "usfp_industrial_storage", "facilities": [], "sides": ["USFP"], "hullName": "Storage Module", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialStorage256.png", "hullDescription": ""}, "DS 22": {"type": "station", "x": -243609.66753060967, "y": 35305.93922582394, "grid": "N99", "hidden": false, "label": "DS 22", "hull": "starbase_civil", "facilities": [], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "DS 80": {"type": "station", "x": -267240.0687651776, "y": 35305.93922582394, "grid": "N98", "hidden": false, "label": "DS 80", "hull": "starbase_civil", "facilities": [], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "DS 70": {"type": "station", "x": -255665.9946911035, "y": 70510.41453446592, "grid": "P99", "hidden": false, "label": "DS 70", "hull": "starbase_civil", "facilities": ["Docking"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "RS 15": {"type": "station", "x": -101149.17370344905, "y": 74815.14704475405, "grid": "P06", "hidden": false, "label": "RS 15", "hull": "starbase_science", "facilities": [], "sides": ["USFP"], "hullName": "Science Starbase", "hullImage": "Images/Ships/science_station256.png", "hullDescription": ""}, "SR 30": {"type": "sensor_relay", "x": 56190.05207637561, "y": 40212.97952146462, "grid": "O14", "hidden": false, "label": "SR 30"}, "SR 34": {"type": "sensor_relay", "x": 20541.903928227453, "y": 17620.38692887203, "grid": "M13", "hidden": false, "label": "SR 34"}, "SR 35": {"type": "sensor_relay", "x": -15106.2442199207, "y": -4972.205663720561, "grid": "L11", "hidden": false, "label": "SR 35"}, "SR 43": {"type": "sensor_relay", "x": -50754.392368068846, "y": -27564.79825631316, "grid": "K09", "hidden": false, "label": "SR 43"}, "SR 92": {"type": "sensor_relay", "x": -86402.54051621702, "y": -50157.39084890574, "grid": "J07", "hidden": false, "label": "SR 92"}, "SR 21": {"type": "sensor_relay", "x": -122050.68866436517, "y": -72749.98344149836, "grid": "I05", "hidden": false, "label": "SR 21"}, "SR 96": {"type": "sensor_relay", "x": -157698.8368125133, "y": -95342.57603409095, "grid": "H04", "hidden": false, "label": "SR 96"}, "SR 48": {"type": "sensor_relay", "x": -228995.13310880962, "y": -140527.76121927612, "grid": "E00", "hidden": false, "label": "SR 48"}, "SR 19": {"type": "sensor_relay", "x": -264643.2812569578, "y": -163120.35381186873, "grid": "D98", "hidden": false, "label": "SR 19"}, "SR 76": {"type": "sensor_relay", "x": 26117.371606553854, "y": -122956.78385302096, "grid": "F13", "hidden": false, "label": "SR 76"}, "SR 23": {"type": "sensor_relay", "x": 71117.37160655385, "y": -122956.78385302096, "grid": "F15", "hidden": false, "label": "SR 23"}, "SR 95": {"type": "sensor_relay", "x": 54174.41269019686, "y": -87774.3671419596, "grid": "H14", "hidden": false, "label": "SR 95"}, "SR 82": {"type": "sensor_relay", "x": 16103.92957851971, "y": -79085.0278048389, "grid": "I12", "hidden": false, "label": "SR 82"}, "SR 33": {"type": "sensor_relay", "x": -14426.227449055004, "y": -103432.01559273084, "grid": "G11", "hidden": false, "label": "SR 33"}, "SR 18": {"type": "sensor_relay", "x": -14426.227449055004, "y": -142481.55211331107, "grid": "E11", "hidden": false, "label": "SR 18"}, "SR 50": {"type": "sensor_relay", "x": 16103.929578519695, "y": -166828.539901203, "grid": "D12", "hidden": false, "label": "SR 50"}, "SR 93": {"type": "sensor_relay", "x": 54174.412690196856, "y": -158139.2005640823, "grid": "E14", "hidden": false, "label": "SR 93"}, "SR 46": {"type": "sensor_relay", "x": 19838.436421368635, "y": -11093.357927095036, "grid": "L12", "hidden": false, "label": "SR 46"}, "SR 83": {"type": "sensor_relay", "x": 18681.02901396123, "y": -47551.69126042838, "grid": "J12", "hidden": false, "label": "SR 83"}, "SR 77": {"type": "sensor_relay", "x": -87413.75693711333, "y": -82955.31923253628, "grid": "H07", "hidden": false, "label": "SR 77"}, "SR 85": {"type": "sensor_relay", "x": -48677.22430108222, "y": -93895.3198040955, "grid": "H09", "hidden": false, "label": "SR 85"}, "SR 64": {"type": "sensor_relay", "x": -196713.5142749448, "y": -115322.35264168218, "grid": "G02", "hidden": false, "label": "SR 64"}, "SR 15": {"type": "sensor_relay", "x": -168223.929453176, "y": -144780.97096079006, "grid": "E03", "hidden": false, "label": "SR 15"}, "MM Claim 18": {"type": "sensor_relay", "x": -139734.34463140724, "y": -174239.58927989795, "grid": "D05", "hidden": false, "label": "MM Claim 18", "description": "Mighty Mining Claim 18 See Permit 42213/MM18"}, "SR 98": {"type": "sensor_relay", "x": -255665.9946911035, "y": 54113.80959619432, "grid": "O99", "hidden": false, "label": "SR 98"}, "SR 88": {"type": "sensor_relay", "x": -260167.02349768786, "y": 14167.1789377581, "grid": "M98", "hidden": false, "label": "SR 88"}, "SR 86": {"type": "sensor_relay", "x": -264668.05230427225, "y": -25779.451720678117, "grid": "K98", "hidden": false, "label": "SR 86"}, "SR 56": {"type": "sensor_relay", "x": -269169.0811108566, "y": -65726.08237911433, "grid": "I98", "hidden": false, "label": "SR 56"}, "SR 40": {"type": "sensor_relay", "x": -273670.109917441, "y": -105672.71303755055, "grid": "G98", "hidden": false, "label": "SR 40"}, "SR 42": {"type": "sensor_relay", "x": -278171.13872402534, "y": -145619.34369598678, "grid": "E98", "hidden": false, "label": "SR 42"}, "SR 36": {"type": "sensor_relay", "x": -282672.1675306097, "y": -185565.974354423, "grid": "C97", "hidden": false, "label": "SR 36"}};
        console.log("[DEBUG JS] objData keys:", Object.keys(objData));
        console.log("[DEBUG JS] objData sample:", objData[Object.keys(objData)[0]]);

    function clearAnnotations() {
        Plotly.relayout('plot', {annotations: []});
        document.getElementById('info').innerHTML = getInfoHeader() + 'Select an object';
        document.getElementById('galactic-map-btn').addEventListener('click', function() {
            window.location.href = 'index.html';
        });
        document.getElementById('galactic-map-btn').addEventListener('click', function() {
            window.location.href = 'index.html';
        });
    }
    
    function getInfoHeader() {
    return '<img src="Images/Compass.png" alt="Compass" '
         + 'style="display:block; max-width:100%; height:auto; margin-bottom:10px;">'
         + '<button id="galactic-map-btn" title="Back to Galactic Map">Galactic Map</button>';
        }
    
    function highlight(name) {
        var obj = objData[name];
        if (obj.hidden && !isGM()) {
            alert("This object is not visible on the public map.");
            return;
        }
        var annotation = {
            x: obj.x, y: obj.y, xref: 'x', yref: 'y', text: name,
            showarrow: true, arrowcolor: 'yellow', arrowwidth: 2,
            arrowhead: 3, font: {color: 'yellow', size: 28}
        };

        Plotly.relayout('plot', {annotations: [annotation]});

        var label = obj.label || name;
        var infoHtml = '<span style="font-size:20pt;">' + label + '</span><br>';
        infoHtml += '<b>Location:</b> ' + obj.grid + '<br>';

        if (obj.type === 'station') {
            // Station selected: display detailed station info
            if (obj.hullImage) {
                infoHtml += '<img src="' + obj.hullImage + '" alt="Hull Art" style="max-width:48%; height:auto;">';
            }
            if (obj.sides && obj.sides.length > 0) {
                infoHtml += '<img src="Images/Factions/' + obj.sides[0] + '.png" alt="Faction Logo" style="max-width:48%; height:auto;">';
            }
            infoHtml += '<b>Facilities:</b> ' + (obj.facilities.length ? obj.facilities.join(', ') : 'None') + '<br>';
            if (obj.hullName && obj.hullImage) {
                infoHtml += '<b>General Class:</b> ' + obj.hullName + '<br>';
            }
            if (obj.hullDescription) {
                infoHtml += '<p style="margin-top:5px; font-size:90%; color:#ccc;">' + obj.hullDescription + '</p>';
            }
        } else if ((obj.type === 'jump_point' || obj.type === 'jumppoint' || obj.type === 'jumpnode') && obj.destinations && typeof obj.destinations === 'object') {
            infoHtml += '<b>Type:</b> ' + obj.type + '<br>';
            infoHtml += '<b>Destinations:</b><br>';
            for (const [target, label] of Object.entries(obj.destinations)) {
                if (typeof target === 'string' && typeof label === 'string') {
                    let file = label + '.html';
                    // Correctly escape single quotes for JS string
                    infoHtml += `<button onclick="window.open('${file}', '_blank')">${label}, ${target}</button>`;
                }
            }
            }
        else {
            infoHtml += '<b>Type:</b> ' + obj.type;
        }

            // ——— append a description paragraph if one exists ———
            if (obj.description) {
                infoHtml += '<p style="font-size:90%; margin-top:8px;">'
                          + obj.description
                          + '</p>';
            }
            document.getElementById('info').innerHTML = getInfoHeader() + infoHtml;
            document.getElementById('galactic-map-btn').addEventListener('click', function() {
                window.location.href = 'index.html';
            });
                + infoHtml;
         
    }
         document.getElementById('galactic-map-btn').addEventListener('click', function() {
        window.location.href = 'index.html';
    });
    

    var fig = {"data": [{"type": "scatter", "x": [16080.928389924138, -88919.07161007587, -83700.82423717294, 21299.175762827075, 16080.928389924138], "y": [30932.638717787497, 21765.97205112083, -38006.679674858264, -28840.013008191596, 30932.638717787497], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [122676.93432731456, 21010.267660647893, -2217.200544933761, 99449.46612173291, 122676.93432731456], "y": [-29942.78428953487, 23390.549043798474, -20886.81222309155, -74220.14555642489, -29942.78428953487], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-185828.77097056058, -78328.7709705606, -89544.82858039196, -197044.82858039197, -185828.77097056058], "y": [-61827.02356081558, -18493.690227482242, 9330.760381522494, -34002.57295181084, -61827.02356081558], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-348345.7814951829, -179179.11482851618, -180361.151389103, -349527.8180557698, -348345.7814951829], "y": [-78742.30931453774, -75408.9759812044, -15420.620531422017, -18753.953864755345, -78742.30931453774], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-141660.40933704408, -244752.71390701362, -248120.88564393893, -145028.5810739694, -141660.40933704408], "y": [-196324.36772034928, -184676.30290481838, -214486.62694114138, -226134.69175667228, -196324.36772034928], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-105502.9107043488, -152388.62743960257, -140998.3225050185, -94112.60576976476, -105502.9107043488], "y": [-172534.0061758444, -205019.1099138417, -221458.72528334445, -188973.62154534715, -172534.0061758444], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-84915.49843921674, -115786.45690079725, -83829.05957331632, -52958.101111735814, -84915.49843921674], "y": [-116294.05344451578, -175815.38214893555, -192390.20510586377, -132868.87640144402, -116294.05344451578], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [67856.71874304226], "y": [47712.979521464615], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "lightblue"}, "hovertext": ["Maximillion Gate [O15]"], "hoverinfo": "text", "text": ["Maximillion Gate"], "textposition": "top center", "textfont": {"color": "white", "size": 20}}, {"type": "scatter", "x": [67856.71874304226], "y": [47712.979521464615], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "lightblue"}, "hovertext": ["Maximillion Gate [O15]"], "hoverinfo": "text", "text": ["Maximillion Gate"], "textposition": "top center", "textfont": {"color": "white", "size": 20}}, {"type": "scatter", "x": [-276309.9479236244], "y": [-169787.02047853539], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "lightblue"}, "hovertext": ["Vermilion Gate [D98]"], "hoverinfo": "text", "text": ["Vermilion Gate"], "textposition": "top center", "textfont": {"color": "white", "size": 20}}, {"type": "scatter", "x": [-276309.9479236244], "y": [-169787.02047853539], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "lightblue"}, "hovertext": ["Vermilion Gate [D98]"], "hoverinfo": "text", "text": ["Vermilion Gate"], "textposition": "top center", "textfont": {"color": "white", "size": 20}}, {"type": "scatter", "x": [-106221.21335572319], "y": [-55095.66245384402], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Corus Gate Control [J06]"], "hoverinfo": "text", "text": ["Corus Gate Control"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-106221.21335572319], "y": [-55095.66245384402], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Corus Gate Control [J06]"], "hoverinfo": "text", "text": ["Corus Gate Control"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [3698.0150393385115], "y": [-90587.31368841193], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Port Godunk [H12]"], "hoverinfo": "text", "text": ["Port Godunk"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [3698.0150393385115], "y": [-90587.31368841193], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Port Godunk [H12]"], "hoverinfo": "text", "text": ["Port Godunk"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-22746.440121841228], "y": [-115642.07620555871], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "green"}, "hovertext": ["Fort Grey [G10]"], "hoverinfo": "text", "text": ["Fort Grey"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-22746.440121841228], "y": [-115642.07620555871], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "green"}, "hovertext": ["Fort Grey [G10]"], "hoverinfo": "text", "text": ["Fort Grey"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-3635.5004784941893], "y": [-153452.32569115545], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Corus Cargo HQ [E11]"], "hoverinfo": "text", "text": ["Corus Cargo HQ"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-3635.5004784941893], "y": [-153452.32569115545], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Corus Cargo HQ [E11]"], "hoverinfo": "text", "text": ["Corus Cargo HQ"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [62954.69054118342], "y": [-142096.8920849234], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DW 16 [E15]"], "hoverinfo": "text", "text": ["DW 16"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [62954.69054118342], "y": [-142096.8920849234], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DW 16 [E15]"], "hoverinfo": "text", "text": ["DW 16"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [59459.278328090186], "y": [-92768.81231666982], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["CC R&D [H14]"], "hoverinfo": "text", "text": ["CC R&D"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [59459.278328090186], "y": [-92768.81231666982], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["CC R&D [H14]"], "hoverinfo": "text", "text": ["CC R&D"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [50077.92037920183], "y": [-142892.8450019173], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DW SM1 [E14]"], "hoverinfo": "text", "text": ["DW SM1"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [50077.92037920183], "y": [-142892.8450019173], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DW SM1 [E14]"], "hoverinfo": "text", "text": ["DW SM1"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [59658.22219713855], "y": [-131131.23083640554], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DW SM2 [F14]"], "hoverinfo": "text", "text": ["DW SM2"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [59658.22219713855], "y": [-131131.23083640554], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DW SM2 [F14]"], "hoverinfo": "text", "text": ["DW SM2"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-4384.504894952938], "y": [-142129.36552197658], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["CC SM1 [E11]"], "hoverinfo": "text", "text": ["CC SM1"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-4384.504894952938], "y": [-142129.36552197658], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["CC SM1 [E11]"], "hoverinfo": "text", "text": ["CC SM1"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [8812.594818036776], "y": [-151214.0545595304], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["CC SM2 [E12]"], "hoverinfo": "text", "text": ["CC SM2"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [8812.594818036776], "y": [-151214.0545595304], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["CC SM2 [E12]"], "hoverinfo": "text", "text": ["CC SM2"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-153001.00366322682], "y": [-171414.7811948038], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["MM Refinery [D04]"], "hoverinfo": "text", "text": ["MM Refinery"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-153001.00366322682], "y": [-171414.7811948038], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["MM Refinery [D04]"], "hoverinfo": "text", "text": ["MM Refinery"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-146672.3553310319], "y": [-169013.23961433783], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["MM Ops [D04]"], "hoverinfo": "text", "text": ["MM Ops"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-146672.3553310319], "y": [-169013.23961433783], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["MM Ops [D04]"], "hoverinfo": "text", "text": ["MM Ops"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-151845.9266608261], "y": [-166132.5575710261], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["MM Processing [D04]"], "hoverinfo": "text", "text": ["MM Processing"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-151845.9266608261], "y": [-166132.5575710261], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["MM Processing [D04]"], "hoverinfo": "text", "text": ["MM Processing"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-145836.16077944884], "y": [-164141.82262281986], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["MM SM1 [D04]"], "hoverinfo": "text", "text": ["MM SM1"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-145836.16077944884], "y": [-164141.82262281986], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["MM SM1 [D04]"], "hoverinfo": "text", "text": ["MM SM1"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-243609.66753060967], "y": [35305.93922582394], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 22 [N99]"], "hoverinfo": "text", "text": ["DS 22"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-243609.66753060967], "y": [35305.93922582394], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 22 [N99]"], "hoverinfo": "text", "text": ["DS 22"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-267240.0687651776], "y": [35305.93922582394], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 80 [N98]"], "hoverinfo": "text", "text": ["DS 80"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-267240.0687651776], "y": [35305.93922582394], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 80 [N98]"], "hoverinfo": "text", "text": ["DS 80"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-255665.9946911035], "y": [70510.41453446592], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 70 [P99]"], "hoverinfo": "text", "text": ["DS 70"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-255665.9946911035], "y": [70510.41453446592], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 70 [P99]"], "hoverinfo": "text", "text": ["DS 70"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-101149.17370344905], "y": [74815.14704475405], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["RS 15 [P06]"], "hoverinfo": "text", "text": ["RS 15"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-101149.17370344905], "y": [74815.14704475405], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["RS 15 [P06]"], "hoverinfo": "text", "text": ["RS 15"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [56190.05207637561], "y": [40212.97952146462], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 30 [O14]"], "hoverinfo": "text"}, {"type": "scatter", "x": [56190.05207637561], "y": [40212.97952146462], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 30 [O14]"], "hoverinfo": "text"}, {"type": "scatter", "x": [20541.903928227453], "y": [17620.38692887203], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 34 [M13]"], "hoverinfo": "text"}, {"type": "scatter", "x": [20541.903928227453], "y": [17620.38692887203], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 34 [M13]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-15106.2442199207], "y": [-4972.205663720561], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 35 [L11]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-15106.2442199207], "y": [-4972.205663720561], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 35 [L11]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-50754.392368068846], "y": [-27564.79825631316], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 43 [K09]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-50754.392368068846], "y": [-27564.79825631316], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 43 [K09]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-86402.54051621702], "y": [-50157.39084890574], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 92 [J07]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-86402.54051621702], "y": [-50157.39084890574], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 92 [J07]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-122050.68866436517], "y": [-72749.98344149836], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 21 [I05]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-122050.68866436517], "y": [-72749.98344149836], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 21 [I05]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-157698.8368125133], "y": [-95342.57603409095], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 96 [H04]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-157698.8368125133], "y": [-95342.57603409095], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 96 [H04]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-228995.13310880962], "y": [-140527.76121927612], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 48 [E00]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-228995.13310880962], "y": [-140527.76121927612], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 48 [E00]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-264643.2812569578], "y": [-163120.35381186873], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 19 [D98]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-264643.2812569578], "y": [-163120.35381186873], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 19 [D98]"], "hoverinfo": "text"}, {"type": "scatter", "x": [26117.371606553854], "y": [-122956.78385302096], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 76 [F13]"], "hoverinfo": "text"}, {"type": "scatter", "x": [26117.371606553854], "y": [-122956.78385302096], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 76 [F13]"], "hoverinfo": "text"}, {"type": "scatter", "x": [71117.37160655385], "y": [-122956.78385302096], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 23 [F15]"], "hoverinfo": "text"}, {"type": "scatter", "x": [71117.37160655385], "y": [-122956.78385302096], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 23 [F15]"], "hoverinfo": "text"}, {"type": "scatter", "x": [54174.41269019686], "y": [-87774.3671419596], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 95 [H14]"], "hoverinfo": "text"}, {"type": "scatter", "x": [54174.41269019686], "y": [-87774.3671419596], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 95 [H14]"], "hoverinfo": "text"}, {"type": "scatter", "x": [16103.92957851971], "y": [-79085.0278048389], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 82 [I12]"], "hoverinfo": "text"}, {"type": "scatter", "x": [16103.92957851971], "y": [-79085.0278048389], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 82 [I12]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-14426.227449055004], "y": [-103432.01559273084], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 33 [G11]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-14426.227449055004], "y": [-103432.01559273084], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 33 [G11]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-14426.227449055004], "y": [-142481.55211331107], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 18 [E11]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-14426.227449055004], "y": [-142481.55211331107], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 18 [E11]"], "hoverinfo": "text"}, {"type": "scatter", "x": [16103.929578519695], "y": [-166828.539901203], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 50 [D12]"], "hoverinfo": "text"}, {"type": "scatter", "x": [16103.929578519695], "y": [-166828.539901203], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 50 [D12]"], "hoverinfo": "text"}, {"type": "scatter", "x": [54174.412690196856], "y": [-158139.2005640823], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 93 [E14]"], "hoverinfo": "text"}, {"type": "scatter", "x": [54174.412690196856], "y": [-158139.2005640823], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 93 [E14]"], "hoverinfo": "text"}, {"type": "scatter", "x": [19838.436421368635], "y": [-11093.357927095036], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 46 [L12]"], "hoverinfo": "text"}, {"type": "scatter", "x": [19838.436421368635], "y": [-11093.357927095036], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 46 [L12]"], "hoverinfo": "text"}, {"type": "scatter", "x": [18681.02901396123], "y": [-47551.69126042838], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 83 [J12]"], "hoverinfo": "text"}, {"type": "scatter", "x": [18681.02901396123], "y": [-47551.69126042838], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 83 [J12]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-87413.75693711333], "y": [-82955.31923253628], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 77 [H07]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-87413.75693711333], "y": [-82955.31923253628], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 77 [H07]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-48677.22430108222], "y": [-93895.3198040955], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 85 [H09]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-48677.22430108222], "y": [-93895.3198040955], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 85 [H09]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-196713.5142749448], "y": [-115322.35264168218], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 64 [G02]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-196713.5142749448], "y": [-115322.35264168218], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 64 [G02]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-168223.929453176], "y": [-144780.97096079006], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 15 [E03]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-168223.929453176], "y": [-144780.97096079006], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 15 [E03]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-139734.34463140724], "y": [-174239.58927989795], "mode": "markers+text", "marker": {"symbol": "circle", "size": 6, "color": "#FF13F0"}, "hovertext": ["MM Claim 18 [D05]"], "hoverinfo": "text", "text": ["MM Claim 18"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-139734.34463140724], "y": [-174239.58927989795], "mode": "markers+text", "marker": {"symbol": "circle", "size": 6, "color": "#FF13F0"}, "hovertext": ["MM Claim 18 [D05]"], "hoverinfo": "text", "text": ["MM Claim 18"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-255665.9946911035], "y": [54113.80959619432], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 98 [O99]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-255665.9946911035], "y": [54113.80959619432], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 98 [O99]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-260167.02349768786], "y": [14167.1789377581], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 88 [M98]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-260167.02349768786], "y": [14167.1789377581], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 88 [M98]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-264668.05230427225], "y": [-25779.451720678117], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 86 [K98]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-264668.05230427225], "y": [-25779.451720678117], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 86 [K98]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-269169.0811108566], "y": [-65726.08237911433], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 56 [I98]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-269169.0811108566], "y": [-65726.08237911433], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 56 [I98]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-273670.109917441], "y": [-105672.71303755055], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 40 [G98]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-273670.109917441], "y": [-105672.71303755055], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 40 [G98]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-278171.13872402534], "y": [-145619.34369598678], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 42 [E98]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-278171.13872402534], "y": [-145619.34369598678], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 42 [E98]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-282672.1675306097], "y": [-185565.974354423], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 36 [C97]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-282672.1675306097], "y": [-185565.974354423], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 36 [C97]"], "hoverinfo": "text"}], "layout": {"title": "Corus", "paper_bgcolor": "black", "plot_bgcolor": "black", "font": {"color": "white"}, "margin": {"l": 0, "r": 0, "t": 40, "b": 0}, "autosize": true, "dragmode": "pan", "hovermode": "closest", "xaxis": {"color": "white", "showgrid": true, "gridcolor": "gray", "dtick": 20000, "title": "X Axis"}, "yaxis": {"color": "white", "showgrid": true, "gridcolor": "gray", "dtick": 20000, "scaleanchor": "x", "scaleratio": 1, "title": "Z Axis"}, "shapes": []}};
    fig.layout.showlegend = false;
    fig.layout.dragmode = 'pan';
    fig.layout.title = 'Corus';
    if (!isGM()) {
        fig.data = fig.data.filter(t => !t.gmOnly);
        }
    Plotly.newPlot('plot', fig.data, fig.layout, {responsive: true, scrollZoom: true});
        console.log("[DEBUG JS] Plotted traces count:", fig.data.length);
        console.log("[DEBUG JS] fig.data sample:", fig.data.slice(0,3));

    var plotDiv = document.getElementById('plot');
    // Custom click: select nearest object within 10px of cursor
    plotDiv.addEventListener('click', function(evt) {
        var rect = plotDiv.getBoundingClientRect();
        var px = evt.clientX - rect.left;
        var py = evt.clientY - rect.top;
        var xaxis = plotDiv._fullLayout.xaxis;
        var yaxis = plotDiv._fullLayout.yaxis;
        var l2px = xaxis.l2p.bind(xaxis);
        var l2py = yaxis.l2p.bind(yaxis);
        var minDist = Infinity, closest = null;
        for (var name in objData) {
            var pt = objData[name];
            var xPx = l2px(pt.x);
            var yPx = l2py(pt.y);
            var dx = xPx - px, dy = yPx - py;
            var d = Math.sqrt(dx*dx + dy*dy);
            console.log(`${name}: data=(${pt.x}, ${pt.y}) -> screen=(${xPx.toFixed(1)}, ${yPx.toFixed(1)}), cursor=(${px.toFixed(1)}, ${py.toFixed(1)}), dx=${dx.toFixed(1)}, dy=${dy.toFixed(1)}, d=${d.toFixed(1)}`);
            if (d < minDist) {
                minDist = d;
                closest = name;
            }
        }
        if (minDist <= 35 && closest) {
            highlight(closest);
        }
    });

  var ctrl = document.getElementById('object-buttons');

  // Helper: create and append a single button
function addButton(label, fn, header, color, isHidden) {
    if (isHidden && !isGM()) return;
    var btn = document.createElement('button');
    btn.textContent = label;
    if (header) {
      btn.className = 'header';     // section header style
      btn.onclick = null;           // no click action
    } else {
      btn.onclick = fn;             // bind the handler
      if (color) btn.style.backgroundColor = color;
    }
    ctrl.appendChild(btn);
  }
  
  function enterGMMode() {
    const pw = prompt("Enter ONI Auth Code: --We will store a cookie for the purpose of tracking if you have authenticated or not--");
    if (pw === "oni1") {
      document.cookie = "gmMode=1; path=/; max-age=31536000";
      location.reload();
    } else {
      alert("Incorrect password.");
    }
  }

  function isGM() {
    return document.cookie.split(';').some(c => c.trim() === 'gmMode=1');
  }

  function exitGMMode() {
    document.cookie = "gmMode=; path=/; expires=Thu, 01 Jan 1970 00:00:00 UTC;";
    location.reload();
  }

  function renderGMControls() {
    const div = document.getElementById('gm-controls');
    div.innerHTML = '';
    const btn = document.createElement('button');
    btn.style.width = '100%';
    if (isGM()) {
      btn.textContent = 'ONI Logout';
      btn.onclick = exitGMMode;
    } else {
      btn.textContent = 'ONI Login';
      btn.onclick = enterGMMode;
    }
    div.appendChild(btn);
  }

  renderGMControls();

  // ——— Populate the sidebar ———
  addButton('None', clearAnnotations, false, null);

  addButton('--- Gates ---', null, true, null);
  addButton('Maximillion Gate',function(){highlight('Maximillion Gate');},false,null,false)
    addButton('Vermilion Gate',function(){highlight('Vermilion Gate');},false,null,false)

  addButton('--- Nav Points/POI ---', null, true, null);
  addButton('MM Claim 18',function(){highlight('MM Claim 18');},false,null,false)

  addButton('--- Stations ---', null, true, null);
  addButton('CC R&D',function(){highlight('CC R&D');},false,'blue',false)
    addButton('CC SM1',function(){highlight('CC SM1');},false,'blue',false)
    addButton('CC SM2',function(){highlight('CC SM2');},false,'blue',false)
    addButton('Corus Cargo HQ',function(){highlight('Corus Cargo HQ');},false,'blue',false)
    addButton('Corus Gate Control',function(){highlight('Corus Gate Control');},false,'blue',false)
    addButton('DS 22',function(){highlight('DS 22');},false,'blue',false)
    addButton('DS 70',function(){highlight('DS 70');},false,'blue',false)
    addButton('DS 80',function(){highlight('DS 80');},false,'blue',false)
    addButton('DW 16',function(){highlight('DW 16');},false,'blue',false)
    addButton('DW SM1',function(){highlight('DW SM1');},false,'blue',false)
    addButton('DW SM2',function(){highlight('DW SM2');},false,'blue',false)
    addButton('Fort Grey',function(){highlight('Fort Grey');},false,'green',false)
    addButton('MM Ops',function(){highlight('MM Ops');},false,'blue',false)
    addButton('MM Processing',function(){highlight('MM Processing');},false,'blue',false)
    addButton('MM Refinery',function(){highlight('MM Refinery');},false,'blue',false)
    addButton('MM SM1',function(){highlight('MM SM1');},false,'blue',false)
    addButton('Port Godunk',function(){highlight('Port Godunk');},false,'blue',false)
    addButton('RS 15',function(){highlight('RS 15');},false,'blue',false)
    
  // Search filter
  document.getElementById('search-box').addEventListener('input', function() {
    const query = this.value.toLowerCase();
    const buttons = document.querySelectorAll('#object-buttons button');
    buttons.forEach(btn => {
      const label = btn.textContent.toLowerCase();
      const isHeader = btn.classList.contains('header');
      if (isHeader) {
        btn.style.display = ''; // always show section headers
      } else {
        btn.style.display = label.includes(query) ? '' : 'none';
      }
    });
  });
</script>
</body>
</html>