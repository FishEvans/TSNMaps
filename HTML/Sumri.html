
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sumri.html</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body { margin: 0; background: black; color: white; display: flex; height: 100vh; }
        /* === Description typography controls ===
           Tweak these two variables to change description sizes globally */
        :root {
            --desc-font-size: 130%;
            --hull-desc-font-size: 130%;
        }
        .desc-text { font-size: var(--desc-font-size); margin-top: 8px; }
        .hull-desc { font-size: var(--hull-desc-font-size); margin-top: 5px; color: #ccc; }
        #controls { flex: 1; min-width: 200px; max-width: 350px; overflow-y: auto; background: #333; padding: 10px; }
        #plot { flex: 3; min-width: 400px; }
        #info { flex: 1; min-width: 200px; background: #333; padding: 10px; overflow-y: auto; }
        h2.header { margin-top: 0; margin-bottom: 5px; text-align: center; }
        h3.subheader { margin-top: 0; margin-bottom: 15px; text-align: center; color: #ccc; }
        .alignment-image { display: block; max-width: 100%; height: auto; margin: 10px auto; }
        button { display: block; width: 100%; margin-bottom: 5px; background: #555; color: white; border: none; padding: 5px; text-align: left; cursor: pointer; font-size: 20px; }
        button.header { background: #444; cursor: default; font-size: 24px; }
    </style>
</head>
<body>
    <div id="controls">
        <div id="gm-controls" style="margin-bottom:10px;"></div>
        <h2 class="header">Sumri</h2>
        <h3 class="subheader">Alignment: League Of Traders</h3>
        <img src="Images/Factions/League Of Traders.png" alt="Alignment Logo" class="alignment-image" onerror="this.style.display='none';">

        <input type="text" id="search-box" placeholder="Search objects..." style="width: 95%; padding: 6px; margin-bottom: 10px; font-size: 16px;">
        <div id="object-buttons">
    </div>
    </div>
    <div id="plot"></div>
    <div id="info">
        <img src="Images/Compass.png" alt="Compass" style="display:block; max-width:100%; height:auto; margin-bottom:10px;">
        <button id="galactic-map-btn" title="Back to Galactic Map">Show Galactic Map</button>
        Select an object
    </div>
<script>
    var objData = {"Planet Sumri": {"type": "planet", "x": 155.47379679579115, "y": -135.79332845150574, "grid": "L12", "hidden": false}, "Sumri Administration": {"type": "station", "x": -66480.9485882488, "y": -5208.046553497988, "grid": "L08", "hidden": false, "label": "Sumri Administration", "hull": "pirate_military_base", "facilities": [], "sides": ["League Of Traders"], "hullName": "Pirate Base", "hullImage": "Images/Ships/TSN Mod/Pirate/PirateBaseAst256.png", "hullDescription": ""}, "Ingarda Market": {"type": "station", "x": 45536.79832533146, "y": -50501.2564300412, "grid": "J14", "hidden": false, "label": "Ingarda Market", "hull": "pirate_military_base", "facilities": [], "sides": ["League Of Traders"], "hullName": "Pirate Base", "hullImage": "Images/Ships/TSN Mod/Pirate/PirateBaseAst256.png", "hullDescription": ""}, "Tubilt Works": {"type": "station", "x": -1685.423896890765, "y": 61998.74356995882, "grid": "P11", "hidden": false, "label": "Tubilt Works", "hull": "pirate_military_base", "facilities": [], "sides": ["League Of Traders"], "hullName": "Pirate Base", "hullImage": "Images/Ships/TSN Mod/Pirate/PirateBaseAst256.png", "hullDescription": ""}, "WP 73": {"type": "platform", "x": -1960.0129497853943, "y": 68119.06611193666, "grid": "P11", "hidden": false, "label": "WP 73"}, "WP 6": {"type": "platform", "x": -70366.29888723251, "y": -10535.025557429033, "grid": "L08", "hidden": false, "label": "WP 6"}, "WP 35": {"type": "platform", "x": 49611.543766485185, "y": -55760.928796291, "grid": "J14", "hidden": false, "label": "WP 35"}, "Acmen Mining": {"type": "station", "x": -27414.178245345734, "y": -79091.2193453778, "grid": "I10", "hidden": false, "label": "Acmen Mining", "hull": "pirate_military_base", "facilities": [], "sides": ["League Of Traders"], "hullName": "Pirate Base", "hullImage": "Images/Ships/TSN Mod/Pirate/PirateBaseAst256.png", "hullDescription": ""}, "WP 45": {"type": "platform", "x": -28809.586481514, "y": -83835.60734834992, "grid": "H10", "hidden": false, "label": "WP 45"}, "Ashu Ores": {"type": "station", "x": 65164.40816964439, "y": 52692.1616481181, "grid": "O15", "hidden": false, "label": "Ashu Ores", "hull": "pirate_military_base", "facilities": [], "sides": ["League Of Traders"], "hullName": "Pirate Base", "hullImage": "Images/Ships/TSN Mod/Pirate/PirateBaseAst256.png", "hullDescription": ""}, "WP 9": {"type": "platform", "x": 67973.48278352438, "y": 56769.72560718179, "grid": "O15", "hidden": false, "label": "WP 9"}, "G'Torin Gate": {"type": "jumpnode", "x": -177078.09383906878, "y": 170047.8871335625, "grid": "U03", "hidden": false, "label": "G'Torin Gate"}, "Tilminra Gate": {"type": "jumpnode", "x": 132227.4617164868, "y": 125464.55380022919, "grid": "S18", "hidden": false, "label": "Tilminra Gate", "destinations": {"Sumri Gate": "Tilminra"}}, "Eulis Gate": {"type": "jumpnode", "x": -109811.42717240212, "y": -116485.44619977083, "grid": "G06", "hidden": false, "label": "Eulis Gate", "destinations": {"Sumri Gate": "Eulis"}}, "Ibroan Gate": {"type": "jumpnode", "x": 173388.57282759785, "y": -172885.4461997708, "grid": "D20", "hidden": false, "label": "Ibroan Gate", "destinations": {"Sumri Gate": "Ibroan"}}, "Yonk Mining": {"type": "station", "x": -114235.50124647621, "y": 174150.66491134037, "grid": "U06", "hidden": false, "label": "Yonk Mining", "hull": "pirate_military_base", "facilities": [], "sides": ["League Of Traders"], "hullName": "Pirate Base", "hullImage": "Images/Ships/TSN Mod/Pirate/PirateBaseAst256.png", "hullDescription": ""}, "Rei Shops": {"type": "station", "x": -136804.94569092066, "y": 197298.81305948852, "grid": "V05", "hidden": false, "label": "Rei Shops", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "Lyn Markets": {"type": "station", "x": -96295.6864316614, "y": 130169.18342985888, "grid": "S07", "hidden": false, "label": "Lyn Markets", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "Chelle Denabite": {"type": "station", "x": -127545.6864316614, "y": 155632.14639282183, "grid": "T05", "hidden": false, "label": "Chelle Denabite", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "Scarsalt Ores": {"type": "station", "x": -139698.46420943917, "y": 135377.51676319222, "grid": "S05", "hidden": false, "label": "Scarsalt Ores", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "Paragon Mills": {"type": "station", "x": 2083.943197968255, "y": 157368.25750393295, "grid": "T12", "hidden": false, "label": "Paragon Mills", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "Czarin Denabite": {"type": "station", "x": -10068.834579809525, "y": 185724.73898541444, "grid": "V11", "hidden": false, "label": "Czarin Denabite", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "Fiyah Ores": {"type": "station", "x": 5556.165420190478, "y": 177622.8871335626, "grid": "U12", "hidden": false, "label": "Fiyah Ores", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "Nyama Minerals": {"type": "station", "x": 17708.943197968256, "y": 200192.33157800703, "grid": "W12", "hidden": false, "label": "Nyama Minerals", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "Usi Ax": {"type": "station", "x": 84838.57282759789, "y": 131326.5908372663, "grid": "S16", "hidden": false, "label": "Usi Ax", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "Kadumi Mining": {"type": "station", "x": 110301.53579056087, "y": 166048.81305948852, "grid": "U17", "hidden": false, "label": "Kadumi Mining", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "Ushu Denabite": {"type": "station", "x": 108565.42467944976, "y": 148687.7019483774, "grid": "T17", "hidden": false, "label": "Ushu Denabite", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "Holyard Respite": {"type": "station", "x": 123611.72097574607, "y": 9220.10935578478, "grid": "M18", "hidden": false, "label": "Holyard Respite", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "Yiari Gemstones": {"type": "station", "x": 197685.79504982012, "y": 88502.5167631922, "grid": "Q21", "hidden": false, "label": "Yiari Gemstones", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "Banjul Works": {"type": "station", "x": 224884.86912389423, "y": 69983.99824467368, "grid": "P23", "hidden": false, "label": "Banjul Works", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "Quan Excavations": {"type": "station", "x": 198843.20245722754, "y": 53780.294540969975, "grid": "O21", "hidden": false, "label": "Quan Excavations", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "Dujum Denabite": {"type": "station", "x": 167593.20245722754, "y": 71720.10935578479, "grid": "P20", "hidden": false, "label": "Dujum Denabite", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "Fluzor Denabite": {"type": "station", "x": 179745.98023500532, "y": -13928.038792363372, "grid": "L20", "hidden": false, "label": "Fluzor Denabite", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "Cliowa Smithy": {"type": "station", "x": 155440.42467944976, "y": -30710.44619977078, "grid": "K19", "hidden": false, "label": "Cliowa Smithy", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "Grepna Ores": {"type": "station", "x": 182060.79504982012, "y": -42284.52027384486, "grid": "J21", "hidden": false, "label": "Grepna Ores", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "WP 71": {"type": "platform", "x": 106221.13884268707, "y": -118274.21077453073, "grid": "G17", "hidden": false, "label": "WP 71"}, "WP 22": {"type": "platform", "x": 117607.67004982014, "y": -107892.37349743882, "grid": "G17", "hidden": false, "label": "WP 22"}, "WP 1": {"type": "platform", "x": 174135.14775901075, "y": -164543.05436735193, "grid": "D20", "hidden": false, "label": "WP 1"}, "WP 91": {"type": "platform", "x": 166320.86163646847, "y": -176264.48355116538, "grid": "D20", "hidden": false, "label": "WP 91"}, "WP 77": {"type": "platform", "x": 178321.37246751555, "y": -177101.72849286633, "grid": "D20", "hidden": false, "label": "WP 77"}, "QRF 67": {"type": "platform", "x": 160181.0653973281, "y": -162589.48283671634, "grid": "D20", "hidden": false, "label": "QRF 67"}, "WP 58": {"type": "platform", "x": 172252.70747426167, "y": -171705.6395422846, "grid": "D20", "hidden": false, "label": "WP 58"}, "Orvag Mining": {"type": "station", "x": 75410.06964393775, "y": -166560.93437952537, "grid": "D15", "hidden": false, "label": "Orvag Mining", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "Xar Production": {"type": "station", "x": 61521.18075504886, "y": -144338.71215730315, "grid": "E15", "hidden": false, "label": "Xar Production", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "Kaolus Elements": {"type": "station", "x": 58743.40297727108, "y": -181144.2677128587, "grid": "C14", "hidden": false, "label": "Kaolus Elements", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "Sandur Denabite": {"type": "station", "x": -50978.819244951155, "y": -166560.93437952537, "grid": "D09", "hidden": false, "label": "Sandur Denabite", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "Mikos Denabite": {"type": "station", "x": -36395.48591161782, "y": -184616.48993508093, "grid": "C10", "hidden": false, "label": "Mikos Denabite", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "Jedna Denabite": {"type": "station", "x": -25978.81924495115, "y": -201283.15660174759, "grid": "B10", "hidden": false, "label": "Jedna Denabite", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "Deleno Ores": {"type": "station", "x": -162784.37480050672, "y": -118644.2677128587, "grid": "G03", "hidden": false, "label": "Deleno Ores", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "Bujum": {"type": "station", "x": -134312.1525782845, "y": -89477.60104619202, "grid": "H05", "hidden": false, "label": "Bujum", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "Maury Polytech": {"type": "station", "x": 62910.06964393774, "y": 7744.621176030207, "grid": "M15", "hidden": false, "label": "Maury Polytech", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "WP 87": {"type": "platform", "x": 63056.31244018954, "y": 6162.835302762313, "grid": "M15", "hidden": false, "label": "WP 87"}, "Conakry Foundry": {"type": "station", "x": -161751.6532150361, "y": 9564.601350735835, "grid": "M03", "hidden": false, "label": "Conakry Foundry", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "Maseru Metals": {"type": "station", "x": -185577.57914096207, "y": 25626.63838777283, "grid": "N02", "hidden": false, "label": "Maseru Metals", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "Purity Denabite": {"type": "station", "x": -192522.0235854065, "y": -1572.435686301248, "grid": "L02", "hidden": false, "label": "Purity Denabite", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "Niyamo Ores": {"type": "station", "x": -217406.28284466578, "y": 15788.675424809866, "grid": "M01", "hidden": false, "label": "Niyamo Ores", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "Juba Residences": {"type": "station", "x": -133494.24580762873, "y": -9674.287538153101, "grid": "L05", "hidden": false, "label": "Juba Residences", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "Okalpa Minerals": {"type": "station", "x": -198331.23654836946, "y": -17314.318402350673, "grid": "L02", "hidden": false, "label": "Okalpa Minerals", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "Pakku Est": {"type": "station", "x": 112037.64690167198, "y": -113465.07582940042, "grid": "G17", "hidden": false, "label": "Pakku Est", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "Lon Na": {"type": "station", "x": -23895.48591161782, "y": -151283.15660174759, "grid": "E10", "hidden": false, "label": "Lon Na", "hull": "", "facilities": [], "sides": ["League Of Traders"]}, "Marr Toc Mines": {"type": "station", "x": -175284.37480050672, "y": -96422.04549063648, "grid": "H03", "hidden": false, "label": "Marr Toc Mines", "hull": "", "facilities": [], "sides": ["League Of Traders"]}};
        console.log("[DEBUG JS] objData keys:", Object.keys(objData));
        console.log("[DEBUG JS] objData sample:", objData[Object.keys(objData)[0]]);

    function clearAnnotations() {
        Plotly.relayout('plot', {annotations: []});
        document.getElementById('info').innerHTML = getInfoHeader() + 'Select an object';
        document.getElementById('galactic-map-btn').addEventListener('click', function() {
            window.location.href = 'index.html';
        });
        document.getElementById('galactic-map-btn').addEventListener('click', function() {
            window.location.href = 'index.html';
        });
    }
    
    function getInfoHeader() {
    return '<img src="Images/Compass.png" alt="Compass" '
         + 'style="display:block; max-width:100%; height:auto; margin-bottom:10px;">'
         + '<button id="galactic-map-btn" title="Back to Galactic Map">Galactic Map</button>';
        }
    
    function highlight(name) {
        var obj = objData[name];
        if (obj.hidden && !isGM()) {
            alert("This object is not visible on the public map.");
            return;
        }
        var annotation = {
            x: obj.x, y: obj.y, xref: 'x', yref: 'y', text: name,
            showarrow: true, arrowcolor: 'yellow', arrowwidth: 2,
            arrowhead: 3, font: {color: 'yellow', size: 28}
        };

        Plotly.relayout('plot', {annotations: [annotation]});

        var label = obj.label || name;
        var infoHtml = '<span style="font-size:20pt;">' + label + '</span><br>';
        infoHtml += '<b>Location:</b> ' + obj.grid + '<br>';

        if (obj.type === 'station') {
            // Station selected: display detailed station info
            if (obj.hullImage) {
                infoHtml += '<img src="' + obj.hullImage + '" alt="Hull Art" style="max-width:48%; height:auto;">';
            }
            if (obj.sides && obj.sides.length > 0) {
                infoHtml += '<img src="Images/Factions/' + obj.sides[0] + '.png" alt="Faction Logo" style="max-width:48%; height:auto;">';
            }
            infoHtml += '<b>Facilities:</b> ' + (obj.facilities.length ? obj.facilities.join(', ') : 'None') + '<br>';
            if (obj.hullName && obj.hullImage) {
                infoHtml += '<b>General Class:</b> ' + obj.hullName + '<br>';
            }
            if (obj.hullDescription) {
                infoHtml += '<p class="hull-desc">' + obj.hullDescription + '</p>';
            }
        } 
        else if ((obj.type === 'jump_point' || obj.type === 'jumppoint' || obj.type === 'jumpnode') && obj.destinations && typeof obj.destinations === 'object') {
        
            // Generate a random 5-character alphanumeric serial
            const serial = Math.random().toString(36).substring(2, 7).toUpperCase();
            infoHtml += 'Oliver Class jump stabilisation node. Serial: ' + serial;
            infoHtml += '<br><br><b>Destinations:</b><br>';
            for (const [target, label] of Object.entries(obj.destinations)) {
                if (typeof target === 'string' && typeof label === 'string') {
                    let file = label + '.html';
                    // Correctly escape single quotes for JS string
                    infoHtml += `<button onclick="window.open('${file}', '_blank')">${label}, ${target}</button>`;
                }
            }
            }
        else if (obj.type === 'sensor_relay') {
            // Generate a random 5-character alphanumeric serial
            const serial = Math.random().toString(36).substring(2, 7).toUpperCase();
            infoHtml += 'Standard sensor and info relay buoy, Serial: ' + serial;
        }
        else if (obj.type === 'jumpnode' || obj.type === 'jumppoint') {
            // Generate a random 5-character alphanumeric serial
            const serial = Math.random().toString(36).substring(2, 7).toUpperCase();
            infoHtml += 'Oliver Class jump stabilisation node. Serial: ' + serial;
        }
        else if (obj.type === 'planet') {
            if (obj['class']) {
                infoHtml += '<b>Class:</b> ' + obj['class'] + '<br>';
            }
        }
        else {
            infoHtml += '<b>Type:</b> ' + obj.type;
        }

            // ——— append a description paragraph if one exists ———
            if (obj.description) {
                infoHtml += '<p class="desc-text">'
                          + obj.description
                          + '</p>';
            }
            document.getElementById('info').innerHTML = getInfoHeader() + infoHtml;
            document.getElementById('galactic-map-btn').addEventListener('click', function() {
                window.location.href = 'index.html';
            });
                + infoHtml;
         
    }
         document.getElementById('galactic-map-btn').addEventListener('click', function() {
        window.location.href = 'index.html';
    });
    

    var fig = {"data": [{"type": "scatter", "x": [155.47379679579115], "y": [-135.79332845150574], "mode": "markers+text", "marker": {"symbol": "circle", "size": 50, "color": "#98FB98"}, "text": ["Planet Sumri"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "hovertext": ["Planet Sumri [L12]"], "hoverinfo": "text", "meta": {"base_marker_size": 50, "base_text_size": 14}}, {"type": "scatter", "x": [-40488.341540926434, -9238.341540926427, -13576.950697299544, -44826.95069729955, -40488.341540926434], "y": [65431.31741256373, 72375.76185700817, 91899.50306068723, 84955.0586162428, 65431.31741256373], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-63440.570883770364, -32769.27458747406, -45370.091724826, -76041.38802112231, -63440.570883770364], "y": [43237.75333587157, 68122.01259513083, 83653.25232256463, 58768.99306330535, 43237.75333587157], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-73627.76475433192, -55109.24623581339, -71641.23118759778, -90159.74970611632, -73627.76475433192], "y": [26278.24120654602, 53477.315280620096, 64733.13482226053, 37534.06074818646, 26278.24120654602], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-77558.054165444, -69262.22940549887, -88738.24801791231, -97034.07277785744, -77558.054165444], "y": [2208.8943302805255, 37733.9811159903, 42282.02454244588, 6756.93775673611, 2208.8943302805255], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [41770.097151775735, 11214.541596220179, 7636.832832220511, 38192.388387776075, 41770.097151775735], "y": [85726.33155984677, 91281.88711540234, 71604.48891340419, 66048.93335784863, 85726.33155984677], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [67301.09186944563, 40912.20298055674, 29328.060336772847, 55716.94922566174, 67301.09186944563], "y": [65983.8809859549, 84733.8809859549, 68430.27282062941, 49680.27282062941, 65983.8809859549], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [86519.24363983532, 64297.0214176131, 48998.79745527207, 71221.01967749429, 86519.24363983532], "y": [42051.21213889772, 68440.10102778662, 55557.386112131026, 29168.49722324212, 42051.21213889772], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [96116.16237596511, 87088.38459818733, 67874.1009413645, 76901.87871914227, 96116.16237596511], "y": [9913.028987055444, 41163.02898705545, 35612.23593063995, 4362.235930639953, 9913.028987055444], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [97882.5129684967, 96493.62407960782, 76524.41701549957, 77913.30590438844, 97882.5129684967], "y": [-13141.000678260412, 11858.999321739588, 10749.59892928914, -14250.40107071086, -13141.000678260412], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [86986.19602153236, 98791.75157708793, 79781.84507357502, 67976.28951801946, 86986.19602153236], "y": [-48053.089437559865, -11941.978326448749, -5727.201200300305, -41838.31231141142, -48053.089437559865], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [73706.66749655837, 89678.88971878059, 73616.92915410455, 57644.706931882334, 73706.66749655837], "y": [-67570.83678288697, -46043.059005109186, -34126.12052163987, -55653.89829941765, -67570.83678288697], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [37247.91138987775, 56692.35583432219, 48270.12970522961, 28825.68526078517, 37247.91138987775], "y": [-90126.90166308107, -81099.12388530328, -62958.94453033466, -71986.72230811244, -90126.90166308107], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [8728.985881091154, 41367.874769980044, 37205.721880682875, 4566.832991793985, 8728.985881091154], "y": [-95698.98238655622, -88754.53794211178, -69192.41936241506, -76136.8638068595, -95698.98238655622], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-23576.617776159324, 9062.271112729566, 11177.992204600017, -21460.896684288873, -23576.617776159324], "y": [-92389.59000627676, -95861.81222849898, -75974.03396491674, -72501.81174269452, -92389.59000627676], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-55712.81003955094, -20990.587817328716, -12935.815532008379, -47658.037754230594, -55712.81003955094], "y": [-77015.51786537997, -92293.29564315775, -73986.99499470244, -58709.21721692466, -77015.51786537997], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-80923.35783827538, -54534.46894938649, -41891.934399950616, -68280.82328883949, -80923.35783827538], "y": [-56166.57330442662, -77694.3510822044, -62197.05066676688, -40669.2728889891, -56166.57330442662], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-92360.81705143786, -79634.29660800844, -61236.5511857731, -73963.07162920252, -92360.81705143786], "y": [-25266.751162381795, -55117.52963727661, -47273.872111694676, -17423.093636799855, -25266.751162381795], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [404.1687476607467, -68774.96207748023, -59552.54171518563, 9626.589109955348, 404.1687476607467], "y": [108487.10569426548, 86138.24738379454, 57590.97146014232, 79939.82977061326, 108487.10569426548], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [54171.83745055973, -4431.215271014764, -11585.64727984347, 47017.405441731025, 54171.83745055973], "y": [93924.60068861474, 108315.53885543384, 79181.1244519994, 64790.18628518031, 93924.60068861474], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [90279.86429335749, 52181.87046619699, 32610.767487822166, 70708.76131498268, 90279.86429335749], "y": [61790.716649444774, 94583.92652598798, 71846.9098305231, 39053.6999539799, 61790.716649444774], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [106626.9157385105, 89044.77196279033, 61932.63679598416, 79514.78057170434, 106626.9157385105], "y": [25896.697774352666, 63014.55685642858, 50171.966514257234, 13054.107432181321, 25896.697774352666], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [108890.64439836727, 106937.07286773168, 76971.97026461392, 78925.5417952495, 108890.64439836727], "y": [-13570.181131929821, 26896.65771694993, 25450.066556799422, -15016.772292080332, -13570.181131929821], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [92396.24994332665, 108873.23039600156, 80282.54770433674, 63805.56725166184, 92396.24994332665], "y": [-63690.95963818179, -11848.752848058322, -2761.791682490444, -54603.998472613916, -63690.95963818179], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [57005.605047862955, 91165.19866926211, 71466.65967798975, 37307.06605659058, 57005.605047862955], "y": [-94171.60590070792, -64432.66557148981, -41805.96537881208, -71544.90570803019, -94171.60590070792], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [6056.153152251587, 61113.38051850674, 54900.67947483567, -156.54789141948277, 6056.153152251587], "y": [-107178.14586005612, -95523.69627157874, -66174.03961699472, -77828.4892054721, -107178.14586005612], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-47373.6212355156, 9692.99399082186, 15496.73472680037, -41569.88049953709, -47373.6212355156], "y": [-96369.25138312232, -107621.82339958323, -78188.56680997793, -66935.99479351702, -96369.25138312232], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-88910.19390039198, -45507.4161226142, -26557.22758774713, -69960.0053655249, -88910.19390039198], "y": [-61130.94210976214, -96496.16844721069, -73239.118881692, -37873.892544243456, -61130.94210976214], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-108443.93784354653, -92368.8349628881, -63286.34372689712, -79361.44660755555, -108443.93784354653], "y": [1873.4820346965503, -61623.174343904284, -54260.51833479264, 9236.13804380819, 1873.4820346965503], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-95783.61164992016, -111456.83695856213, -82778.58864480334, -67105.36333616138, -95783.61164992016], "y": [53360.94090457579, 2322.4892584852496, -6484.216916606034, 44554.23472948451, 53360.94090457579], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-64689.05442614794, -97643.01533149775, -75694.77652701175, -42740.81562166194, -64689.05442614794], "y": [85707.39155857028, 50342.1652211217, 29890.3972442143, 65255.623581662876, 85707.39155857028], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [91019.32168621242, 2744.669722112708, -8462.9907335836, 79811.66123051611, 91019.32168621242], "y": [209877.62728914552, 226662.2583397349, 167718.3159273901, 150933.68487680072, 209877.62728914552], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [170823.7351339981, 90823.73513399811, 56007.247782730425, 136007.24778273044, 170823.7351339981], "y": [153838.2787856171, 210838.2787856171, 161973.03338032914, 104973.03338032914, 153838.2787856171], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [217048.13462446354, 172048.13462446354, 120782.84829226499, 165782.848292265, 217048.13462446354], "y": [78993.07422451998, 152993.07422451998, 121818.23794142625, 47818.23794142626, 78993.07422451998], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [228755.2765510935, 212755.2765510935, 154075.70636563504, 170075.70636563504, 228755.2765510935], "y": [8664.810236088671, 83664.81023608867, 71146.50192985754, -3853.4980701424665, 8664.810236088671], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [172905.50843377615, 156030.85646967642, 215050.82251885266, 231925.47448295238, 172905.50843377615], "y": [18805.73959052382, -73409.62935888677, -84209.79637398818, 8005.572575422409, 18805.73959052382], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [162117.79710983575, 212517.79710983575, 163363.88187869333, 112963.88187869333, 162117.79710983575], "y": [-159613.5831973373, -87613.58319733733, -53205.842535537624, -125205.84253553762, -159613.5831973373], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [97585.99042451593, 163585.9904245159, 128295.68856401315, 62295.68856401315, 97585.99042451593], "y": [-206271.79539553315, -158271.79539553315, -109747.63033734182, -157747.6303373418, -206271.79539553315], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [1591.9198001717195, 98791.91980017172, 85089.75918835739, -12110.240811642612, 1591.9198001717195], "y": [-226816.9499600417, -204016.9499600417, -145602.47577283325, -168402.47577283325, -226816.9499600417], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-103855.91097235789, 4144.089027642097, 16537.58996088701, -91462.41003911298, -103855.91097235789], "y": [-202962.74139254386, -225762.74139254386, -167056.6843403311, -144256.6843403311, -202962.74139254386], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-212272.04854098044, -179152.04854098044, -126526.27247049035, -159646.27247049037, -212272.04854098044], "y": [-89225.81821907169, -149705.8182190717, -120886.94084713663, -60406.94084713663, -89225.81821907169], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-177739.6581860047, -102859.6581860047, -67458.6628254661, -142338.6628254661, -177739.6581860047], "y": [-149438.1132008411, -204158.1132008411, -155714.64586536723, -100994.64586536723, -149438.1132008411], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-232321.04871403569, -212461.5189676979, -153696.8020437729, -173556.3317901107, -232321.04871403569], "y": [6839.002085553911, -89512.53435384162, -77400.22471236673, 18951.311727028784, 6839.002085553911], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-209243.56785408343, -230843.56785408343, -172754.75315738737, -151154.75315738737, -209243.56785408343], "y": [91095.10512595135, 7575.105125951349, -7447.864192159702, 76072.1358078403, 91095.10512595135], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-162267.30252558074, -208347.30252558074, -157811.01848589006, -111731.01848589006, -162267.30252558074], "y": [163115.23135959683, 91115.23135959683, 58772.00957419479, 130772.00957419479, 163115.23135959683], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-104692.4087518878, -163732.4087518878, -127545.91225958301, -68505.91225958301, -104692.4087518878], "y": [209753.4004053554, 165113.4004053554, 117253.84052843621, 161893.8405284362, 209753.4004053554], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [2844.6209840025467, -110915.37901599746, -99722.94199547337, 14037.058004526618, 2844.6209840025467], "y": [226817.03795427587, 205217.03795427587, 146270.20297951574, 167870.20297951574, 226817.03795427587], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-66480.9485882488], "y": [-5208.046553497988], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Sumri Administration [L08]"], "hoverinfo": "text", "text": ["Sumri Administration"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [45536.79832533146], "y": [-50501.2564300412], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Ingarda Market [J14]"], "hoverinfo": "text", "text": ["Ingarda Market"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-1685.423896890765], "y": [61998.74356995882], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Tubilt Works [P11]"], "hoverinfo": "text", "text": ["Tubilt Works"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-1960.0129497853943], "y": [68119.06611193666], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 73 [P11]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-70366.29888723251], "y": [-10535.025557429033], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 6 [L08]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [49611.543766485185], "y": [-55760.928796291], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 35 [J14]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-27414.178245345734], "y": [-79091.2193453778], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Acmen Mining [I10]"], "hoverinfo": "text", "text": ["Acmen Mining"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-28809.586481514], "y": [-83835.60734834992], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 45 [H10]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [65164.40816964439], "y": [52692.1616481181], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Ashu Ores [O15]"], "hoverinfo": "text", "text": ["Ashu Ores"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [67973.48278352438], "y": [56769.72560718179], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 9 [O15]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-177078.09383906878], "y": [170047.8871335625], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "#50CC50", "line": {"color": "#50CC50", "width": 5}}, "hovertext": ["G'Torin Gate [U03]"], "hoverinfo": "text", "text": ["G'Torin Gate"], "textposition": "top center", "textfont": {"color": "#50CC50", "size": 20}, "meta": {"base_marker_size": 16, "base_text_size": 20}}, {"type": "scatter", "x": [132227.4617164868], "y": [125464.55380022919], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "#50CC50", "line": {"color": "#50CC50", "width": 5}}, "hovertext": ["Tilminra Gate [S18]"], "hoverinfo": "text", "text": ["Tilminra Gate"], "textposition": "top center", "textfont": {"color": "#50CC50", "size": 20}, "meta": {"base_marker_size": 16, "base_text_size": 20}}, {"type": "scatter", "x": [-109811.42717240212], "y": [-116485.44619977083], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "#50CC50", "line": {"color": "#50CC50", "width": 5}}, "hovertext": ["Eulis Gate [G06]"], "hoverinfo": "text", "text": ["Eulis Gate"], "textposition": "top center", "textfont": {"color": "#50CC50", "size": 20}, "meta": {"base_marker_size": 16, "base_text_size": 20}}, {"type": "scatter", "x": [173388.57282759785], "y": [-172885.4461997708], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "#50CC50", "line": {"color": "#50CC50", "width": 5}}, "hovertext": ["Ibroan Gate [D20]"], "hoverinfo": "text", "text": ["Ibroan Gate"], "textposition": "top center", "textfont": {"color": "#50CC50", "size": 20}, "meta": {"base_marker_size": 16, "base_text_size": 20}}, {"type": "scatter", "x": [-114235.50124647621], "y": [174150.66491134037], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Yonk Mining [U06]"], "hoverinfo": "text", "text": ["Yonk Mining"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-136804.94569092066], "y": [197298.81305948852], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Rei Shops [V05]"], "hoverinfo": "text", "text": ["Rei Shops"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-96295.6864316614], "y": [130169.18342985888], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Lyn Markets [S07]"], "hoverinfo": "text", "text": ["Lyn Markets"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-127545.6864316614], "y": [155632.14639282183], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Chelle Denabite [T05]"], "hoverinfo": "text", "text": ["Chelle Denabite"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-139698.46420943917], "y": [135377.51676319222], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Scarsalt Ores [S05]"], "hoverinfo": "text", "text": ["Scarsalt Ores"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [2083.943197968255], "y": [157368.25750393295], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Paragon Mills [T12]"], "hoverinfo": "text", "text": ["Paragon Mills"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-10068.834579809525], "y": [185724.73898541444], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Czarin Denabite [V11]"], "hoverinfo": "text", "text": ["Czarin Denabite"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [5556.165420190478], "y": [177622.8871335626], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Fiyah Ores [U12]"], "hoverinfo": "text", "text": ["Fiyah Ores"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [17708.943197968256], "y": [200192.33157800703], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Nyama Minerals [W12]"], "hoverinfo": "text", "text": ["Nyama Minerals"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [84838.57282759789], "y": [131326.5908372663], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Usi Ax [S16]"], "hoverinfo": "text", "text": ["Usi Ax"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [110301.53579056087], "y": [166048.81305948852], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Kadumi Mining [U17]"], "hoverinfo": "text", "text": ["Kadumi Mining"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [108565.42467944976], "y": [148687.7019483774], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Ushu Denabite [T17]"], "hoverinfo": "text", "text": ["Ushu Denabite"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [123611.72097574607], "y": [9220.10935578478], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Holyard Respite [M18]"], "hoverinfo": "text", "text": ["Holyard Respite"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [197685.79504982012], "y": [88502.5167631922], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Yiari Gemstones [Q21]"], "hoverinfo": "text", "text": ["Yiari Gemstones"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [224884.86912389423], "y": [69983.99824467368], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Banjul Works [P23]"], "hoverinfo": "text", "text": ["Banjul Works"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [198843.20245722754], "y": [53780.294540969975], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Quan Excavations [O21]"], "hoverinfo": "text", "text": ["Quan Excavations"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [167593.20245722754], "y": [71720.10935578479], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Dujum Denabite [P20]"], "hoverinfo": "text", "text": ["Dujum Denabite"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [179745.98023500532], "y": [-13928.038792363372], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Fluzor Denabite [L20]"], "hoverinfo": "text", "text": ["Fluzor Denabite"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [155440.42467944976], "y": [-30710.44619977078], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Cliowa Smithy [K19]"], "hoverinfo": "text", "text": ["Cliowa Smithy"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [182060.79504982012], "y": [-42284.52027384486], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Grepna Ores [J21]"], "hoverinfo": "text", "text": ["Grepna Ores"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [106221.13884268707], "y": [-118274.21077453073], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 71 [G17]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [117607.67004982014], "y": [-107892.37349743882], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 22 [G17]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [174135.14775901075], "y": [-164543.05436735193], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 1 [D20]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [166320.86163646847], "y": [-176264.48355116538], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 91 [D20]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [178321.37246751555], "y": [-177101.72849286633], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 77 [D20]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [160181.0653973281], "y": [-162589.48283671634], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["QRF 67 [D20]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [172252.70747426167], "y": [-171705.6395422846], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 58 [D20]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [75410.06964393775], "y": [-166560.93437952537], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Orvag Mining [D15]"], "hoverinfo": "text", "text": ["Orvag Mining"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [61521.18075504886], "y": [-144338.71215730315], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Xar Production [E15]"], "hoverinfo": "text", "text": ["Xar Production"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [58743.40297727108], "y": [-181144.2677128587], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Kaolus Elements [C14]"], "hoverinfo": "text", "text": ["Kaolus Elements"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-50978.819244951155], "y": [-166560.93437952537], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Sandur Denabite [D09]"], "hoverinfo": "text", "text": ["Sandur Denabite"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-36395.48591161782], "y": [-184616.48993508093], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Mikos Denabite [C10]"], "hoverinfo": "text", "text": ["Mikos Denabite"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-25978.81924495115], "y": [-201283.15660174759], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Jedna Denabite [B10]"], "hoverinfo": "text", "text": ["Jedna Denabite"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-162784.37480050672], "y": [-118644.2677128587], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Deleno Ores [G03]"], "hoverinfo": "text", "text": ["Deleno Ores"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-134312.1525782845], "y": [-89477.60104619202], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Bujum [H05]"], "hoverinfo": "text", "text": ["Bujum"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [62910.06964393774], "y": [7744.621176030207], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Maury Polytech [M15]"], "hoverinfo": "text", "text": ["Maury Polytech"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [63056.31244018954], "y": [6162.835302762313], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 87 [M15]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-161751.6532150361], "y": [9564.601350735835], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Conakry Foundry [M03]"], "hoverinfo": "text", "text": ["Conakry Foundry"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-185577.57914096207], "y": [25626.63838777283], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Maseru Metals [N02]"], "hoverinfo": "text", "text": ["Maseru Metals"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-192522.0235854065], "y": [-1572.435686301248], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Purity Denabite [L02]"], "hoverinfo": "text", "text": ["Purity Denabite"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-217406.28284466578], "y": [15788.675424809866], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Niyamo Ores [M01]"], "hoverinfo": "text", "text": ["Niyamo Ores"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-133494.24580762873], "y": [-9674.287538153101], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Juba Residences [L05]"], "hoverinfo": "text", "text": ["Juba Residences"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-198331.23654836946], "y": [-17314.318402350673], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Okalpa Minerals [L02]"], "hoverinfo": "text", "text": ["Okalpa Minerals"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [112037.64690167198], "y": [-113465.07582940042], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Pakku Est [G17]"], "hoverinfo": "text", "text": ["Pakku Est"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-23895.48591161782], "y": [-151283.15660174759], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Lon Na [E10]"], "hoverinfo": "text", "text": ["Lon Na"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-175284.37480050672], "y": [-96422.04549063648], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Marr Toc Mines [H03]"], "hoverinfo": "text", "text": ["Marr Toc Mines"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}], "layout": {"title": "Sumri", "paper_bgcolor": "black", "plot_bgcolor": "black", "font": {"color": "white"}, "margin": {"l": 0, "r": 0, "t": 40, "b": 0}, "autosize": true, "dragmode": "pan", "hovermode": "closest", "xaxis": {"color": "white", "showgrid": true, "gridcolor": "gray", "dtick": 20000, "title": "X Axis"}, "yaxis": {"color": "white", "showgrid": true, "gridcolor": "gray", "dtick": 20000, "scaleanchor": "x", "scaleratio": 1, "title": "Z Axis"}, "shapes": []}};
    fig.layout.showlegend = false;
    fig.layout.dragmode = 'pan';
    fig.layout.title = 'Sumri';
    if (!isGM()) {
        fig.data = fig.data.filter(t => !t.gmOnly);
        }
    Plotly.newPlot('plot', fig.data, fig.layout, {responsive: true, scrollZoom: true});
        console.log("[DEBUG JS] Plotted traces count:", fig.data.length);
        console.log("[DEBUG JS] fig.data sample:", fig.data.slice(0,3));

    var plotDiv = document.getElementById('plot');
    // Use Plotly's built-in nearest-point selection for accurate clicks
    plotDiv.on('plotly_click', function(ev) {
        if (!ev || !ev.points || !ev.points.length) return;
        var p = ev.points[0];
        var picked = null;
        // Prefer original name from hovertext: "Name [Grid]"
        if (p.hovertext && typeof p.hovertext === 'string') {
            picked = p.hovertext.split(' [')[0];
        } else if (p.text && typeof p.text === 'string') {
            // Fallback to text label (strip any ** used for GM marking)
            picked = p.text.replace(/\*/g, '');
        }
        if (picked && objData[picked]) {
            highlight(picked);
        }
    });

    // ——— Auto-scale markers based on current zoom/span (optimized: planets & blackholes only) ———
    (function() {
        var refSpan = null;
        var planetIdx = [0];
        var bhIdx = [];
        function rescaleMarkers() {
            try {
                var full = plotDiv._fullLayout || {};
                var xaxis = full.xaxis || (fig.layout && fig.layout.xaxis);
                if (!xaxis || !xaxis.range) return;
                var curr = Math.abs(xaxis.range[1] - xaxis.range[0]);
                if (!curr) return;
                if (!refSpan) refSpan = curr;
                var scale = refSpan / curr;
                var indices = [];
                var markerSizes = [];
                var textSizes = [];
                function pushForIndex(i) {
                    var t = fig.data[i];
                    if (!t || !t.meta || !t.meta.base_marker_size) return;
                    var base = t.meta.base_marker_size;
                    var baseText = t.meta.base_text_size || (t.textfont && t.textfont.size) || 12;
                    var newMarker = Math.max(2, Math.round(base * scale));
                    var newText = Math.max(8, Math.round(baseText * Math.sqrt(scale)));
                    indices.push(i);
                    markerSizes.push(newMarker);
                    textSizes.push(newText);
                }
                planetIdx.forEach(pushForIndex);
                bhIdx.forEach(pushForIndex);
                if (indices.length) {
                    Plotly.restyle(plotDiv, {'marker.size': [markerSizes], 'textfont.size': [textSizes]}, indices);
                }
            } catch (e) { console.error(e); }
        }
        // initial scale after plot settles
        setTimeout(rescaleMarkers, 250);
        plotDiv.on('plotly_relayout', rescaleMarkers);
    })();

  var ctrl = document.getElementById('object-buttons');

  // Helper: create and append a single button
function addButton(label, fn, header, color, isHidden) {
    if (isHidden && !isGM()) return;
    var btn = document.createElement('button');
    btn.textContent = label;
    if (header) {
      btn.className = 'header';     // section header style
      btn.onclick = null;           // no click action
    } else {
      btn.onclick = fn;             // bind the handler
      if (color) btn.style.backgroundColor = color;
    }
    ctrl.appendChild(btn);
  }
  
  function enterGMMode() {
    const pw = prompt("Enter ONI Auth Code: --We will store a cookie for the purpose of tracking if you have authenticated or not--");
    if (pw === "oni1") {
      document.cookie = "gmMode=1; path=/; max-age=31536000";
      location.reload();
    } else {
      alert("Incorrect password.");
    }
  }

  function isGM() {
    return document.cookie.split(';').some(c => c.trim() === 'gmMode=1');
  }

  function exitGMMode() {
    document.cookie = "gmMode=; path=/; expires=Thu, 01 Jan 1970 00:00:00 UTC;";
    location.reload();
  }

  function renderGMControls() {
    const div = document.getElementById('gm-controls');
    div.innerHTML = '';
    const btn = document.createElement('button');
    btn.style.width = '100%';
    if (isGM()) {
      btn.textContent = 'ONI Logout';
      btn.onclick = exitGMMode;
    } else {
      btn.textContent = 'ONI Login';
      btn.onclick = enterGMMode;
    }
    div.appendChild(btn);
  }

  renderGMControls();

  // ——— Populate the sidebar ———
  addButton('None', clearAnnotations, false, null);

  addButton('--- Gates ---', null, true, null);
  addButton('Eulis Gate',function(){highlight('Eulis Gate');},false,null,false)
    addButton('G'Torin Gate',function(){highlight('G'Torin Gate');},false,null,false)
    addButton('Ibroan Gate',function(){highlight('Ibroan Gate');},false,null,false)
    addButton('Tilminra Gate',function(){highlight('Tilminra Gate');},false,null,false)

  addButton('--- Nav Points/POI ---', null, true, null);
  

    addButton('--- Planets ---', null, true, null);
    addButton('Planet Sumri',function(){highlight('Planet Sumri');},false,null,false)

    addButton('--- Stations ---', null, true, null);
    addButton('Acmen Mining',function(){highlight('Acmen Mining');},false,'red',false)
    addButton('Ashu Ores',function(){highlight('Ashu Ores');},false,'red',false)
    addButton('Banjul Works',function(){highlight('Banjul Works');},false,'red',false)
    addButton('Bujum',function(){highlight('Bujum');},false,'red',false)
    addButton('Chelle Denabite',function(){highlight('Chelle Denabite');},false,'red',false)
    addButton('Cliowa Smithy',function(){highlight('Cliowa Smithy');},false,'red',false)
    addButton('Conakry Foundry',function(){highlight('Conakry Foundry');},false,'red',false)
    addButton('Czarin Denabite',function(){highlight('Czarin Denabite');},false,'red',false)
    addButton('Deleno Ores',function(){highlight('Deleno Ores');},false,'red',false)
    addButton('Dujum Denabite',function(){highlight('Dujum Denabite');},false,'red',false)
    addButton('Fiyah Ores',function(){highlight('Fiyah Ores');},false,'red',false)
    addButton('Fluzor Denabite',function(){highlight('Fluzor Denabite');},false,'red',false)
    addButton('Grepna Ores',function(){highlight('Grepna Ores');},false,'red',false)
    addButton('Holyard Respite',function(){highlight('Holyard Respite');},false,'red',false)
    addButton('Ingarda Market',function(){highlight('Ingarda Market');},false,'red',false)
    addButton('Jedna Denabite',function(){highlight('Jedna Denabite');},false,'red',false)
    addButton('Juba Residences',function(){highlight('Juba Residences');},false,'red',false)
    addButton('Kadumi Mining',function(){highlight('Kadumi Mining');},false,'red',false)
    addButton('Kaolus Elements',function(){highlight('Kaolus Elements');},false,'red',false)
    addButton('Lon Na',function(){highlight('Lon Na');},false,'red',false)
    addButton('Lyn Markets',function(){highlight('Lyn Markets');},false,'red',false)
    addButton('Marr Toc Mines',function(){highlight('Marr Toc Mines');},false,'red',false)
    addButton('Maseru Metals',function(){highlight('Maseru Metals');},false,'red',false)
    addButton('Maury Polytech',function(){highlight('Maury Polytech');},false,'red',false)
    addButton('Mikos Denabite',function(){highlight('Mikos Denabite');},false,'red',false)
    addButton('Niyamo Ores',function(){highlight('Niyamo Ores');},false,'red',false)
    addButton('Nyama Minerals',function(){highlight('Nyama Minerals');},false,'red',false)
    addButton('Okalpa Minerals',function(){highlight('Okalpa Minerals');},false,'red',false)
    addButton('Orvag Mining',function(){highlight('Orvag Mining');},false,'red',false)
    addButton('Pakku Est',function(){highlight('Pakku Est');},false,'red',false)
    addButton('Paragon Mills',function(){highlight('Paragon Mills');},false,'red',false)
    addButton('Purity Denabite',function(){highlight('Purity Denabite');},false,'red',false)
    addButton('Quan Excavations',function(){highlight('Quan Excavations');},false,'red',false)
    addButton('Rei Shops',function(){highlight('Rei Shops');},false,'red',false)
    addButton('Sandur Denabite',function(){highlight('Sandur Denabite');},false,'red',false)
    addButton('Scarsalt Ores',function(){highlight('Scarsalt Ores');},false,'red',false)
    addButton('Sumri Administration',function(){highlight('Sumri Administration');},false,'red',false)
    addButton('Tubilt Works',function(){highlight('Tubilt Works');},false,'red',false)
    addButton('Ushu Denabite',function(){highlight('Ushu Denabite');},false,'red',false)
    addButton('Usi Ax',function(){highlight('Usi Ax');},false,'red',false)
    addButton('Xar Production',function(){highlight('Xar Production');},false,'red',false)
    addButton('Yiari Gemstones',function(){highlight('Yiari Gemstones');},false,'red',false)
    addButton('Yonk Mining',function(){highlight('Yonk Mining');},false,'red',false)
    
  // Search filter
  document.getElementById('search-box').addEventListener('input', function() {
    const query = this.value.toLowerCase();
    const buttons = document.querySelectorAll('#object-buttons button');
    buttons.forEach(btn => {
      const label = btn.textContent.toLowerCase();
      const isHeader = btn.classList.contains('header');
      if (isHeader) {
        btn.style.display = ''; // always show section headers
      } else {
        btn.style.display = label.includes(query) ? '' : 'none';
      }
    });
  });
</script>
</body>
</html>