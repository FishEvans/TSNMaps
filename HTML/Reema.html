
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reema.html</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body { margin: 0; background: black; color: white; display: flex; height: 100vh; }
        /* === Description typography controls ===
           Tweak these two variables to change description sizes globally */
        :root {
            --desc-font-size: 130%;
            --hull-desc-font-size: 130%;
        }
        .desc-text { font-size: var(--desc-font-size); margin-top: 8px; }
        .hull-desc { font-size: var(--hull-desc-font-size); margin-top: 5px; color: #ccc; }
        #controls { flex: 1; min-width: 200px; max-width: 350px; overflow-y: auto; background: #333; padding: 10px; }
        #plot { flex: 3; min-width: 400px; }
        #info { flex: 1; min-width: 200px; background: #333; padding: 10px; overflow-y: auto; }
        h2.header { margin-top: 0; margin-bottom: 5px; text-align: center; }
        h3.subheader { margin-top: 0; margin-bottom: 15px; text-align: center; color: #ccc; }
        .alignment-image { display: block; max-width: 100%; height: auto; margin: 10px auto; }
        button { display: block; width: 100%; margin-bottom: 5px; background: #555; color: white; border: none; padding: 5px; text-align: left; cursor: pointer; font-size: 20px; }
        button.header { background: #444; cursor: default; font-size: 24px; }
    </style>
</head>
<body>
    <div id="controls">
        <div id="gm-controls" style="margin-bottom:10px;"></div>
        <h2 class="header">Reema</h2>
        <h3 class="subheader">Alignment: USFP</h3>
        <img src="Images/Factions/USFP.png" alt="Alignment Logo" class="alignment-image" onerror="this.style.display='none';">

        <input type="text" id="search-box" placeholder="Search objects..." style="width: 95%; padding: 6px; margin-bottom: 10px; font-size: 16px;">
        <div id="object-buttons">
    </div>
    </div>
    <div id="plot"></div>
    <div id="info">
        <img src="Images/Compass.png" alt="Compass" style="display:block; max-width:100%; height:auto; margin-bottom:10px;">
        <button id="galactic-map-btn" title="Back to Galactic Map">Show Galactic Map</button>
        Select an object
    </div>
<script>
    var objData = {"Laestrygonia": {"type": "blackhole", "x": 1017.5096154095719, "y": -1447.9679257541359, "grid": "L12"}, "Reema II": {"type": "planet", "x": 292652.59043007105, "y": 106303.57369965054, "grid": "R26", "hidden": false}, "Planet Ryl": {"type": "planet", "x": 115167.72828551203, "y": 325607.6749857486, "grid": "C17", "hidden": false}, "Planet Aadden": {"type": "planet", "x": 48303.21904407891, "y": -305621.1132746344, "grid": "W14", "hidden": false}, "Planet Misisha": {"type": "planet", "x": -225854.13206703213, "y": -334404.30438574543, "grid": "V00", "hidden": false}, "Planet Erisian": {"type": "planet", "x": -291433.88690326235, "y": -71667.65217689268, "grid": "I97", "hidden": false}, "Planet Citara": {"type": "planet", "x": -117104.71260681265, "y": 365596.47651869024, "grid": "E06", "hidden": false}, "Planet Skoth": {"type": "planet", "x": 353036.0118410677, "y": -172255.20131054756, "grid": "D29", "hidden": false}, "Reema Command": {"type": "station", "x": -285951.06944444455, "y": 72377.28063100125, "grid": "P97", "hidden": false, "label": "Reema Command", "hull": "starbase_command", "facilities": ["Repair", "Refuel", "Docking"], "sides": ["USFP"], "hullName": "Command Starbase", "hullImage": "Images/Ships/tsn-big-base256.png", "hullDescription": ""}, "Reema Armory": {"type": "station", "x": -285927.59979423875, "y": 54442.99565157739, "grid": "O97", "hidden": false, "label": "Reema Armory", "hull": "starbase_command", "facilities": ["Repair", "Refuel", "Docking"], "sides": ["USFP"], "hullName": "Command Starbase", "hullImage": "Images/Ships/tsn-big-base256.png", "hullDescription": ""}, "WP 81": {"type": "platform", "x": -286094.95292733586, "y": 77813.48152453885, "grid": "P97", "hidden": false, "label": "WP 81"}, "WP 89": {"type": "platform", "x": -285933.32780064555, "y": 50162.042716419026, "grid": "O97", "hidden": false, "label": "WP 89"}, "WP 46": {"type": "platform", "x": -286023.3342638213, "y": 64063.073484966524, "grid": "P97", "hidden": false, "label": "WP 46"}, "Ashia Gate": {"type": "jumpnode", "x": -190270.93799058849, "y": 252765.78277911124, "grid": "Y02", "hidden": false, "label": "Ashia Gate", "destinations": {"Lightening Gate": "Ashia"}}, "Nevega Transit": {"type": "station", "x": -154547.20342268728, "y": 266760.58524824725, "grid": "Z04", "hidden": false, "label": "Nevega Transit", "hull": "starbase_civil", "facilities": [], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "Eulis Gate": {"type": "jumpnode", "x": 251963.02281250243, "y": -326328.98805692524, "grid": "V24", "hidden": false, "label": "Eulis Gate", "destinations": {"Reema Gate": "Eulis"}}, "Reema Immigration": {"type": "station", "x": 223711.3706513867, "y": -297044.98759125883, "grid": "X23", "hidden": false, "label": "Reema Immigration", "hull": "starbase_command", "facilities": ["Docking", "Refuel", "Repair"], "sides": ["USFP"], "hullName": "Command Starbase", "hullImage": "Images/Ships/tsn-big-base256.png", "hullDescription": ""}, "WP 96": {"type": "platform", "x": 254232.01722783523, "y": -320349.7028660157, "grid": "V24", "hidden": false, "label": "WP 96"}, "WP 65": {"type": "platform", "x": 244303.02437790428, "y": -327995.868136993, "grid": "V24", "hidden": false, "label": "WP 65"}, "WP 94": {"type": "platform", "x": 243090.97450669474, "y": -316370.015803726, "grid": "W24", "hidden": false, "label": "WP 94"}, "WP 24": {"type": "platform", "x": 255023.394544947, "y": -332573.46349653194, "grid": "V24", "hidden": false, "label": "WP 24"}, "Tycho Institute": {"type": "station", "x": 133852.20771402176, "y": 292172.8453045888, "grid": "A18", "hidden": false, "label": "Tycho Institute", "hull": "starbase_science", "facilities": [], "sides": ["USFP"], "hullName": "Science Starbase", "hullImage": "Images/Ships/science_station256.png", "hullDescription": ""}, "Elysium Spa": {"type": "station", "x": 77623.84383084842, "y": 314778.8903720328, "grid": "B15", "hidden": false, "label": "Elysium Spa", "hull": "starbase_civil", "facilities": ["Refuel", "Repair"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "Reema Confederacy": {"type": "station", "x": 279345.5410473549, "y": 135178.17863792213, "grid": "S25", "hidden": false, "label": "Reema Confederacy", "hull": "starbase_command", "facilities": ["Repair", "Refuel", "Docking"], "sides": ["USFP"], "hullName": "Command Starbase", "hullImage": "Images/Ships/tsn-big-base256.png", "hullDescription": ""}, "Goldleaf Commissariat": {"type": "station", "x": 317450.76429838385, "y": 73235.15600417733, "grid": "P27", "hidden": false, "label": "Goldleaf Commissariat", "hull": "starbase_civil", "facilities": ["Refuel"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "Sylvan Oasis": {"type": "station", "x": 126840.66725197314, "y": 342606.0421818178, "grid": "D18", "hidden": false, "label": "Sylvan Oasis", "hull": "starbase_civil", "facilities": [], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "Zabnel Base": {"type": "station", "x": 89743.44643007097, "y": -287096.98551022605, "grid": "X16", "hidden": false, "label": "Zabnel Base", "hull": "starbase_industry", "facilities": ["Refuel", "Repair", "Docking"], "sides": ["USFP"], "hullName": "Industrial Starbase", "hullImage": "Images/Ships/industry_station256.png", "hullDescription": ""}, "Mahagma": {"type": "station", "x": -192073.88690326238, "y": -330867.6521768927, "grid": "V02", "hidden": false, "label": "Mahagma", "hull": "starbase_command", "facilities": ["Docking", "Repair", "Refuel"], "sides": ["USFP"], "hullName": "Command Starbase", "hullImage": "Images/Ships/tsn-big-base256.png", "hullDescription": ""}, "Everrest Groceries": {"type": "station", "x": -218904.3190020278, "y": -312377.4669917075, "grid": "W01", "hidden": false, "label": "Everrest Groceries", "hull": "starbase_civil", "facilities": [], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "Sluvian": {"type": "station", "x": -290833.88690326235, "y": -104307.6521768927, "grid": "G97", "hidden": false, "label": "Sluvian", "hull": "starbase_science", "facilities": [], "sides": ["USFP"], "hullName": "Science Starbase", "hullImage": "Images/Ships/science_station256.png", "hullDescription": ""}, "Kikiti": {"type": "station", "x": -108926.66749120633, "y": 395079.4884790668, "grid": "F06", "hidden": false, "label": "Kikiti", "hull": "starbase_civil", "facilities": [], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "SY 248": {"type": "station", "x": -147304.9662928371, "y": 365508.794987221, "grid": "E04", "hidden": false, "label": "SY 248", "hull": "usfp_shipyard", "facilities": [], "sides": ["USFP"], "hullName": "Ship Yard", "hullImage": "Images/Ships/TSN Mod/USFP/ShipYard256.png", "hullDescription": ""}, "Skoth Admin": {"type": "station", "x": 376841.1155658734, "y": -164945.02007812719, "grid": "D30", "hidden": false, "label": "Skoth Admin", "hull": "starbase_command", "facilities": ["Refuel", "Docking", "Repair"], "sides": ["USFP"], "hullName": "Command Starbase", "hullImage": "Images/Ships/tsn-big-base256.png", "hullDescription": ""}, "WP 28": {"type": "platform", "x": 273200.5359211927, "y": 129915.69885115177, "grid": "S25", "hidden": false, "label": "WP 28"}, "WP 38": {"type": "platform", "x": 285061.50592862297, "y": 140846.39670113652, "grid": "T26", "hidden": false, "label": "WP 38"}, "Porisana": {"type": "station", "x": 278107.1779155535, "y": 79403.09299362249, "grid": "P25", "hidden": false, "label": "Porisana", "hull": "starbase_civil", "facilities": ["Refuel"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "Nikola Research": {"type": "station", "x": 156259.07091966874, "y": 88586.41089485699, "grid": "Q19", "hidden": true, "label": "**Nikola Research**", "description": "Classified Research Station", "hull": "starbase_science", "facilities": ["Refuel"], "sides": ["USFP"], "hullName": "Science Starbase", "hullImage": "Images/Ships/science_station256.png", "hullDescription": ""}, "Huygens": {"type": "station", "x": 35176.78065450445, "y": -273662.18904143805, "grid": "Y13", "hidden": false, "label": "Huygens", "hull": "starbase_science", "facilities": ["Refuel"], "sides": ["USFP"], "hullName": "Science Starbase", "hullImage": "Images/Ships/science_station256.png", "hullDescription": ""}, "Irasmix Mining": {"type": "station", "x": -316383.44774055725, "y": 238063.0331807841, "grid": "X96", "hidden": false, "label": "Irasmix Mining", "hull": "starbase_industry", "facilities": ["Repair", "Refuel"], "sides": ["USFP"], "hullName": "Industrial Starbase", "hullImage": "Images/Ships/industry_station256.png", "hullDescription": ""}, "Guild Bar": {"type": "station", "x": -326993.0156417918, "y": 219255.16281041372, "grid": "W95", "hidden": false, "label": "Guild Bar", "hull": "starbase_civil", "facilities": ["Refuel", "Docking"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "Bremmer": {"type": "station", "x": -339531.5958887054, "y": 202858.55787214212, "grid": "W95", "hidden": false, "label": "Bremmer", "hull": "starbase_industry", "facilities": [], "sides": ["USFP"], "hullName": "Industrial Starbase", "hullImage": "Images/Ships/industry_station256.png", "hullDescription": ""}, "Freedom Station": {"type": "station", "x": -175722.95391339672, "y": 226199.60725485827, "grid": "X03", "hidden": false, "label": "Freedom Station", "hull": "starbase_civil", "facilities": ["Docking", "Refuel", "Repair"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "Kaltoa Ores": {"type": "station", "x": -349707.30798747105, "y": 188794.34799559912, "grid": "V94", "hidden": false, "label": "Kaltoa Ores", "hull": "usfp_industrial_refinary", "facilities": [], "sides": ["USFP"], "hullName": "Refinary Unit", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialRefinary256.png", "hullDescription": ""}, "Aspen Art Colony": {"type": "station", "x": -289520.777466209, "y": -44990.199905635476, "grid": "J97", "hidden": false, "label": "Aspen Art Colony", "description": "Exclusive admittance, except when threatened", "hull": "starbase_civil", "facilities": [], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "Cyrnoth Emporium": {"type": "station", "x": 328090.7768874589, "y": -175757.35338348488, "grid": "D28", "hidden": false, "label": "Cyrnoth Emporium", "hull": "starbase_civil", "facilities": ["Docking", "Refuel"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "SR 93": {"type": "sensor_relay", "x": 346019.7832779611, "y": 3825.241950789051, "grid": "M29", "hidden": false, "label": "SR 93"}, "SR 96": {"type": "sensor_relay", "x": 343187.338046981, "y": 47942.86273194362, "grid": "O29", "hidden": false, "label": "SR 96"}, "SR 83": {"type": "sensor_relay", "x": 334736.5110264262, "y": 91336.07339956908, "grid": "Q28", "hidden": false, "label": "SR 83"}, "SR 72": {"type": "sensor_relay", "x": 320806.06456233864, "y": 133292.3586341731, "grid": "S28", "hidden": false, "label": "SR 72"}, "SR 48": {"type": "sensor_relay", "x": 301624.73620053043, "y": 173122.79739214762, "grid": "U27", "hidden": false, "label": "SR 48"}, "SR 55": {"type": "sensor_relay", "x": 277507.4828224061, "y": 210173.37497025856, "grid": "W25", "hidden": false, "label": "SR 55"}, "SR 50": {"type": "sensor_relay", "x": 248850.30906167717, "y": 243835.72190899187, "grid": "Y24", "hidden": false, "label": "SR 50"}, "SR 22": {"type": "sensor_relay", "x": 216123.7649192242, "y": 273557.10340225935, "grid": "Z22", "hidden": false, "label": "SR 22"}, "SR 75": {"type": "sensor_relay", "x": 179865.21934509228, "y": 298849.49518763344, "grid": "A20", "hidden": false, "label": "SR 75"}, "SR 18": {"type": "sensor_relay", "x": -204483.29667814643, "y": -273429.0697754224, "grid": "Y01", "hidden": false, "label": "SR 18"}, "SR 25": {"type": "sensor_relay", "x": 56081.747064477044, "y": 344402.9572287743, "grid": "D14", "hidden": false, "label": "SR 25"}, "SR 65": {"type": "sensor_relay", "x": 12077.577540182196, "y": 348647.9865400264, "grid": "D12", "hidden": false, "label": "SR 65"}, "SR 89": {"type": "sensor_relay", "x": -32108.160660189104, "y": 347231.03591826244, "grid": "D10", "hidden": false, "label": "SR 89"}, "SR 16": {"type": "sensor_relay", "x": -75749.93893696734, "y": 340175.37165351823, "grid": "D08", "hidden": false, "label": "SR 16"}, "SR 41": {"type": "sensor_relay", "x": -118131.16049738998, "y": 327596.8475579564, "grid": "C06", "hidden": false, "label": "SR 41"}, "SR 52": {"type": "sensor_relay", "x": -158555.926855127, "y": 309702.0026494741, "grid": "B04", "hidden": false, "label": "SR 52"}, "SR 77": {"type": "sensor_relay", "x": -196360.46446418748, "y": 286784.6697867388, "grid": "A02", "hidden": false, "label": "SR 77"}, "SR 79": {"type": "sensor_relay", "x": -230924.0238621932, "y": 259221.1509417729, "grid": "Y00", "hidden": false, "label": "SR 79"}, "SR 13": {"type": "sensor_relay", "x": -261679.07235939018, "y": 227464.0383319762, "grid": "X98", "hidden": false, "label": "SR 13"}, "SR 68": {"type": "sensor_relay", "x": -288120.6129097239, "y": 192034.78286842836, "grid": "V97", "hidden": false, "label": "SR 68"}, "SR 53": {"type": "sensor_relay", "x": -309814.47614837345, "y": 153515.13194634664, "grid": "T96", "hidden": false, "label": "SR 53"}, "SR 80": {"type": "sensor_relay", "x": -326404.44944071956, "y": 112537.57716893838, "grid": "R95", "hidden": false, "label": "SR 80"}, "SR 39": {"type": "sensor_relay", "x": -337618.12588395644, "y": 69774.96885276257, "grid": "P95", "hidden": false, "label": "SR 39"}, "SR 38": {"type": "sensor_relay", "x": -343271.3772209049, "y": 25929.467844135117, "grid": "N94", "hidden": false, "label": "SR 38"}, "SR 94": {"type": "sensor_relay", "x": -343271.3772209049, "y": -18278.98394255693, "grid": "L94", "hidden": false, "label": "SR 94"}, "SR 30": {"type": "sensor_relay", "x": -337618.12588395644, "y": -62124.484951184386, "grid": "I95", "hidden": false, "label": "SR 30"}, "SR 28": {"type": "sensor_relay", "x": -326404.44944071956, "y": -104887.09326736006, "grid": "G95", "hidden": false, "label": "SR 28"}, "SR 71": {"type": "sensor_relay", "x": -309814.47614837345, "y": -145864.64804476846, "grid": "E96", "hidden": false, "label": "SR 71"}, "SR 27": {"type": "sensor_relay", "x": -288120.6129097239, "y": -184384.29896685015, "grid": "C97", "hidden": false, "label": "SR 27"}, "SR 45": {"type": "sensor_relay", "x": -261679.07235939035, "y": -219813.55443039787, "grid": "B98", "hidden": false, "label": "SR 45"}, "SR 29": {"type": "sensor_relay", "x": -230924.02386219325, "y": -251570.6670401947, "grid": "Z00", "hidden": false, "label": "SR 29"}, "SR 78": {"type": "sensor_relay", "x": -158555.92685512707, "y": -302051.51874789596, "grid": "W04", "hidden": false, "label": "SR 78"}, "SR 67": {"type": "sensor_relay", "x": -118131.16049738992, "y": -319946.36365637835, "grid": "W06", "hidden": false, "label": "SR 67"}, "SR 62": {"type": "sensor_relay", "x": -75749.93893696743, "y": -332524.8877519401, "grid": "V08", "hidden": false, "label": "SR 62"}, "SR 66": {"type": "sensor_relay", "x": -32108.160660189038, "y": -339580.5520166843, "grid": "V10", "hidden": false, "label": "SR 66"}, "SR 10": {"type": "sensor_relay", "x": 12077.577540182032, "y": -340997.50263844826, "grid": "U12", "hidden": false, "label": "SR 10"}, "SR 97": {"type": "sensor_relay", "x": 56081.74706447665, "y": -336752.47332719626, "grid": "V14", "hidden": false, "label": "SR 97"}, "SR 76": {"type": "sensor_relay", "x": 99181.80066566715, "y": -326915.16734685894, "grid": "V16", "hidden": false, "label": "SR 76"}, "SR 74": {"type": "sensor_relay", "x": 140670.03665518694, "y": -311647.11298966623, "grid": "W19", "hidden": false, "label": "SR 74"}, "SR 17": {"type": "sensor_relay", "x": 179865.21934509205, "y": -291199.01128605544, "grid": "X20", "hidden": false, "label": "SR 17"}, "SR 61": {"type": "sensor_relay", "x": 216123.7649192241, "y": -265906.61950068123, "grid": "Y22", "hidden": false, "label": "SR 61"}, "SR 49": {"type": "sensor_relay", "x": 248850.30906167693, "y": -236185.23800741392, "grid": "A24", "hidden": false, "label": "SR 49"}, "SR 36": {"type": "sensor_relay", "x": 277507.4828224059, "y": -202522.8910686808, "grid": "B25", "hidden": false, "label": "SR 36"}, "SR 88": {"type": "sensor_relay", "x": 301624.73620053043, "y": -165472.3134905695, "grid": "D27", "hidden": false, "label": "SR 88"}, "SR 40": {"type": "sensor_relay", "x": 320806.0645623385, "y": -125641.87473259518, "grid": "F28", "hidden": false, "label": "SR 40"}, "SR 85": {"type": "sensor_relay", "x": 334736.5110264262, "y": -83685.58949799105, "grid": "H28", "hidden": false, "label": "SR 85"}, "SR 42": {"type": "sensor_relay", "x": 343187.338046981, "y": -40292.378830365735, "grid": "J29", "hidden": false, "label": "SR 42"}};
        console.log("[DEBUG JS] objData keys:", Object.keys(objData));
        console.log("[DEBUG JS] objData sample:", objData[Object.keys(objData)[0]]);

    function clearAnnotations() {
        Plotly.relayout('plot', {annotations: []});
        document.getElementById('info').innerHTML = getInfoHeader() + 'Select an object';
        document.getElementById('galactic-map-btn').addEventListener('click', function() {
            window.location.href = 'index.html';
        });
        document.getElementById('galactic-map-btn').addEventListener('click', function() {
            window.location.href = 'index.html';
        });
    }
    
    function getInfoHeader() {
    return '<img src="Images/Compass.png" alt="Compass" '
         + 'style="display:block; max-width:100%; height:auto; margin-bottom:10px;">'
         + '<button id="galactic-map-btn" title="Back to Galactic Map">Galactic Map</button>';
        }
    
    function highlight(name) {
        var obj = objData[name];
        if (obj.hidden && !isGM()) {
            alert("This object is not visible on the public map.");
            return;
        }
        var annotation = {
            x: obj.x, y: obj.y, xref: 'x', yref: 'y', text: name,
            showarrow: true, arrowcolor: 'yellow', arrowwidth: 2,
            arrowhead: 3, font: {color: 'yellow', size: 28}
        };

        Plotly.relayout('plot', {annotations: [annotation]});

        var label = obj.label || name;
        var infoHtml = '<span style="font-size:20pt;">' + label + '</span><br>';
        infoHtml += '<b>Location:</b> ' + obj.grid + '<br>';

        if (obj.type === 'station') {
            // Station selected: display detailed station info
            if (obj.hullImage) {
                infoHtml += '<img src="' + obj.hullImage + '" alt="Hull Art" style="max-width:48%; height:auto;">';
            }
            if (obj.sides && obj.sides.length > 0) {
                infoHtml += '<img src="Images/Factions/' + obj.sides[0] + '.png" alt="Faction Logo" style="max-width:48%; height:auto;">';
            }
            infoHtml += '<b>Facilities:</b> ' + (obj.facilities.length ? obj.facilities.join(', ') : 'None') + '<br>';
            if (obj.hullName && obj.hullImage) {
                infoHtml += '<b>General Class:</b> ' + obj.hullName + '<br>';
            }
            if (obj.hullDescription) {
                infoHtml += '<p class="hull-desc">' + obj.hullDescription + '</p>';
            }
        } 
        else if ((obj.type === 'jump_point' || obj.type === 'jumppoint' || obj.type === 'jumpnode') && obj.destinations && typeof obj.destinations === 'object') {
        
            // Generate a random 5-character alphanumeric serial
            const serial = Math.random().toString(36).substring(2, 7).toUpperCase();
            infoHtml += 'Oliver Class jump stabilisation node. Serial: ' + serial;
            infoHtml += '<br><br><b>Destinations:</b><br>';
            for (const [target, label] of Object.entries(obj.destinations)) {
                if (typeof target === 'string' && typeof label === 'string') {
                    let file = label + '.html';
                    // Correctly escape single quotes for JS string
                    infoHtml += `<button onclick="window.open('${file}', '_blank')">${label}, ${target}</button>`;
                }
            }
            }
        else if (obj.type === 'sensor_relay') {
            // Generate a random 5-character alphanumeric serial
            const serial = Math.random().toString(36).substring(2, 7).toUpperCase();
            infoHtml += 'Standard sensor and info relay buoy, Serial: ' + serial;
        }
        else if (obj.type === 'jumpnode' || obj.type === 'jumppoint') {
            // Generate a random 5-character alphanumeric serial
            const serial = Math.random().toString(36).substring(2, 7).toUpperCase();
            infoHtml += 'Oliver Class jump stabilisation node. Serial: ' + serial;
        }
        else if (obj.type === 'planet') {
            if (obj['class']) {
                infoHtml += '<b>Class:</b> ' + obj['class'] + '<br>';
            }
        }
        else {
            infoHtml += '<b>Type:</b> ' + obj.type;
        }

            // ——— append a description paragraph if one exists ———
            if (obj.description) {
                infoHtml += '<p class="desc-text">'
                          + obj.description
                          + '</p>';
            }
            document.getElementById('info').innerHTML = getInfoHeader() + infoHtml;
            document.getElementById('galactic-map-btn').addEventListener('click', function() {
                window.location.href = 'index.html';
            });
                + infoHtml;
         
    }
         document.getElementById('galactic-map-btn').addEventListener('click', function() {
        window.location.href = 'index.html';
    });
    

    var fig = {"data": [{"type": "scatter", "x": [-2236.1492451349045, -68709.48257846828, -62794.51742153184, 3678.815911801525, -2236.1492451349045], "y": [121262.84581467659, 100682.84581467653, 81577.52751865676, 102157.52751865682, 121262.84581467659], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [67536.35438893638, -461.33079624881975, -5279.644512393161, 62718.040672792034, 67536.35438893638], "y": [103961.9434483394, 120840.80147303075, 101429.88050227783, 84551.02247758648, 103961.9434483394], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [106412.35874571366, 70725.63035065192, 54706.233846878946, 90392.9622419407, 106412.35874571366], "y": [52500.47458558516, 100243.53014114071, 88269.43578478516, 40526.380229229595, 52500.47458558516], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [115600.45033690175, 107799.52441097585, 88041.29040383898, 95842.21632976488, 115600.45033690175], "y": [760.363182359318, 50474.869355198774, 47374.51632381351, -2339.989849025952, 760.363182359318], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [102146.8398213042, 116313.50648797088, 96795.82684536243, 82629.16017869575, 102146.8398213042], "y": [-63806.04504774786, -472.71171441451816, 3893.0850477478984, -59440.24828558545, -63806.04504774786], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [67353.1327167572, 101519.79938342387, 86589.53394990944, 52422.867283242755, 67353.1327167572], "y": [-103276.85191421113, -64943.51858087779, -51636.10808578883, -89969.44141912217, -103276.85191421113], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [2702.735679507073, 65202.73567950708, 59573.26432049289, -2926.735679507117, 2702.735679507073], "y": [-122052.16981650145, -103718.83648316811, -84527.4568501652, -102860.79018349854, -122052.16981650145], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-67118.5371014744, 2048.129565192263, 6061.203768141022, -63105.46289852565, -67118.5371014744], "y": [-105586.43565229647, -119753.10231896315, -100159.85768103687, -85993.19101437018, -105586.43565229647], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-106068.27412502341, -68568.27412502341, -53322.392541643334, -90822.39254164333, -106068.27412502341], "y": [-57262.12155269279, -101428.78821935944, -88484.17178064052, -44317.50511397386, -57262.12155269279], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-124613.57464068005, -107113.57464068005, -88110.42535932001, -105610.42535932001, -124613.57464068005], "y": [-2240.850845639774, -55574.18417897311, -49338.77582102685, 3994.5575123064827, -2240.850845639774], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-110730.83118320086, -124064.16451653418, -104493.1688167992, -91159.83548346588, -110730.83118320086], "y": [62103.62481049844, -1229.7085228348992, -5349.9181438317355, 57983.41518950161, 62103.62481049844], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-65255.31765121273, -111088.65098454608, -99135.34901545398, -53302.01568212064, -65255.31765121273], "y": [101394.31197113903, 67227.64530447236, 51192.72802886101, 85359.39469552769, 101394.31197113903], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-25041.394123918715, -10641.394123918715, 9024.24597577049, -5375.754024229511, -25041.394123918715], "y": [98223.64591669542, 20463.645916695412, 24105.43112034156, 101865.43112034156, 98223.64591669542], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [28889.376774678993, 11528.26566356788, -7995.475540111176, 9365.635570999937, 28889.376774678993], "y": [-98026.3112242826, -19901.311224282606, -24239.92038065573, -102364.92038065573, -98026.3112242826], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [67884.41291248155, 12328.857356925988, 25926.15498875294, 81481.7105443085, 67884.41291248155], "y": [69174.79523824985, 17670.165608620206, 3003.417601256302, 54508.04723088594, 69174.79523824985], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [93586.2489569983, 22984.39710514644, 15270.615240532492, 85872.46709238437, 93586.2489569983], "y": [-30784.142504706513, -1270.2536158176226, -19722.829840972554, -49236.718729861444, -30784.142504706513], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-79073.30557030837, -13679.78705178983, -25611.49689882754, -91005.01541734608, -79073.30557030837], "y": [-68290.55556069493, -19679.444449583803, -3628.4538220211753, -52239.5649331323, -68290.55556069493], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-96998.4722818138, -25817.916726258216, -14630.774631766562, -85811.33018732214, -96998.4722818138], "y": [50079.931074860884, 2047.5236674534644, 18626.05954242303, 66658.46694983044, 50079.931074860884], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-89840.69718370258, -22903.96878864085, -279.2534335815417, -67215.98182864327, -89840.69718370258], "y": [158162.17858102685, 81291.0366057182, 100991.8552461337, 177862.99722144235, 158162.17858102685], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [87963.23296646716, 55555.82555905974, 83683.79172489073, 116091.19913229815, 87963.23296646716], "y": [149501.5178549673, 62117.25859570803, 51685.69498453892, 139069.9542437982, 149501.5178549673], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [163456.64554214387, 78387.20109769939, 84000.56433439926, 169070.0087788437, 163456.64554214387], "y": [-7067.148417243121, -23270.85212094683, -52741.00911362107, -36537.30540991736, -7067.148417243121], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [79398.80502655111, 23843.24947099555, 813.0344796215813, 56368.59003517714, 79398.80502655111], "y": [-145291.4672907717, -78740.54136484573, -97965.76431416659, -164516.69024009255, -145291.4672907717], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-171118.84641139716, -73896.62418917491, -80845.24000835611, -178067.46223057836, -171118.84641139716], "y": [13374.198384657786, 36522.34653280594, 65706.53297336694, 42558.38482521879, 13374.198384657786], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-104919.30389896646, -63252.63723229977, -90331.81955782382, -131998.4862244905, -104919.30389896646], "y": [-147471.1538746814, -60086.89461542213, -47174.96661914576, -134559.22587840504, -147471.1538746814], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [292652.59043007105], "y": [106303.57369965054], "mode": "markers+text", "marker": {"symbol": "circle", "size": 50, "color": "#98FB98"}, "text": ["Reema II"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "hovertext": ["Reema II [R26]"], "hoverinfo": "text", "meta": {"base_marker_size": 50, "base_text_size": 14}}, {"type": "scatter", "x": [115167.72828551203], "y": [325607.6749857486], "mode": "markers+text", "marker": {"symbol": "circle", "size": 50, "color": "#98FB98"}, "text": ["Planet Ryl"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "hovertext": ["Planet Ryl [C17]"], "hoverinfo": "text", "meta": {"base_marker_size": 50, "base_text_size": 14}}, {"type": "scatter", "x": [48303.21904407891], "y": [-305621.1132746344], "mode": "markers+text", "marker": {"symbol": "circle", "size": 50, "color": "#98FB98"}, "text": ["Planet Aadden"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "hovertext": ["Planet Aadden [W14]"], "hoverinfo": "text", "meta": {"base_marker_size": 50, "base_text_size": 14}}, {"type": "scatter", "x": [-225854.13206703213], "y": [-334404.30438574543], "mode": "markers+text", "marker": {"symbol": "circle", "size": 50, "color": "#98FB98"}, "text": ["Planet Misisha"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "hovertext": ["Planet Misisha [V00]"], "hoverinfo": "text", "meta": {"base_marker_size": 50, "base_text_size": 14}}, {"type": "scatter", "x": [-291433.88690326235], "y": [-71667.65217689268], "mode": "markers+text", "marker": {"symbol": "circle", "size": 50, "color": "#98FB98"}, "text": ["Planet Erisian"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "hovertext": ["Planet Erisian [I97]"], "hoverinfo": "text", "meta": {"base_marker_size": 50, "base_text_size": 14}}, {"type": "scatter", "x": [-117104.71260681265], "y": [365596.47651869024], "mode": "markers+text", "marker": {"symbol": "circle", "size": 50, "color": "#98FB98"}, "text": ["Planet Citara"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "hovertext": ["Planet Citara [E06]"], "hoverinfo": "text", "meta": {"base_marker_size": 50, "base_text_size": 14}}, {"type": "scatter", "x": [353036.0118410677], "y": [-172255.20131054756], "mode": "markers+text", "marker": {"symbol": "circle", "size": 50, "color": "#98FB98"}, "text": ["Planet Skoth"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "hovertext": ["Planet Skoth [D29]"], "hoverinfo": "text", "meta": {"base_marker_size": 50, "base_text_size": 14}}, {"type": "scatter", "x": [-310854.0166191609, -374790.0166191609, -344175.53318294126, -280239.53318294126, -310854.0166191609], "y": [269784.25412050774, 193752.25412050774, 168008.25668550486, 244040.25668550486, 269784.25412050774], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [207655.9915357161, 141375.99153571605, 171804.7983686413, 238084.79836864135, 207655.9915357161], "y": [68058.60793858685, -9621.392061413118, -35584.59130042299, 42095.408699576976, 68058.60793858685], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [54237.583562701344, 77237.58356270126, 115943.20634165611, 92943.2063416562, 54237.583562701344], "y": [217550.35682295973, 129350.35682295973, 139443.65981520416, 227643.65981520416, 217550.35682295973], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-171074.8337887977, -73274.83378879774, -61544.37630684485, -159344.3763068448, -171074.8337887977], "y": [166276.36262349872, 136276.36262349872, 174517.6540146651, 204517.6540146651, 166276.36262349872], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-212398.75434150043, -141198.7543415005, -171620.45575414205, -242820.455754142, -212398.75434150043], "y": [-63988.75391461157, 19411.246085388404, 45382.77055277543, -38017.22944722455, -63988.75391461157], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-75600.62230828906, -96932.90586384495, -135886.3042317976, -114554.02067624174, -75600.62230828906], "y": [-211470.57327088856, -120057.86364125894, -129148.11972057718, -220560.8293502068, -211470.57327088856], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [151357.30074810673, 55397.30074810671, 45783.48915625073, 141743.48915625073, 151357.30074810673], "y": [-142949.2425152089, -119189.2425152089, -158016.74084662728, -181776.74084662728, -142949.2425152089], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [247450.8033361238, 219802.8033361238, 180730.29767934492, 208378.29767934492, 247450.8033361238], "y": [201554.64378425913, 327698.64378425915, 319134.8069279788, 192990.80692797885, 201554.64378425913], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [168151.19669566894, 317625.2189178913, 297435.8820975775, 147961.85987535506, 168151.19669566894], "y": [-244186.15021071117, -156792.77984034072, -122261.76944742117, -209655.13981779164, -244186.15021071117], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-252891.61425332614, -247131.61425332614, -307087.284731205, -312847.284731205, -252891.61425332614], "y": [-289000.2683069171, -139240.26830691707, -136934.28098084484, -286694.2809808448, -289000.2683069171], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [350941.20126008545, 233437.20126008548, 284599.89975538326, 402103.89975538326, 350941.20126008545], "y": [38416.18255287689, -153391.8174471231, -184734.73184063882, 7073.268159361143, 38416.18255287689], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [150587.6358706024, 202427.6358706024, 260313.46514486632, 208473.46514486632, 150587.6358706024], "y": [358723.20318235573, 168643.20318235573, 184430.24752988224, 374510.24752988224, 358723.20318235573], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-287405.043547163, -19565.04354716301, -25725.85543736816, -293565.85543736815, -287405.043547163], "y": [250375.29276293778, 278023.2927629378, 337706.1579493002, 310058.1579493002, 250375.29276293778], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-360624.01955880824, -286192.01955880824, -342906.87942572293, -417338.87942572293, -360624.01955880824], "y": [-197861.89094568024, 17722.10905431974, 37303.341657918296, -178280.65834208168, -197861.89094568024], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [54633.37773737668, -100886.62226262329, -131028.27672190788, 24491.72327809209, 54633.37773737668], "y": [-366844.5915458249, -249340.59154582492, -289233.9577419369, -406737.9577419369, -366844.5915458249], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [186963.49690035096, 186706.84274156528, 185941.271689023, 184679.88287568957, 182944.25901388412, 180764.097109088, 178176.7003359474, 175226.33977061257, 171963.49690035096, 168443.99987130365, 164728.06825342658, 160879.28266695252, 156963.49690035096, 153047.7111337494, 149198.92554727534, 145482.99392939828, 141963.49690035096, 138700.65403008935, 135750.29346475453, 133162.89669161392, 130982.7347868178, 129247.11092501236, 127985.72211167892, 127220.15105913665, 126963.49690035096, 127220.15105913665, 127985.72211167892, 129247.11092501236, 130982.7347868178, 133162.89669161392, 135750.29346475453, 138700.65403008932, 141963.49690035096, 145482.99392939828, 149198.92554727534, 153047.7111337494, 156963.49690035096, 160879.2826669525, 164728.06825342658, 168443.99987130365, 171963.49690035096, 175226.33977061257, 178176.7003359474, 180764.097109088, 182944.25901388412, 184679.88287568957, 185941.271689023, 186706.84274156528, 186963.49690035096], "y": [36777.69678631892, 40693.48255292047, 44542.26813939454, 48258.19975727161, 51777.69678631892, 55040.53965658054, 57990.90022191535, 60578.29699505598, 62758.45889985208, 64494.082761657526, 65755.47157499097, 66521.04262753323, 66777.69678631892, 66521.04262753323, 65755.47157499097, 64494.082761657526, 62758.45889985208, 60578.29699505598, 57990.90022191535, 55040.53965658054, 51777.69678631892, 48258.19975727162, 44542.26813939455, 40693.48255292048, 36777.69678631893, 32861.911019717365, 29013.125433243295, 25297.19381536623, 21777.696786318927, 18514.853916057302, 15564.493350722507, 12977.096577581873, 10796.934672785766, 9061.310810980314, 7799.92199764687, 7034.350945104608, 6777.69678631892, 7034.350945104605, 7799.921997646867, 9061.31081098031, 10796.934672785763, 12977.096577581848, 15564.493350722489, 18514.85391605729, 21777.696786318906, 25297.193815366234, 29013.125433243273, 32861.91101971737, 36777.69678631892], "fill": "toself", "fillcolor": "rgba(255,255,0,0.6)", "line": {"shape": "spline", "color": "yellow", "width": 2}, "hoverinfo": "none", "gmOnly": true}, {"type": "scatter", "x": [148052.99566578315, 147881.89289325936, 147371.5121915645, 146530.58631600888, 145373.5037414719, 143920.06247160785, 142195.1312895141, 140228.22424595756, 138052.99566578315, 135706.66431308494, 133229.37656783356, 130663.51951018418, 128052.99566578315, 125442.47182138212, 122876.61476373274, 120399.32701848136, 118052.99566578315, 115877.76708560874, 113910.8600420522, 112185.92885995845, 110732.48759009437, 109575.40501555742, 108734.47914000179, 108224.09843830694, 108052.99566578315, 108224.09843830694, 108734.47914000179, 109575.40501555741, 110732.48759009437, 112185.92885995845, 113910.8600420522, 115877.76708560874, 118052.99566578314, 120399.32701848136, 122876.61476373274, 125442.47182138212, 128052.99566578315, 130663.51951018418, 133229.37656783356, 135706.66431308494, 138052.99566578315, 140228.22424595754, 142195.1312895141, 143920.06247160785, 145373.5037414719, 146530.58631600888, 147371.5121915645, 147881.89289325936, 148052.99566578315], "y": [79687.31900854122, 82297.84285294225, 84863.69991059163, 87340.98765584301, 89687.31900854122, 91862.54758871564, 93829.45463227217, 95554.38581436593, 97007.82708423, 98164.90965876696, 99005.83553432258, 99516.21623601743, 99687.31900854122, 99516.21623601743, 99005.83553432258, 98164.90965876696, 97007.82708423, 95554.38581436593, 93829.45463227217, 91862.54758871564, 89687.31900854122, 87340.98765584303, 84863.69991059165, 82297.84285294227, 79687.31900854122, 77076.79516414019, 74510.93810649081, 72033.65036123943, 69687.31900854122, 67512.0904283668, 65545.18338481028, 63820.252202716525, 62366.81093285245, 61209.72835831548, 60368.80248275986, 59858.421781065015, 59687.31900854122, 59858.421781065015, 60368.80248275986, 61209.72835831548, 62366.810932852444, 63820.25220271651, 65545.18338481027, 67512.0904283668, 69687.3190085412, 72033.65036123943, 74510.9381064908, 77076.79516414019, 79687.31900854122], "fill": "toself", "fillcolor": "rgba(255,255,0,0.6)", "line": {"shape": "spline", "color": "yellow", "width": 2}, "hoverinfo": "none", "gmOnly": true}, {"type": "scatter", "x": [128769.05245590652, 128683.50106964463, 128428.3107187972, 128007.84778101939, 127429.3064937509, 126702.58585881887, 125840.120267772, 124856.66674599373, 123769.05245590652, 122595.88677955742, 121357.24290693173, 120074.31437810704, 118769.05245590652, 117463.79053370601, 116180.86200488132, 114942.21813225563, 113769.05245590652, 112681.43816581932, 111697.98464404105, 110835.51905299418, 110108.79841806214, 109530.25713079366, 109109.79419301584, 108854.60384216842, 108769.05245590652, 108854.60384216842, 109109.79419301584, 109530.25713079366, 110108.79841806213, 110835.51905299418, 111697.98464404105, 112681.43816581932, 113769.05245590652, 114942.21813225563, 116180.86200488132, 117463.79053370601, 118769.05245590652, 120074.31437810704, 121357.24290693173, 122595.88677955742, 123769.05245590652, 124856.66674599372, 125840.120267772, 126702.58585881887, 127429.3064937509, 128007.84778101939, 128428.3107187972, 128683.50106964463, 128769.05245590652], "y": [112009.17826780042, 113314.44019000094, 114597.36871882563, 115836.01259145132, 117009.17826780042, 118096.79255788763, 119080.2460796659, 119942.71167071277, 120669.4323056448, 121247.97359291329, 121668.4365306911, 121923.62688153853, 122009.17826780042, 121923.62688153853, 121668.4365306911, 121247.97359291329, 120669.4323056448, 119942.71167071277, 119080.2460796659, 118096.79255788763, 117009.17826780042, 115836.01259145132, 114597.36871882563, 113314.44019000094, 112009.17826780042, 110703.91634559991, 109420.98781677522, 108182.34394414953, 107009.17826780042, 105921.56397771322, 104938.11045593495, 104075.64486488808, 103348.92422995604, 102770.38294268756, 102349.92000490974, 102094.72965406232, 102009.17826780042, 102094.72965406232, 102349.92000490974, 102770.38294268756, 103348.92422995604, 104075.64486488806, 104938.11045593495, 105921.56397771322, 107009.17826780042, 108182.34394414953, 109420.9878167752, 110703.91634559991, 112009.17826780042], "fill": "toself", "fillcolor": "rgba(255,255,0,0.6)", "line": {"shape": "spline", "color": "yellow", "width": 2}, "hoverinfo": "none", "gmOnly": true}, {"type": "scatter", "x": [1017.5096154095719], "y": [-1447.9679257541359], "mode": "markers+text", "marker": {"symbol": "star", "size": 40, "color": "yellow"}, "text": ["Laestrygonia"], "textposition": "top center", "hovertext": ["Laestrygonia [L12]"], "hoverinfo": "text", "meta": {"base_marker_size": 140, "base_text_size": 14}}, {"type": "scatter", "x": [-285951.06944444455], "y": [72377.28063100125], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Reema Command [P97]"], "hoverinfo": "text", "text": ["Reema Command"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-285927.59979423875], "y": [54442.99565157739], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Reema Armory [O97]"], "hoverinfo": "text", "text": ["Reema Armory"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-286094.95292733586], "y": [77813.48152453885], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 81 [P97]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-285933.32780064555], "y": [50162.042716419026], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 89 [O97]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-286023.3342638213], "y": [64063.073484966524], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 46 [P97]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-190270.93799058849], "y": [252765.78277911124], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "#50CC50", "line": {"color": "#50CC50", "width": 5}}, "hovertext": ["Ashia Gate [Y02]"], "hoverinfo": "text", "text": ["Ashia Gate"], "textposition": "top center", "textfont": {"color": "#50CC50", "size": 20}, "meta": {"base_marker_size": 16, "base_text_size": 20}}, {"type": "scatter", "x": [-154547.20342268728], "y": [266760.58524824725], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Nevega Transit [Z04]"], "hoverinfo": "text", "text": ["Nevega Transit"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [251963.02281250243], "y": [-326328.98805692524], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "#50CC50", "line": {"color": "#50CC50", "width": 5}}, "hovertext": ["Eulis Gate [V24]"], "hoverinfo": "text", "text": ["Eulis Gate"], "textposition": "top center", "textfont": {"color": "#50CC50", "size": 20}, "meta": {"base_marker_size": 16, "base_text_size": 20}}, {"type": "scatter", "x": [223711.3706513867], "y": [-297044.98759125883], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Reema Immigration [X23]"], "hoverinfo": "text", "text": ["Reema Immigration"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [254232.01722783523], "y": [-320349.7028660157], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 96 [V24]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [244303.02437790428], "y": [-327995.868136993], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 65 [V24]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [243090.97450669474], "y": [-316370.015803726], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 94 [W24]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [255023.394544947], "y": [-332573.46349653194], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 24 [V24]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [133852.20771402176], "y": [292172.8453045888], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Tycho Institute [A18]"], "hoverinfo": "text", "text": ["Tycho Institute"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [77623.84383084842], "y": [314778.8903720328], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Elysium Spa [B15]"], "hoverinfo": "text", "text": ["Elysium Spa"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [279345.5410473549], "y": [135178.17863792213], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Reema Confederacy [S25]"], "hoverinfo": "text", "text": ["Reema Confederacy"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [317450.76429838385], "y": [73235.15600417733], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Goldleaf Commissariat [P27]"], "hoverinfo": "text", "text": ["Goldleaf Commissariat"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [126840.66725197314], "y": [342606.0421818178], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Sylvan Oasis [D18]"], "hoverinfo": "text", "text": ["Sylvan Oasis"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [89743.44643007097], "y": [-287096.98551022605], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Zabnel Base [X16]"], "hoverinfo": "text", "text": ["Zabnel Base"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-192073.88690326238], "y": [-330867.6521768927], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Mahagma [V02]"], "hoverinfo": "text", "text": ["Mahagma"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-218904.3190020278], "y": [-312377.4669917075], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Everrest Groceries [W01]"], "hoverinfo": "text", "text": ["Everrest Groceries"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-290833.88690326235], "y": [-104307.6521768927], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Sluvian [G97]"], "hoverinfo": "text", "text": ["Sluvian"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-108926.66749120633], "y": [395079.4884790668], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Kikiti [F06]"], "hoverinfo": "text", "text": ["Kikiti"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-147304.9662928371], "y": [365508.794987221], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["SY 248 [E04]"], "hoverinfo": "text", "text": ["SY 248"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [376841.1155658734], "y": [-164945.02007812719], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Skoth Admin [D30]"], "hoverinfo": "text", "text": ["Skoth Admin"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [273200.5359211927], "y": [129915.69885115177], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 28 [S25]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [285061.50592862297], "y": [140846.39670113652], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 38 [T26]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [278107.1779155535], "y": [79403.09299362249], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Porisana [P25]"], "hoverinfo": "text", "text": ["Porisana"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [156259.07091966874], "y": [88586.41089485699], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Nikola Research [Q19]"], "hoverinfo": "text", "text": ["**Nikola Research**"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "gmOnly": true, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [35176.78065450445], "y": [-273662.18904143805], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Huygens [Y13]"], "hoverinfo": "text", "text": ["Huygens"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-316383.44774055725], "y": [238063.0331807841], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Irasmix Mining [X96]"], "hoverinfo": "text", "text": ["Irasmix Mining"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-326993.0156417918], "y": [219255.16281041372], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Guild Bar [W95]"], "hoverinfo": "text", "text": ["Guild Bar"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-339531.5958887054], "y": [202858.55787214212], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Bremmer [W95]"], "hoverinfo": "text", "text": ["Bremmer"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-175722.95391339672], "y": [226199.60725485827], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Freedom Station [X03]"], "hoverinfo": "text", "text": ["Freedom Station"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-349707.30798747105], "y": [188794.34799559912], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Kaltoa Ores [V94]"], "hoverinfo": "text", "text": ["Kaltoa Ores"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-289520.777466209], "y": [-44990.199905635476], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Aspen Art Colony [J97]"], "hoverinfo": "text", "text": ["Aspen Art Colony"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [328090.7768874589], "y": [-175757.35338348488], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Cyrnoth Emporium [D28]"], "hoverinfo": "text", "text": ["Cyrnoth Emporium"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [346019.7832779611], "y": [3825.241950789051], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 93 [M29]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [343187.338046981], "y": [47942.86273194362], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 96 [O29]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [334736.5110264262], "y": [91336.07339956908], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 83 [Q28]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [320806.06456233864], "y": [133292.3586341731], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 72 [S28]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [301624.73620053043], "y": [173122.79739214762], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 48 [U27]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [277507.4828224061], "y": [210173.37497025856], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 55 [W25]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [248850.30906167717], "y": [243835.72190899187], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 50 [Y24]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [216123.7649192242], "y": [273557.10340225935], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 22 [Z22]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [179865.21934509228], "y": [298849.49518763344], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 75 [A20]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-204483.29667814643], "y": [-273429.0697754224], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 18 [Y01]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [56081.747064477044], "y": [344402.9572287743], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 25 [D14]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [12077.577540182196], "y": [348647.9865400264], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 65 [D12]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-32108.160660189104], "y": [347231.03591826244], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 89 [D10]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-75749.93893696734], "y": [340175.37165351823], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 16 [D08]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-118131.16049738998], "y": [327596.8475579564], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 41 [C06]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-158555.926855127], "y": [309702.0026494741], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 52 [B04]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-196360.46446418748], "y": [286784.6697867388], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 77 [A02]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-230924.0238621932], "y": [259221.1509417729], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 79 [Y00]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-261679.07235939018], "y": [227464.0383319762], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 13 [X98]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-288120.6129097239], "y": [192034.78286842836], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 68 [V97]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-309814.47614837345], "y": [153515.13194634664], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 53 [T96]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-326404.44944071956], "y": [112537.57716893838], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 80 [R95]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-337618.12588395644], "y": [69774.96885276257], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 39 [P95]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-343271.3772209049], "y": [25929.467844135117], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 38 [N94]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-343271.3772209049], "y": [-18278.98394255693], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 94 [L94]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-337618.12588395644], "y": [-62124.484951184386], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 30 [I95]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-326404.44944071956], "y": [-104887.09326736006], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 28 [G95]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-309814.47614837345], "y": [-145864.64804476846], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 71 [E96]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-288120.6129097239], "y": [-184384.29896685015], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 27 [C97]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-261679.07235939035], "y": [-219813.55443039787], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 45 [B98]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-230924.02386219325], "y": [-251570.6670401947], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 29 [Z00]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-158555.92685512707], "y": [-302051.51874789596], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 78 [W04]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-118131.16049738992], "y": [-319946.36365637835], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 67 [W06]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-75749.93893696743], "y": [-332524.8877519401], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 62 [V08]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-32108.160660189038], "y": [-339580.5520166843], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 66 [V10]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [12077.577540182032], "y": [-340997.50263844826], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 10 [U12]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [56081.74706447665], "y": [-336752.47332719626], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 97 [V14]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [99181.80066566715], "y": [-326915.16734685894], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 76 [V16]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [140670.03665518694], "y": [-311647.11298966623], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 74 [W19]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [179865.21934509205], "y": [-291199.01128605544], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 17 [X20]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [216123.7649192241], "y": [-265906.61950068123], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 61 [Y22]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [248850.30906167693], "y": [-236185.23800741392], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 49 [A24]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [277507.4828224059], "y": [-202522.8910686808], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 36 [B25]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [301624.73620053043], "y": [-165472.3134905695], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 88 [D27]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [320806.0645623385], "y": [-125641.87473259518], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 40 [F28]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [334736.5110264262], "y": [-83685.58949799105], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 85 [H28]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [343187.338046981], "y": [-40292.378830365735], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 42 [J29]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}], "layout": {"title": "Reema", "paper_bgcolor": "black", "plot_bgcolor": "black", "font": {"color": "white"}, "margin": {"l": 0, "r": 0, "t": 40, "b": 0}, "autosize": true, "dragmode": "pan", "hovermode": "closest", "xaxis": {"color": "white", "showgrid": true, "gridcolor": "gray", "dtick": 20000, "title": "X Axis"}, "yaxis": {"color": "white", "showgrid": true, "gridcolor": "gray", "dtick": 20000, "scaleanchor": "x", "scaleratio": 1, "title": "Z Axis"}, "shapes": []}};
    fig.layout.showlegend = false;
    fig.layout.dragmode = 'pan';
    fig.layout.title = 'Reema';
    if (!isGM()) {
        fig.data = fig.data.filter(t => !t.gmOnly);
        }
    Plotly.newPlot('plot', fig.data, fig.layout, {responsive: true, scrollZoom: true});
        console.log("[DEBUG JS] Plotted traces count:", fig.data.length);
        console.log("[DEBUG JS] fig.data sample:", fig.data.slice(0,3));

    var plotDiv = document.getElementById('plot');
    // Use Plotly's built-in nearest-point selection for accurate clicks
    plotDiv.on('plotly_click', function(ev) {
        if (!ev || !ev.points || !ev.points.length) return;
        var p = ev.points[0];
        var picked = null;
        // Prefer original name from hovertext: "Name [Grid]"
        if (p.hovertext && typeof p.hovertext === 'string') {
            picked = p.hovertext.split(' [')[0];
        } else if (p.text && typeof p.text === 'string') {
            // Fallback to text label (strip any ** used for GM marking)
            picked = p.text.replace(/\*/g, '');
        }
        if (picked && objData[picked]) {
            highlight(picked);
        }
    });

    // ——— Auto-scale markers based on current zoom/span (optimized: planets & blackholes only) ———
    (function() {
        var refSpan = null;
        var planetIdx = [24, 25, 26, 27, 28, 29, 30];
        var bhIdx = [49];
        function rescaleMarkers() {
            try {
                var full = plotDiv._fullLayout || {};
                var xaxis = full.xaxis || (fig.layout && fig.layout.xaxis);
                if (!xaxis || !xaxis.range) return;
                var curr = Math.abs(xaxis.range[1] - xaxis.range[0]);
                if (!curr) return;
                if (!refSpan) refSpan = curr;
                var scale = refSpan / curr;
                var indices = [];
                var markerSizes = [];
                var textSizes = [];
                function pushForIndex(i) {
                    var t = fig.data[i];
                    if (!t || !t.meta || !t.meta.base_marker_size) return;
                    var base = t.meta.base_marker_size;
                    var baseText = t.meta.base_text_size || (t.textfont && t.textfont.size) || 12;
                    var newMarker = Math.max(2, Math.round(base * scale));
                    var newText = Math.max(8, Math.round(baseText * Math.sqrt(scale)));
                    indices.push(i);
                    markerSizes.push(newMarker);
                    textSizes.push(newText);
                }
                planetIdx.forEach(pushForIndex);
                bhIdx.forEach(pushForIndex);
                if (indices.length) {
                    Plotly.restyle(plotDiv, {'marker.size': [markerSizes], 'textfont.size': [textSizes]}, indices);
                }
            } catch (e) { console.error(e); }
        }
        // initial scale after plot settles
        setTimeout(rescaleMarkers, 250);
        plotDiv.on('plotly_relayout', rescaleMarkers);
    })();

  var ctrl = document.getElementById('object-buttons');

  // Helper: create and append a single button
function addButton(label, fn, header, color, isHidden) {
    if (isHidden && !isGM()) return;
    var btn = document.createElement('button');
    btn.textContent = label;
    if (header) {
      btn.className = 'header';     // section header style
      btn.onclick = null;           // no click action
    } else {
      btn.onclick = fn;             // bind the handler
      if (color) btn.style.backgroundColor = color;
    }
    ctrl.appendChild(btn);
  }
  
  function enterGMMode() {
    const pw = prompt("Enter ONI Auth Code: --We will store a cookie for the purpose of tracking if you have authenticated or not--");
    if (pw === "oni1") {
      document.cookie = "gmMode=1; path=/; max-age=31536000";
      location.reload();
    } else {
      alert("Incorrect password.");
    }
  }

  function isGM() {
    return document.cookie.split(';').some(c => c.trim() === 'gmMode=1');
  }

  function exitGMMode() {
    document.cookie = "gmMode=; path=/; expires=Thu, 01 Jan 1970 00:00:00 UTC;";
    location.reload();
  }

  function renderGMControls() {
    const div = document.getElementById('gm-controls');
    div.innerHTML = '';
    const btn = document.createElement('button');
    btn.style.width = '100%';
    if (isGM()) {
      btn.textContent = 'ONI Logout';
      btn.onclick = exitGMMode;
    } else {
      btn.textContent = 'ONI Login';
      btn.onclick = enterGMMode;
    }
    div.appendChild(btn);
  }

  renderGMControls();

  // ——— Populate the sidebar ———
  addButton('None', clearAnnotations, false, null);

  addButton('--- Gates ---', null, true, null);
  addButton('Ashia Gate',function(){highlight('Ashia Gate');},false,null,false)
    addButton('Eulis Gate',function(){highlight('Eulis Gate');},false,null,false)

  addButton('--- Nav Points/POI ---', null, true, null);
  

    addButton('--- Planets ---', null, true, null);
    addButton('Reema II',function(){highlight('Reema II');},false,null,false)
    addButton('Planet Ryl',function(){highlight('Planet Ryl');},false,null,false)
    addButton('Planet Aadden',function(){highlight('Planet Aadden');},false,null,false)
    addButton('Planet Misisha',function(){highlight('Planet Misisha');},false,null,false)
    addButton('Planet Erisian',function(){highlight('Planet Erisian');},false,null,false)
    addButton('Planet Citara',function(){highlight('Planet Citara');},false,null,false)
    addButton('Planet Skoth',function(){highlight('Planet Skoth');},false,null,false)

    addButton('--- Stations ---', null, true, null);
    addButton('Aspen Art Colony',function(){highlight('Aspen Art Colony');},false,'blue',false)
    addButton('Bremmer',function(){highlight('Bremmer');},false,'blue',false)
    addButton('Cyrnoth Emporium',function(){highlight('Cyrnoth Emporium');},false,'blue',false)
    addButton('Elysium Spa',function(){highlight('Elysium Spa');},false,'blue',false)
    addButton('Everrest Groceries',function(){highlight('Everrest Groceries');},false,'blue',false)
    addButton('Freedom Station',function(){highlight('Freedom Station');},false,'blue',false)
    addButton('Goldleaf Commissariat',function(){highlight('Goldleaf Commissariat');},false,'blue',false)
    addButton('Guild Bar',function(){highlight('Guild Bar');},false,'blue',false)
    addButton('Huygens',function(){highlight('Huygens');},false,'blue',false)
    addButton('Irasmix Mining',function(){highlight('Irasmix Mining');},false,'blue',false)
    addButton('Kaltoa Ores',function(){highlight('Kaltoa Ores');},false,'blue',false)
    addButton('Kikiti',function(){highlight('Kikiti');},false,'blue',false)
    addButton('Mahagma',function(){highlight('Mahagma');},false,'blue',false)
    addButton('Nevega Transit',function(){highlight('Nevega Transit');},false,'blue',false)
    addButton('Nikola Research',function(){highlight('Nikola Research');},false,'blue',true)
    addButton('Porisana',function(){highlight('Porisana');},false,'blue',false)
    addButton('Reema Armory',function(){highlight('Reema Armory');},false,'blue',false)
    addButton('Reema Command',function(){highlight('Reema Command');},false,'blue',false)
    addButton('Reema Confederacy',function(){highlight('Reema Confederacy');},false,'blue',false)
    addButton('Reema Immigration',function(){highlight('Reema Immigration');},false,'blue',false)
    addButton('SY 248',function(){highlight('SY 248');},false,'blue',false)
    addButton('Skoth Admin',function(){highlight('Skoth Admin');},false,'blue',false)
    addButton('Sluvian',function(){highlight('Sluvian');},false,'blue',false)
    addButton('Sylvan Oasis',function(){highlight('Sylvan Oasis');},false,'blue',false)
    addButton('Tycho Institute',function(){highlight('Tycho Institute');},false,'blue',false)
    addButton('Zabnel Base',function(){highlight('Zabnel Base');},false,'blue',false)
    
  // Search filter
  document.getElementById('search-box').addEventListener('input', function() {
    const query = this.value.toLowerCase();
    const buttons = document.querySelectorAll('#object-buttons button');
    buttons.forEach(btn => {
      const label = btn.textContent.toLowerCase();
      const isHeader = btn.classList.contains('header');
      if (isHeader) {
        btn.style.display = ''; // always show section headers
      } else {
        btn.style.display = label.includes(query) ? '' : 'none';
      }
    });
  });
</script>
</body>
</html>