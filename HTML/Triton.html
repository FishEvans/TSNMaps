
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Triton.html</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body { margin: 0; background: black; color: white; display: flex; height: 100vh; }
        /* === Description typography controls ===
           Tweak these two variables to change description sizes globally */
        :root {
            --desc-font-size: 130%;
            --hull-desc-font-size: 130%;
        }
        .desc-text { font-size: var(--desc-font-size); margin-top: 8px; }
        .hull-desc { font-size: var(--hull-desc-font-size); margin-top: 5px; color: #ccc; }
        #controls { flex: 1; min-width: 200px; max-width: 350px; overflow-y: auto; background: #333; padding: 10px; }
        #plot { flex: 3; min-width: 400px; }
        #info { flex: 1; min-width: 200px; background: #333; padding: 10px; overflow-y: auto; }
        h2.header { margin-top: 0; margin-bottom: 5px; text-align: center; }
        h3.subheader { margin-top: 0; margin-bottom: 15px; text-align: center; color: #ccc; }
        .alignment-image { display: block; max-width: 100%; height: auto; margin: 10px auto; }
        button { display: block; width: 100%; margin-bottom: 5px; background: #555; color: white; border: none; padding: 5px; text-align: left; cursor: pointer; font-size: 20px; }
        button.header { background: #444; cursor: default; font-size: 24px; }
    </style>
</head>
<body>
    <div id="controls">
        <div id="gm-controls" style="margin-bottom:10px;"></div>
        <h2 class="header">Triton</h2>
        <h3 class="subheader">Alignment: USFP</h3>
        <img src="Images/Factions/USFP.png" alt="Alignment Logo" class="alignment-image" onerror="this.style.display='none';">

        <input type="text" id="search-box" placeholder="Search objects..." style="width: 95%; padding: 6px; margin-bottom: 10px; font-size: 16px;">
        <div id="object-buttons">
    </div>
    </div>
    <div id="plot"></div>
    <div id="info">
        <img src="Images/Compass.png" alt="Compass" style="display:block; max-width:100%; height:auto; margin-bottom:10px;">
        <button id="galactic-map-btn" title="Back to Galactic Map">Show Galactic Map</button>
        Select an object
    </div>
<script>
    var objData = {"1766337543653": {"type": "blackhole", "x": -97762.90211807024, "y": 22040.58495450184, "grid": "N07"}, "Waypoint 89 Gate": {"type": "jumpnode", "x": -166707.61358024698, "y": 165904.68024691363, "grid": "U03", "hidden": false, "label": "Waypoint 89 Gate"}, "Tethys Gate": {"type": "jumpnode", "x": 186604.54182597532, "y": 22890.947525136067, "grid": "N21", "hidden": false, "label": "Tethys Gate", "destinations": {"Triton Gate": "Tethys"}}, "Charon Gate": {"type": "jumpnode", "x": 74338.49341533169, "y": -126010.09765996272, "grid": "F15", "hidden": false, "label": "Charon Gate", "destinations": {"Triton Gate": "Charon"}}, "WP 88": {"type": "station", "x": -144958.95288991428, "y": 148949.40858058754, "grid": "T04", "hidden": false, "label": "WP 88", "hull": "defense_platform_beam", "facilities": [], "sides": ["USFP"], "hullName": "LR Beam Platform", "hullImage": "Images/Ships/TSN Mod/USFP/DefensePlatBeam256.png", "hullDescription": ""}, "WP 89": {"type": "station", "x": -138303.70992140088, "y": 155400.83798365624, "grid": "T05", "hidden": false, "label": "WP 89", "hull": "defense_platform_torp", "facilities": [], "sides": ["USFP"], "hullName": "Torpedo Platform", "hullImage": "Images/Ships/TSN Mod/USFP/DefensePlatTorp256.png", "hullDescription": ""}, "WP 87": {"type": "station", "x": -152260.52142835, "y": 144628.94315657605, "grid": "T04", "hidden": false, "label": "WP 87", "hull": "defense_platform_torp", "facilities": [], "sides": ["USFP"], "hullName": "Torpedo Platform", "hullImage": "Images/Ships/TSN Mod/USFP/DefensePlatTorp256.png", "hullDescription": ""}, "WP 43L": {"type": "station", "x": 167479.6958949045, "y": 28052.200114041578, "grid": "N20", "hidden": false, "label": "WP 43L", "hull": "defense_platform_torp", "facilities": [], "sides": ["USFP"], "hullName": "Torpedo Platform", "hullImage": "Images/Ships/TSN Mod/USFP/DefensePlatTorp256.png", "hullDescription": ""}, "WP 43R": {"type": "station", "x": 173783.79714703813, "y": 10878.773133421308, "grid": "M20", "hidden": false, "label": "WP 43R", "hull": "defense_platform_torp", "facilities": [], "sides": ["USFP"], "hullName": "Torpedo Platform", "hullImage": "Images/Ships/TSN Mod/USFP/DefensePlatTorp256.png", "hullDescription": ""}, "WP 43C": {"type": "station", "x": 170505.23381437425, "y": 19347.04919627889, "grid": "M20", "hidden": false, "label": "WP 43C", "hull": "defense_platform_beam", "facilities": [], "sides": ["USFP"], "hullName": "LR Beam Platform", "hullImage": "Images/Ships/TSN Mod/USFP/DefensePlatBeam256.png", "hullDescription": ""}, "WP 62L": {"type": "station", "x": 65707.40777722113, "y": -106752.25246554888, "grid": "G15", "hidden": false, "label": "WP 62L", "hull": "defense_platform_torp", "facilities": [], "sides": ["USFP"], "hullName": "Torpedo Platform", "hullImage": "Images/Ships/TSN Mod/USFP/DefensePlatTorp256.png", "hullDescription": ""}, "WP 62R": {"type": "station", "x": 81257.05701822086, "y": -106597.61059300182, "grid": "G16", "hidden": false, "label": "WP 62R", "hull": "defense_platform_torp", "facilities": [], "sides": ["USFP"], "hullName": "Torpedo Platform", "hullImage": "Images/Ships/TSN Mod/USFP/DefensePlatTorp256.png", "hullDescription": ""}, "DS 62A": {"type": "station", "x": 72969.69589456751, "y": -104743.13807451785, "grid": "G15", "hidden": false, "label": "DS 62A", "hull": "starbase_civil", "facilities": ["Docking", "Refuel", "Repair"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "WP 62C": {"type": "station", "x": 73047.58246039016, "y": -106624.67557665944, "grid": "G15", "hidden": false, "label": "WP 62C", "hull": "defense_platform_beam", "facilities": [], "sides": ["USFP"], "hullName": "LR Beam Platform", "hullImage": "Images/Ships/TSN Mod/USFP/DefensePlatBeam256.png", "hullDescription": ""}, "Tarnis Nebula Refinery": {"type": "station", "x": -77086.7902447515, "y": 136735.8051232675, "grid": "S08", "hidden": false, "label": "Tarnis Nebula Refinery", "hull": "usfp_industrial_refinary", "facilities": ["Docking", "Refuel"], "sides": ["USFP"], "hullName": "Refinary Unit", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialRefinary256.png", "hullDescription": ""}, "I 601": {"type": "station", "x": -88769.77511814891, "y": 122996.61491215213, "grid": "S07", "hidden": false, "label": "I 601", "hull": "usfp_industrial_unit", "facilities": [], "sides": ["USFP"], "hullName": "Industrial Unit", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialUnit256.png", "hullDescription": ""}, "I 280": {"type": "station", "x": -64749.55821844383, "y": 148231.86223869055, "grid": "T08", "hidden": false, "label": "I 280", "hull": "usfp_industrial_processor", "facilities": [], "sides": ["USFP"], "hullName": "Processor Unit", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialProcessor256.png", "hullDescription": ""}, "Farosh Denebite": {"type": "station", "x": 11155.320862677121, "y": 114834.05456165333, "grid": "R12", "hidden": false, "label": "Farosh Denebite", "hull": "usfp_industrial_refinary", "facilities": ["Refuel", "Docking"], "sides": ["USFP"], "hullName": "Refinary Unit", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialRefinary256.png", "hullDescription": ""}, "Farosh Trading": {"type": "station", "x": 13835.236834762656, "y": 106918.12759227902, "grid": "R12", "hidden": false, "label": "Farosh Trading", "hull": "starbase_civil", "facilities": ["Refuel", "Docking", "Repair"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "Triton Refuge": {"type": "station", "x": -193501.30275115956, "y": 33085.06456433641, "grid": "N02", "hidden": false, "label": "Triton Refuge", "hull": "starbase_civil", "facilities": ["Refuel", "Docking"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "Cassandra Observatory": {"type": "station", "x": -58712.05963411149, "y": 19971.40149710731, "grid": "M09", "hidden": false, "label": "Cassandra Observatory", "hull": "starbase_science", "facilities": ["Refuel", "Docking"], "sides": ["USFP"], "hullName": "Science Starbase", "hullImage": "Images/Ships/science_station256.png", "hullDescription": ""}, "Denabite Derby": {"type": "station", "x": 39786.94251876167, "y": 10864.260341033565, "grid": "M13", "hidden": false, "label": "Denabite Derby", "hull": "usfp_industrial_storage", "facilities": [], "sides": ["USFP"], "hullName": "Storage Module", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialStorage256.png", "hullDescription": ""}, "SY 402": {"type": "station", "x": 13745.275852095, "y": -5339.443362670141, "grid": "L12", "hidden": false, "label": "SY 402", "hull": "usfp_shipyard", "facilities": [], "sides": ["USFP"], "hullName": "Ship Yard", "hullImage": "Images/Ships/TSN Mod/USFP/ShipYard256.png", "hullDescription": ""}, "SY 280": {"type": "station", "x": 55411.94251876167, "y": 29382.778859552087, "grid": "N14", "hidden": false, "label": "SY 280", "hull": "usfp_shipyard", "facilities": [], "sides": ["USFP"], "hullName": "Ship Yard", "hullImage": "Images/Ships/TSN Mod/USFP/ShipYard256.png", "hullDescription": ""}, "I 402": {"type": "station", "x": 21847.12770394685, "y": 28804.075155848383, "grid": "N13", "hidden": false, "label": "I 402", "hull": "starbase_industry", "facilities": ["Docking", "Refuel", "Repair"], "sides": ["USFP"], "hullName": "Industrial Starbase", "hullImage": "Images/Ships/industry_station256.png", "hullDescription": ""}, "I 556": {"type": "station", "x": -50828.53232125475, "y": 7888.44167838157, "grid": "M09", "hidden": false, "label": "I 556", "hull": "starbase_industry", "facilities": ["Docking", "Refuel"], "sides": ["USFP"], "hullName": "Industrial Starbase", "hullImage": "Images/Ships/industry_station256.png", "hullDescription": ""}, "SR 77": {"type": "sensor_relay", "x": 93878.83552918473, "y": -92514.28014350185, "grid": "H16", "hidden": false, "label": "SR 77"}, "SR 36": {"type": "sensor_relay", "x": 102800.51762795016, "y": -81326.00853856358, "grid": "H17", "hidden": false, "label": "SR 36"}, "SR 84": {"type": "sensor_relay", "x": 111722.1997267156, "y": -70137.7369336253, "grid": "I17", "hidden": false, "label": "SR 84"}, "SR 20": {"type": "sensor_relay", "x": 120643.88182548102, "y": -58949.46532868703, "grid": "J18", "hidden": false, "label": "SR 20"}, "SR 85": {"type": "sensor_relay", "x": 129565.56392424647, "y": -47761.19372374876, "grid": "J18", "hidden": false, "label": "SR 85"}, "SR 11": {"type": "sensor_relay", "x": 138487.2460230119, "y": -36572.922118810486, "grid": "K18", "hidden": false, "label": "SR 11"}, "SR 98": {"type": "sensor_relay", "x": 147408.9281217773, "y": -25384.650513872213, "grid": "K19", "hidden": false, "label": "SR 98"}, "SR 59": {"type": "sensor_relay", "x": 156330.61022054276, "y": -14196.37890893394, "grid": "L19", "hidden": false, "label": "SR 59"}, "SR 56": {"type": "sensor_relay", "x": 165252.2923193082, "y": -3008.107303995668, "grid": "L20", "hidden": false, "label": "SR 56"}, "SR 19": {"type": "sensor_relay", "x": 151662.4003439995, "y": 36999.60874538708, "grid": "N19", "hidden": false, "label": "SR 19"}, "SR 95": {"type": "sensor_relay", "x": 137806.5802381794, "y": 42720.50821628655, "grid": "O18", "hidden": false, "label": "SR 95"}, "SR 33": {"type": "sensor_relay", "x": 123950.76013235928, "y": 48441.40768718602, "grid": "O18", "hidden": false, "label": "SR 33"}, "SR 83": {"type": "sensor_relay", "x": 110094.94002653917, "y": 54162.30715808549, "grid": "O17", "hidden": false, "label": "SR 83"}, "SR 40": {"type": "sensor_relay", "x": 96239.11992071907, "y": 59883.20662898496, "grid": "O16", "hidden": false, "label": "SR 40"}, "SR 75": {"type": "sensor_relay", "x": 82383.29981489897, "y": 65604.10609988443, "grid": "P16", "hidden": false, "label": "SR 75"}, "SR 42": {"type": "sensor_relay", "x": 68527.47970907886, "y": 71325.0055707839, "grid": "P15", "hidden": false, "label": "SR 42"}, "SR 86": {"type": "sensor_relay", "x": 54671.659603258755, "y": 77045.90504168338, "grid": "P14", "hidden": false, "label": "SR 86"}, "SR 69": {"type": "sensor_relay", "x": 40815.83949743865, "y": 82766.80451258285, "grid": "Q14", "hidden": false, "label": "SR 69"}, "SR 74": {"type": "sensor_relay", "x": 26960.019391618538, "y": 88487.70398348232, "grid": "Q13", "hidden": false, "label": "SR 74"}, "SR 44": {"type": "sensor_relay", "x": 13104.199285798444, "y": 94208.6034543818, "grid": "Q12", "hidden": false, "label": "SR 44"}, "SR 62": {"type": "sensor_relay", "x": -751.6208200216934, "y": 99929.50292528127, "grid": "Q11", "hidden": false, "label": "SR 62"}, "SR 70": {"type": "sensor_relay", "x": -14607.440925841773, "y": 105650.40239618073, "grid": "R11", "hidden": false, "label": "SR 70"}, "SR 21": {"type": "sensor_relay", "x": -28463.26103166191, "y": 111371.30186708021, "grid": "R10", "hidden": false, "label": "SR 21"}, "SR 24": {"type": "sensor_relay", "x": -42319.08113748199, "y": 117092.20133797967, "grid": "R09", "hidden": false, "label": "SR 24"}, "SR 97": {"type": "sensor_relay", "x": -56174.9012433021, "y": 122813.10080887916, "grid": "S09", "hidden": false, "label": "SR 97"}, "SR 31": {"type": "sensor_relay", "x": -70030.7213491222, "y": 128534.00027977861, "grid": "S08", "hidden": false, "label": "SR 31"}, "SR 45": {"type": "sensor_relay", "x": -83886.54145494231, "y": 134254.8997506781, "grid": "S07", "hidden": false, "label": "SR 45"}, "SR 12": {"type": "sensor_relay", "x": -97742.36156076242, "y": 139975.79922157756, "grid": "S07", "hidden": false, "label": "SR 12"}, "SR 76": {"type": "sensor_relay", "x": -111598.18166658253, "y": 145696.69869247705, "grid": "T06", "hidden": false, "label": "SR 76"}, "SR 54": {"type": "sensor_relay", "x": -125454.00177240261, "y": 151417.5981633765, "grid": "T05", "hidden": false, "label": "SR 54"}, "SR 57": {"type": "sensor_relay", "x": -142881.25044965133, "y": 131212.57170835006, "grid": "S04", "hidden": false, "label": "SR 57"}, "SR 10": {"type": "sensor_relay", "x": -133258.23457663544, "y": 119869.97911575747, "grid": "R05", "hidden": false, "label": "SR 10"}, "SR 80": {"type": "sensor_relay", "x": -123635.21870361957, "y": 108527.38652316487, "grid": "R05", "hidden": false, "label": "SR 80"}, "SR 15": {"type": "sensor_relay", "x": -114012.2028306037, "y": 97184.79393057228, "grid": "Q06", "hidden": false, "label": "SR 15"}, "SR 64": {"type": "sensor_relay", "x": -104389.18695758782, "y": 85842.20133797968, "grid": "Q06", "hidden": false, "label": "SR 64"}, "SR 13": {"type": "sensor_relay", "x": -94766.17108457195, "y": 74499.60874538709, "grid": "P07", "hidden": false, "label": "SR 13"}, "SR 99": {"type": "sensor_relay", "x": -85143.15521155608, "y": 63157.0161527945, "grid": "P07", "hidden": false, "label": "SR 99"}, "SR 55": {"type": "sensor_relay", "x": -75520.1393385402, "y": 51814.4235602019, "grid": "O08", "hidden": false, "label": "SR 55"}, "SR 68": {"type": "sensor_relay", "x": -65897.12346552433, "y": 40471.830967609305, "grid": "O08", "hidden": false, "label": "SR 68"}, "SR 52": {"type": "sensor_relay", "x": -56274.10759250846, "y": 29129.23837501672, "grid": "N09", "hidden": false, "label": "SR 52"}, "SR 58": {"type": "sensor_relay", "x": -46651.09171949257, "y": 17786.645782424108, "grid": "M09", "hidden": false, "label": "SR 58"}, "SR 82": {"type": "sensor_relay", "x": -37028.07584647671, "y": 6444.053189831524, "grid": "M10", "hidden": false, "label": "SR 82"}, "SR 35": {"type": "sensor_relay", "x": -27405.059973460826, "y": -4898.539402761089, "grid": "L10", "hidden": false, "label": "SR 35"}, "SR 88": {"type": "sensor_relay", "x": -17782.044100444968, "y": -16241.131995353644, "grid": "L11", "hidden": false, "label": "SR 88"}, "SR 22": {"type": "sensor_relay", "x": -8159.02822742908, "y": -27583.724587946257, "grid": "K11", "hidden": false, "label": "SR 22"}, "SR 46": {"type": "sensor_relay", "x": 1463.987645586778, "y": -38926.31718053884, "grid": "K12", "hidden": false, "label": "SR 46"}, "SR 93": {"type": "sensor_relay", "x": 11087.003518602665, "y": -50268.909773131454, "grid": "J12", "hidden": false, "label": "SR 93"}, "SR 50": {"type": "sensor_relay", "x": 20710.019391618524, "y": -61611.50236572404, "grid": "I13", "hidden": false, "label": "SR 50"}, "SR 60": {"type": "sensor_relay", "x": 30333.03526463441, "y": -72954.09495831662, "grid": "I13", "hidden": false, "label": "SR 60"}, "SR 32": {"type": "sensor_relay", "x": 39956.05113765027, "y": -84296.6875509092, "grid": "H13", "hidden": false, "label": "SR 32"}, "SR 81": {"type": "sensor_relay", "x": 49579.06701066616, "y": -95639.28014350182, "grid": "H14", "hidden": false, "label": "SR 81"}};
        console.log("[DEBUG JS] objData keys:", Object.keys(objData));
        console.log("[DEBUG JS] objData sample:", objData[Object.keys(objData)[0]]);

    function clearAnnotations() {
        Plotly.relayout('plot', {annotations: []});
        document.getElementById('info').innerHTML = getInfoHeader() + 'Select an object';
        document.getElementById('galactic-map-btn').addEventListener('click', function() {
            window.location.href = 'index.html';
        });
        document.getElementById('galactic-map-btn').addEventListener('click', function() {
            window.location.href = 'index.html';
        });
    }
    
    function getInfoHeader() {
    return '<img src="Images/Compass.png" alt="Compass" '
         + 'style="display:block; max-width:100%; height:auto; margin-bottom:10px;">'
         + '<button id="galactic-map-btn" title="Back to Galactic Map">Galactic Map</button>';
        }
    
    function highlight(name) {
        var obj = objData[name];
        if (obj.hidden && !isGM()) {
            alert("This object is not visible on the public map.");
            return;
        }
        var annotation = {
            x: obj.x, y: obj.y, xref: 'x', yref: 'y', text: name,
            showarrow: true, arrowcolor: 'yellow', arrowwidth: 2,
            arrowhead: 3, font: {color: 'yellow', size: 28}
        };

        Plotly.relayout('plot', {annotations: [annotation]});

        var label = obj.label || name;
        var infoHtml = '<span style="font-size:20pt;">' + label + '</span><br>';
        infoHtml += '<b>Location:</b> ' + obj.grid + '<br>';

        if (obj.type === 'station') {
            // Station selected: display detailed station info
            if (obj.hullImage) {
                infoHtml += '<img src="' + obj.hullImage + '" alt="Hull Art" style="max-width:48%; height:auto;">';
            }
            if (obj.sides && obj.sides.length > 0) {
                infoHtml += '<img src="Images/Factions/' + obj.sides[0] + '.png" alt="Faction Logo" style="max-width:48%; height:auto;">';
            }
            infoHtml += '<b>Facilities:</b> ' + (obj.facilities.length ? obj.facilities.join(', ') : 'None') + '<br>';
            if (obj.hullName && obj.hullImage) {
                infoHtml += '<b>General Class:</b> ' + obj.hullName + '<br>';
            }
            if (obj.hullDescription) {
                infoHtml += '<p class="hull-desc">' + obj.hullDescription + '</p>';
            }
        } 
        else if ((obj.type === 'jump_point' || obj.type === 'jumppoint' || obj.type === 'jumpnode') && obj.destinations && typeof obj.destinations === 'object') {
        
            // Generate a random 5-character alphanumeric serial
            const serial = Math.random().toString(36).substring(2, 7).toUpperCase();
            infoHtml += 'Oliver Class jump stabilisation node. Serial: ' + serial;
            infoHtml += '<br><br><b>Destinations:</b><br>';
            for (const [target, label] of Object.entries(obj.destinations)) {
                if (typeof target === 'string' && typeof label === 'string') {
                    let file = label + '.html';
                    // Correctly escape single quotes for JS string
                    infoHtml += `<button onclick="window.open('${file}', '_blank')">${label}, ${target}</button>`;
                }
            }
            }
        else if (obj.type === 'sensor_relay') {
            // Generate a random 5-character alphanumeric serial
            const serial = Math.random().toString(36).substring(2, 7).toUpperCase();
            infoHtml += 'Standard sensor and info relay buoy, Serial: ' + serial;
        }
        else if (obj.type === 'jumpnode' || obj.type === 'jumppoint') {
            // Generate a random 5-character alphanumeric serial
            const serial = Math.random().toString(36).substring(2, 7).toUpperCase();
            infoHtml += 'Oliver Class jump stabilisation node. Serial: ' + serial;
        }
        else if (obj.type === 'planet') {
            if (obj['class']) {
                infoHtml += '<b>Class:</b> ' + obj['class'] + '<br>';
            }
        }
        else {
            infoHtml += '<b>Type:</b> ' + obj.type;
        }

            // ——— append a description paragraph if one exists ———
            if (obj.description) {
                infoHtml += '<p class="desc-text">'
                          + obj.description
                          + '</p>';
            }
            document.getElementById('info').innerHTML = getInfoHeader() + infoHtml;
            document.getElementById('galactic-map-btn').addEventListener('click', function() {
                window.location.href = 'index.html';
            });
                + infoHtml;
         
    }
         document.getElementById('galactic-map-btn').addEventListener('click', function() {
        window.location.href = 'index.html';
    });
    

    var fig = {"data": [{"type": "scatter", "x": [-117900.31965112325, -108379.20626934548, -117855.47760279744, -127376.59098457522, -117900.31965112325], "y": [12706.757160918225, 40956.80211458496, 44150.59008732147, 15900.545133654736, 12706.757160918225], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-100674.36615205047, -119861.22939936415, -127353.74823101246, -108166.88498369878, -100674.36615205047], "y": [753.8940272168643, 22460.244367612137, 15837.392900351571, -5868.9574400436995, 753.8940272168643], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-80780.99503094947, -108689.15975431484, -107516.74596121139, -79608.58123784603, -80780.99503094947], "y": [7253.153021661265, 3958.4391307084106, -5972.595352050211, -2677.881461097357, 7253.153021661265], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-79331.32156480501, -88052.62304085669, -78538.76761090891, -69817.46613485723, -79331.32156480501], "y": [28634.905881758135, 1695.7746557318562, -1384.250483459876, 25554.8807425664, 28634.905881758135], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-69171.70141924096, -86875.30064189328, -94967.39171052417, -77263.79248787185, -69171.70141924096], "y": [25381.136231060846, 49764.80936802792, 43889.601955775644, 19505.92881880857, 25381.136231060846], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-86916.49151985043, -118410.08018337037, -116545.90516482423, -85052.31650130429, -86916.49151985043], "y": [49565.621767933364, 43589.91520100908, 33765.209022184776, 39740.91558910906, 49565.621767933364], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [20029.810401089206, -82179.51514743784, -79620.65139913541, 22588.67414939164, 20029.810401089206], "y": [124179.99428425341, 39111.08625249153, 36036.64055974892, 121105.54859151079, 124179.99428425341], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-62718.91802215074, -120010.58468881743, -90400.69296886698, -33109.026302200306, -62718.91802215074], "y": [191645.55735233627, 128566.85364863256, 101673.46575620052, 164752.16945990422, 191645.55735233627], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [135959.76379226515, 543.0971255984769, 22841.92151301347, 158258.58817968017, 135959.76379226515], "y": [140779.63067675327, -9683.332286209708, -29752.2742348832, 120710.68872807978, 140779.63067675327], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-201197.48208812467, -116043.84648296454, -118672.98673027543, -203826.6223354356, -201197.48208812467], "y": [-70028.43193558804, 4237.8755918413, 7252.443812991719, -67013.86371443761, -70028.43193558804], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-68097.68581905814, -96043.38563622475, -85982.43079145766, -58036.73097429106, -68097.68581905814], "y": [154781.8908607597, 125901.55225372133, 116166.19465312145, 145046.53326015983, 154781.8908607597], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [14870.888150642226, -3036.8508801838716, 3793.088345616695, 21700.827376442794, 14870.888150642226], "y": [125597.18760026073, 108852.28876624153, 101548.04820531594, 118292.94703933514, 125597.18760026073], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [61198.97955579871, 20689.72029653944, 20689.72029653944, 61198.97955579871, 61198.97955579871], "y": [19706.852933626156, 19706.852933626156, -293.1470663738419, -293.1470663738419, 19706.852933626156], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-97762.90211807024], "y": [22040.58495450184], "mode": "markers+text", "marker": {"symbol": "star", "size": 40, "color": "yellow"}, "text": ["1766337543653"], "textposition": "top center", "hovertext": ["1766337543653 [N07]"], "hoverinfo": "text", "meta": {"base_marker_size": 140, "base_text_size": 14}}, {"type": "scatter", "x": [-166707.61358024698], "y": [165904.68024691363], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "#50CC50", "line": {"color": "#50CC50", "width": 5}}, "hovertext": ["Waypoint 89 Gate [U03]"], "hoverinfo": "text", "text": ["Waypoint 89 Gate"], "textposition": "top center", "textfont": {"color": "#50CC50", "size": 20}, "meta": {"base_marker_size": 16, "base_text_size": 20}}, {"type": "scatter", "x": [186604.54182597532], "y": [22890.947525136067], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "#50CC50", "line": {"color": "#50CC50", "width": 5}}, "hovertext": ["Tethys Gate [N21]"], "hoverinfo": "text", "text": ["Tethys Gate"], "textposition": "top center", "textfont": {"color": "#50CC50", "size": 20}, "meta": {"base_marker_size": 16, "base_text_size": 20}}, {"type": "scatter", "x": [74338.49341533169], "y": [-126010.09765996272], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "#50CC50", "line": {"color": "#50CC50", "width": 5}}, "hovertext": ["Charon Gate [F15]"], "hoverinfo": "text", "text": ["Charon Gate"], "textposition": "top center", "textfont": {"color": "#50CC50", "size": 20}, "meta": {"base_marker_size": 16, "base_text_size": 20}}, {"type": "scatter", "x": [-144958.95288991428], "y": [148949.40858058754], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["WP 88 [T04]"], "hoverinfo": "text", "text": ["WP 88"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-138303.70992140088], "y": [155400.83798365624], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["WP 89 [T05]"], "hoverinfo": "text", "text": ["WP 89"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-152260.52142835], "y": [144628.94315657605], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["WP 87 [T04]"], "hoverinfo": "text", "text": ["WP 87"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [167479.6958949045], "y": [28052.200114041578], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["WP 43L [N20]"], "hoverinfo": "text", "text": ["WP 43L"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [173783.79714703813], "y": [10878.773133421308], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["WP 43R [M20]"], "hoverinfo": "text", "text": ["WP 43R"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [170505.23381437425], "y": [19347.04919627889], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["WP 43C [M20]"], "hoverinfo": "text", "text": ["WP 43C"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [65707.40777722113], "y": [-106752.25246554888], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["WP 62L [G15]"], "hoverinfo": "text", "text": ["WP 62L"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [81257.05701822086], "y": [-106597.61059300182], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["WP 62R [G16]"], "hoverinfo": "text", "text": ["WP 62R"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [72969.69589456751], "y": [-104743.13807451785], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 62A [G15]"], "hoverinfo": "text", "text": ["DS 62A"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [73047.58246039016], "y": [-106624.67557665944], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["WP 62C [G15]"], "hoverinfo": "text", "text": ["WP 62C"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-77086.7902447515], "y": [136735.8051232675], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Tarnis Nebula Refinery [S08]"], "hoverinfo": "text", "text": ["Tarnis Nebula Refinery"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-88769.77511814891], "y": [122996.61491215213], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["I 601 [S07]"], "hoverinfo": "text", "text": ["I 601"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-64749.55821844383], "y": [148231.86223869055], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["I 280 [T08]"], "hoverinfo": "text", "text": ["I 280"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [11155.320862677121], "y": [114834.05456165333], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Farosh Denebite [R12]"], "hoverinfo": "text", "text": ["Farosh Denebite"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [13835.236834762656], "y": [106918.12759227902], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Farosh Trading [R12]"], "hoverinfo": "text", "text": ["Farosh Trading"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-193501.30275115956], "y": [33085.06456433641], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Triton Refuge [N02]"], "hoverinfo": "text", "text": ["Triton Refuge"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-58712.05963411149], "y": [19971.40149710731], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Cassandra Observatory [M09]"], "hoverinfo": "text", "text": ["Cassandra Observatory"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [39786.94251876167], "y": [10864.260341033565], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Denabite Derby [M13]"], "hoverinfo": "text", "text": ["Denabite Derby"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [13745.275852095], "y": [-5339.443362670141], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["SY 402 [L12]"], "hoverinfo": "text", "text": ["SY 402"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [55411.94251876167], "y": [29382.778859552087], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["SY 280 [N14]"], "hoverinfo": "text", "text": ["SY 280"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [21847.12770394685], "y": [28804.075155848383], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["I 402 [N13]"], "hoverinfo": "text", "text": ["I 402"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-50828.53232125475], "y": [7888.44167838157], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["I 556 [M09]"], "hoverinfo": "text", "text": ["I 556"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [93878.83552918473], "y": [-92514.28014350185], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 77 [H16]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [102800.51762795016], "y": [-81326.00853856358], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 36 [H17]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [111722.1997267156], "y": [-70137.7369336253], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 84 [I17]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [120643.88182548102], "y": [-58949.46532868703], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 20 [J18]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [129565.56392424647], "y": [-47761.19372374876], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 85 [J18]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [138487.2460230119], "y": [-36572.922118810486], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 11 [K18]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [147408.9281217773], "y": [-25384.650513872213], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 98 [K19]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [156330.61022054276], "y": [-14196.37890893394], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 59 [L19]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [165252.2923193082], "y": [-3008.107303995668], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 56 [L20]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [151662.4003439995], "y": [36999.60874538708], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 19 [N19]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [137806.5802381794], "y": [42720.50821628655], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 95 [O18]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [123950.76013235928], "y": [48441.40768718602], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 33 [O18]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [110094.94002653917], "y": [54162.30715808549], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 83 [O17]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [96239.11992071907], "y": [59883.20662898496], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 40 [O16]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [82383.29981489897], "y": [65604.10609988443], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 75 [P16]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [68527.47970907886], "y": [71325.0055707839], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 42 [P15]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [54671.659603258755], "y": [77045.90504168338], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 86 [P14]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [40815.83949743865], "y": [82766.80451258285], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 69 [Q14]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [26960.019391618538], "y": [88487.70398348232], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 74 [Q13]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [13104.199285798444], "y": [94208.6034543818], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 44 [Q12]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-751.6208200216934], "y": [99929.50292528127], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 62 [Q11]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-14607.440925841773], "y": [105650.40239618073], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 70 [R11]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-28463.26103166191], "y": [111371.30186708021], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 21 [R10]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-42319.08113748199], "y": [117092.20133797967], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 24 [R09]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-56174.9012433021], "y": [122813.10080887916], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 97 [S09]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-70030.7213491222], "y": [128534.00027977861], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 31 [S08]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-83886.54145494231], "y": [134254.8997506781], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 45 [S07]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-97742.36156076242], "y": [139975.79922157756], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 12 [S07]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-111598.18166658253], "y": [145696.69869247705], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 76 [T06]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-125454.00177240261], "y": [151417.5981633765], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 54 [T05]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-142881.25044965133], "y": [131212.57170835006], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 57 [S04]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-133258.23457663544], "y": [119869.97911575747], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 10 [R05]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-123635.21870361957], "y": [108527.38652316487], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 80 [R05]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-114012.2028306037], "y": [97184.79393057228], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 15 [Q06]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-104389.18695758782], "y": [85842.20133797968], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 64 [Q06]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-94766.17108457195], "y": [74499.60874538709], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 13 [P07]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-85143.15521155608], "y": [63157.0161527945], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 99 [P07]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-75520.1393385402], "y": [51814.4235602019], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 55 [O08]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-65897.12346552433], "y": [40471.830967609305], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 68 [O08]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-56274.10759250846], "y": [29129.23837501672], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 52 [N09]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-46651.09171949257], "y": [17786.645782424108], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 58 [M09]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-37028.07584647671], "y": [6444.053189831524], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 82 [M10]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-27405.059973460826], "y": [-4898.539402761089], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 35 [L10]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-17782.044100444968], "y": [-16241.131995353644], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 88 [L11]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-8159.02822742908], "y": [-27583.724587946257], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 22 [K11]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [1463.987645586778], "y": [-38926.31718053884], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 46 [K12]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [11087.003518602665], "y": [-50268.909773131454], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 93 [J12]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [20710.019391618524], "y": [-61611.50236572404], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 50 [I13]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [30333.03526463441], "y": [-72954.09495831662], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 60 [I13]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [39956.05113765027], "y": [-84296.6875509092], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 32 [H13]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [49579.06701066616], "y": [-95639.28014350182], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 81 [H14]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}], "layout": {"title": "Triton", "paper_bgcolor": "black", "plot_bgcolor": "black", "font": {"color": "white"}, "margin": {"l": 0, "r": 0, "t": 40, "b": 0}, "autosize": true, "dragmode": "pan", "hovermode": "closest", "xaxis": {"color": "white", "showgrid": true, "gridcolor": "gray", "dtick": 20000, "title": "X Axis"}, "yaxis": {"color": "white", "showgrid": true, "gridcolor": "gray", "dtick": 20000, "scaleanchor": "x", "scaleratio": 1, "title": "Z Axis"}, "shapes": []}};
    fig.layout.showlegend = false;
    fig.layout.dragmode = 'pan';
    fig.layout.title = 'Triton';
    if (!isGM()) {
        fig.data = fig.data.filter(t => !t.gmOnly);
        }
    Plotly.newPlot('plot', fig.data, fig.layout, {responsive: true, scrollZoom: true});
        console.log("[DEBUG JS] Plotted traces count:", fig.data.length);
        console.log("[DEBUG JS] fig.data sample:", fig.data.slice(0,3));

    var plotDiv = document.getElementById('plot');
    // Use Plotly's built-in nearest-point selection for accurate clicks
    plotDiv.on('plotly_click', function(ev) {
        if (!ev || !ev.points || !ev.points.length) return;
        var p = ev.points[0];
        var picked = null;
        // Prefer original name from hovertext: "Name [Grid]"
        if (p.hovertext && typeof p.hovertext === 'string') {
            picked = p.hovertext.split(' [')[0];
        } else if (p.text && typeof p.text === 'string') {
            // Fallback to text label (strip any ** used for GM marking)
            picked = p.text.replace(/\*/g, '');
        }
        if (picked && objData[picked]) {
            highlight(picked);
        }
    });

    // ——— Auto-scale markers based on current zoom/span (optimized: planets & blackholes only) ———
    (function() {
        var refSpan = null;
        var planetIdx = [];
        var bhIdx = [13];
        function rescaleMarkers() {
            try {
                var full = plotDiv._fullLayout || {};
                var xaxis = full.xaxis || (fig.layout && fig.layout.xaxis);
                if (!xaxis || !xaxis.range) return;
                var curr = Math.abs(xaxis.range[1] - xaxis.range[0]);
                if (!curr) return;
                if (!refSpan) refSpan = curr;
                var scale = refSpan / curr;
                var indices = [];
                var markerSizes = [];
                var textSizes = [];
                function pushForIndex(i) {
                    var t = fig.data[i];
                    if (!t || !t.meta || !t.meta.base_marker_size) return;
                    var base = t.meta.base_marker_size;
                    var baseText = t.meta.base_text_size || (t.textfont && t.textfont.size) || 12;
                    var newMarker = Math.max(2, Math.round(base * scale));
                    var newText = Math.max(8, Math.round(baseText * Math.sqrt(scale)));
                    indices.push(i);
                    markerSizes.push(newMarker);
                    textSizes.push(newText);
                }
                planetIdx.forEach(pushForIndex);
                bhIdx.forEach(pushForIndex);
                if (indices.length) {
                    Plotly.restyle(plotDiv, {'marker.size': [markerSizes], 'textfont.size': [textSizes]}, indices);
                }
            } catch (e) { console.error(e); }
        }
        // initial scale after plot settles
        setTimeout(rescaleMarkers, 250);
        plotDiv.on('plotly_relayout', rescaleMarkers);
    })();

  var ctrl = document.getElementById('object-buttons');

  // Helper: create and append a single button
function addButton(label, fn, header, color, isHidden) {
    if (isHidden && !isGM()) return;
    var btn = document.createElement('button');
    btn.textContent = label;
    if (header) {
      btn.className = 'header';     // section header style
      btn.onclick = null;           // no click action
    } else {
      btn.onclick = fn;             // bind the handler
      if (color) btn.style.backgroundColor = color;
    }
    ctrl.appendChild(btn);
  }
  
  function enterGMMode() {
    const pw = prompt("Enter ONI Auth Code: --We will store a cookie for the purpose of tracking if you have authenticated or not--");
    if (pw === "oni1") {
      document.cookie = "gmMode=1; path=/; max-age=31536000";
      location.reload();
    } else {
      alert("Incorrect password.");
    }
  }

  function isGM() {
    return document.cookie.split(';').some(c => c.trim() === 'gmMode=1');
  }

  function exitGMMode() {
    document.cookie = "gmMode=; path=/; expires=Thu, 01 Jan 1970 00:00:00 UTC;";
    location.reload();
  }

  function renderGMControls() {
    const div = document.getElementById('gm-controls');
    div.innerHTML = '';
    const btn = document.createElement('button');
    btn.style.width = '100%';
    if (isGM()) {
      btn.textContent = 'ONI Logout';
      btn.onclick = exitGMMode;
    } else {
      btn.textContent = 'ONI Login';
      btn.onclick = enterGMMode;
    }
    div.appendChild(btn);
  }

  renderGMControls();

  // ——— Populate the sidebar ———
  addButton('None', clearAnnotations, false, null);

  addButton('--- Gates ---', null, true, null);
  addButton('Charon Gate',function(){highlight('Charon Gate');},false,null,false)
    addButton('Tethys Gate',function(){highlight('Tethys Gate');},false,null,false)
    addButton('Waypoint 89 Gate',function(){highlight('Waypoint 89 Gate');},false,null,false)

  addButton('--- Nav Points/POI ---', null, true, null);
  

    addButton('--- Planets ---', null, true, null);
    

    addButton('--- Stations ---', null, true, null);
    addButton('Cassandra Observatory',function(){highlight('Cassandra Observatory');},false,'blue',false)
    addButton('DS 62A',function(){highlight('DS 62A');},false,'blue',false)
    addButton('Denabite Derby',function(){highlight('Denabite Derby');},false,'blue',false)
    addButton('Farosh Denebite',function(){highlight('Farosh Denebite');},false,'blue',false)
    addButton('Farosh Trading',function(){highlight('Farosh Trading');},false,'blue',false)
    addButton('I 280',function(){highlight('I 280');},false,'blue',false)
    addButton('I 402',function(){highlight('I 402');},false,'blue',false)
    addButton('I 556',function(){highlight('I 556');},false,'blue',false)
    addButton('I 601',function(){highlight('I 601');},false,'blue',false)
    addButton('SY 280',function(){highlight('SY 280');},false,'blue',false)
    addButton('SY 402',function(){highlight('SY 402');},false,'blue',false)
    addButton('Tarnis Nebula Refinery',function(){highlight('Tarnis Nebula Refinery');},false,'blue',false)
    addButton('Triton Refuge',function(){highlight('Triton Refuge');},false,'blue',false)
    addButton('WP 43C',function(){highlight('WP 43C');},false,'blue',false)
    addButton('WP 43L',function(){highlight('WP 43L');},false,'blue',false)
    addButton('WP 43R',function(){highlight('WP 43R');},false,'blue',false)
    addButton('WP 62C',function(){highlight('WP 62C');},false,'blue',false)
    addButton('WP 62L',function(){highlight('WP 62L');},false,'blue',false)
    addButton('WP 62R',function(){highlight('WP 62R');},false,'blue',false)
    addButton('WP 87',function(){highlight('WP 87');},false,'blue',false)
    addButton('WP 88',function(){highlight('WP 88');},false,'blue',false)
    addButton('WP 89',function(){highlight('WP 89');},false,'blue',false)
    
  // Search filter
  document.getElementById('search-box').addEventListener('input', function() {
    const query = this.value.toLowerCase();
    const buttons = document.querySelectorAll('#object-buttons button');
    buttons.forEach(btn => {
      const label = btn.textContent.toLowerCase();
      const isHeader = btn.classList.contains('header');
      if (isHeader) {
        btn.style.display = ''; // always show section headers
      } else {
        btn.style.display = label.includes(query) ? '' : 'none';
      }
    });
  });
</script>
</body>
</html>