
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brightfall.html</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body { margin: 0; background: black; color: white; display: flex; height: 100vh; }
        #controls { flex: 1; min-width: 200px; max-width: 350px; overflow-y: auto; background: #333; padding: 10px; }
        #plot { flex: 3; min-width: 400px; }
        #info { flex: 1; min-width: 200px; background: #333; padding: 10px; overflow-y: auto; }
        h2.header { margin-top: 0; margin-bottom: 5px; text-align: center; }
        h3.subheader { margin-top: 0; margin-bottom: 15px; text-align: center; color: #ccc; }
        .alignment-image { display: block; max-width: 100%; height: auto; margin: 10px auto; }
        button { display: block; width: 100%; margin-bottom: 5px; background: #555; color: white; border: none; padding: 5px; text-align: left; cursor: pointer; font-size: 20px; }
        button.header { background: #444; cursor: default; font-size: 24px; }
    </style>
</head>
<body>
    <div id="controls">
        <div id="gm-controls" style="margin-bottom:10px;"></div>
        <h2 class="header">Brightfall</h2>
        <h3 class="subheader">Alignment: USFP</h3>
        <img src="Images/Factions/USFP.png" alt="Alignment Logo" class="alignment-image" onerror="this.style.display='none';">

        <input type="text" id="search-box" placeholder="Search objects..." style="width: 95%; padding: 6px; margin-bottom: 10px; font-size: 16px;">
        <div id="object-buttons">
    </div>
    </div>
    <div id="plot"></div>
    <div id="info">
        <img src="Images/Compass.png" alt="Compass" style="display:block; max-width:100%; height:auto; margin-bottom:10px;">
        <button id="galactic-map-btn" title="Back to Galactic Map">Show Galactic Map</button>
        Select an object
    </div>
<script>
    var objData = {"Zephhyr Gate": {"type": "jumpnode", "x": 22341.493647913703, "y": -16568.762538189287, "grid": "L13", "hidden": false, "label": "Zephhyr Gate", "destinations": {"Delphinium Gate": "Waypoint 60", "Newton Gate": "Blackspire"}}, "DS 79": {"type": "station", "x": -94549.90799352097, "y": -28570.854184052652, "grid": "K07", "hidden": false, "label": "DS 79", "hull": "starbase_civil", "facilities": ["Docking"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "DS 76": {"type": "station", "x": -86914.23412520821, "y": -57104.16179722138, "grid": "J07", "hidden": false, "label": "DS 76", "hull": "starbase_civil", "facilities": ["Docking"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "DS 85": {"type": "station", "x": 59771.07966080004, "y": -123815.8387519539, "grid": "F14", "hidden": false, "label": "DS 85", "hull": "starbase_civil", "facilities": ["Docking"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "DS 77": {"type": "station", "x": 86294.99941388646, "y": -104123.83772314731, "grid": "G16", "hidden": false, "label": "DS 77", "hull": "starbase_civil", "facilities": ["Docking"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "DS 53": {"type": "station", "x": 93528.79571018275, "y": 48991.51721512432, "grid": "O16", "hidden": false, "label": "DS 53", "hull": "starbase_civil", "facilities": ["Docking"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "DS 74": {"type": "station", "x": 110407.65373487411, "y": 22467.59746203789, "grid": "N17", "hidden": false, "label": "DS 74", "hull": "starbase_civil", "facilities": ["Docking"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "DS 43": {"type": "station", "x": -31455.129186936603, "y": 50599.027503190155, "grid": "O10", "hidden": false, "label": "DS 43", "hull": "starbase_civil", "facilities": [], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "DS 59": {"type": "station", "x": -20202.557170475695, "y": 59038.45651553584, "grid": "O10", "hidden": false, "label": "DS 59", "hull": "starbase_civil", "facilities": [], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "Traffic Control": {"type": "station", "x": 3508.2195784955, "y": -20935.180315739897, "grid": "K12", "hidden": false, "label": "Traffic Control", "hull": "starbase_command", "facilities": [], "sides": ["USFP"], "hullName": "Command Starbase", "hullImage": "Images/Ships/tsn-big-base256.png", "hullDescription": ""}, "Port Rum": {"type": "station", "x": -143419.31316587172, "y": 95843.41766163733, "grid": "Q04", "hidden": true, "label": "**Port Rum**", "hull": "pirate_military_base", "facilities": [], "sides": ["Pirate"], "hullName": "Pirate Base", "hullImage": "Images/Ships/TSN Mod/Pirate/PirateBaseAst256.png", "hullDescription": ""}, "Port Shadow": {"type": "station", "x": 214914.02016746165, "y": -38184.360116140466, "grid": "K22", "hidden": true, "label": "**Port Shadow**", "hull": "pirate_military_base", "facilities": [], "sides": ["USFP"], "hullName": "Pirate Base", "hullImage": "Images/Ships/TSN Mod/Pirate/PirateBaseAst256.png", "hullDescription": ""}, "Port Hawking": {"type": "station", "x": -105919.3131658717, "y": -191656.5823383627, "grid": "C06", "hidden": true, "label": "**Port Hawking**", "hull": "pirate_military_base", "facilities": [], "sides": ["Pirate"], "hullName": "Pirate Base", "hullImage": "Images/Ships/TSN Mod/Pirate/PirateBaseAst256.png", "hullDescription": ""}, "D": {"type": "station", "x": 78108.46461190609, "y": 138204.52877274842, "grid": "S15", "hidden": true, "label": "**D**", "hull": "pirate_cache_1", "facilities": [], "sides": ["USFP"], "hullName": "Cache", "hullImage": "Images/Ships/TSN Mod/Pirate/PirateCache256.png", "hullDescription": ""}, "C": {"type": "station", "x": 87136.24238968386, "y": -168739.915671696, "grid": "D16", "hidden": true, "label": "**C**", "hull": "pirate_cache_1", "facilities": [], "sides": ["Pirate"], "hullName": "Cache", "hullImage": "Images/Ships/TSN Mod/Pirate/PirateCache256.png", "hullDescription": ""}, "MF 423": {"type": "station", "x": 87902.50970195231, "y": 30907.026474383572, "grid": "N16", "hidden": false, "label": "MF 423", "hull": "starbase_industry", "facilities": ["Docking", "Refuel"], "sides": ["USFP"], "hullName": "Industrial Starbase", "hullImage": "Images/Ships/industry_station256.png", "hullDescription": ""}, "MF Tamper": {"type": "station", "x": -18996.924454426313, "y": 47785.88449907493, "grid": "O11", "hidden": false, "label": "MF Tamper", "hull": "starbase_industry", "facilities": [], "sides": ["USFP"], "hullName": "Industrial Starbase", "hullImage": "Images/Ships/industry_station256.png", "hullDescription": ""}, "MF Yanton": {"type": "station", "x": -103391.21457788312, "y": -43842.20192067817, "grid": "J06", "hidden": false, "label": "MF Yanton", "hull": "starbase_industry", "facilities": ["Docking", "Refuel"], "sides": ["USFP"], "hullName": "Industrial Starbase", "hullImage": "Images/Ships/industry_station256.png", "hullDescription": ""}, "MF Diaspria": {"type": "station", "x": 58565.446944750656, "y": -84431.83669434073, "grid": "H14", "hidden": false, "label": "MF Diaspria", "hull": "starbase_industry", "facilities": ["Docking", "Refuel"], "sides": ["USFP"], "hullName": "Industrial Starbase", "hullImage": "Images/Ships/industry_station256.png", "hullDescription": ""}, "SR 81": {"type": "sensor_relay", "x": 32391.85108272495, "y": -12870.98220886237, "grid": "L13", "hidden": false, "label": "SR 81"}, "SR 15": {"type": "sensor_relay", "x": 64540.5677219878, "y": -25203.021797448528, "grid": "K15", "hidden": false, "label": "SR 15"}, "SR 46": {"type": "sensor_relay", "x": 47597.608805630814, "y": 9979.394913612814, "grid": "M14", "hidden": false, "label": "SR 46"}, "SR 70": {"type": "sensor_relay", "x": -34277.52965584059, "y": 13846.203386536003, "grid": "M10", "hidden": false, "label": "SR 70"}, "SR 74": {"type": "sensor_relay", "x": -21003.03133362106, "y": -5678.253537158407, "grid": "L10", "hidden": false, "label": "SR 74"}, "SR 63": {"type": "sensor_relay", "x": -21003.03133362106, "y": -44727.79005773864, "grid": "J10", "hidden": false, "label": "SR 63"}, "SR 59": {"type": "sensor_relay", "x": 9527.125693953643, "y": -69074.7778456306, "grid": "I12", "hidden": false, "label": "SR 59"}, "SR 86": {"type": "sensor_relay", "x": 47597.6088056308, "y": -60385.43850850988, "grid": "I14", "hidden": false, "label": "SR 86"}, "SR 90": {"type": "sensor_relay", "x": 19403.12381170794, "y": -26300.6532843736, "grid": "K12", "hidden": false, "label": "SR 90"}, "SR 49": {"type": "sensor_relay", "x": 107873.90105532114, "y": -25203.021797448528, "grid": "K17", "hidden": false, "label": "SR 49"}, "SR 22": {"type": "sensor_relay", "x": 97564.94336411003, "y": 16622.06368649064, "grid": "M16", "hidden": false, "label": "SR 22"}, "SR 54": {"type": "sensor_relay", "x": 68999.72826112516, "y": 48865.52613298055, "grid": "O15", "hidden": false, "label": "SR 54"}, "SR 45": {"type": "sensor_relay", "x": 28722.202278300203, "y": 64140.776871376336, "grid": "P13", "hidden": false, "label": "SR 45"}, "SR 84": {"type": "sensor_relay", "x": -14040.538778507056, "y": 58948.440044238814, "grid": "O11", "hidden": false, "label": "SR 84"}, "SR 35": {"type": "sensor_relay", "x": -49492.06628007798, "y": 34478.01744422304, "grid": "N09", "hidden": false, "label": "SR 35"}, "SR 88": {"type": "sensor_relay", "x": -69510.86251302356, "y": -3664.612011568335, "grid": "L08", "hidden": false, "label": "SR 88"}, "SR 99": {"type": "sensor_relay", "x": -69510.86251302356, "y": -46741.4315833287, "grid": "J08", "hidden": false, "label": "SR 99"}, "SR 71": {"type": "sensor_relay", "x": -49492.06628007798, "y": -84884.06103912008, "grid": "H09", "hidden": false, "label": "SR 71"}, "SR 93": {"type": "sensor_relay", "x": -14040.538778507093, "y": -109354.48363913585, "grid": "G11", "hidden": false, "label": "SR 93"}, "SR 43": {"type": "sensor_relay", "x": 28722.20227830022, "y": -114546.82046627339, "grid": "G13", "hidden": false, "label": "SR 43"}, "SR 77": {"type": "sensor_relay", "x": 68999.72826112507, "y": -99271.56972787766, "grid": "H15", "hidden": false, "label": "SR 77"}, "SR 47": {"type": "sensor_relay", "x": 97564.94336411003, "y": -67028.10728138768, "grid": "I16", "hidden": false, "label": "SR 47"}, "SR 67": {"type": "sensor_relay", "x": 14249.632446676196, "y": -10144.95240506964, "grid": "L12", "hidden": false, "label": "SR 67"}, "SR 13": {"type": "sensor_relay", "x": 152040.56772198778, "y": -25203.021797448528, "grid": "K19", "hidden": false, "label": "SR 13"}, "SR 48": {"type": "sensor_relay", "x": 144725.89535157348, "y": 18631.406545183738, "grid": "M19", "hidden": false, "label": "SR 48"}, "SR 32": {"type": "sensor_relay", "x": 123574.53649050093, "y": 57715.69441565663, "grid": "O18", "hidden": false, "label": "SR 32"}, "SR 69": {"type": "sensor_relay", "x": 90878.56906851543, "y": 87814.45276799283, "grid": "Q16", "hidden": false, "label": "SR 69"}, "SR 56": {"type": "sensor_relay", "x": 50181.1084859957, "y": 105666.01410436108, "grid": "R14", "hidden": false, "label": "SR 56"}, "SR 34": {"type": "sensor_relay", "x": 5892.356083222941, "y": 109335.88475845191, "grid": "R12", "hidden": false, "label": "SR 34"}, "SR 65": {"type": "sensor_relay", "x": -37188.314606163076, "y": 98426.37730098423, "grid": "Q10", "hidden": false, "label": "SR 65"}, "SR 23": {"type": "sensor_relay", "x": -74392.44444748721, "y": 74119.70614342425, "grid": "P08", "hidden": false, "label": "SR 23"}, "SR 76": {"type": "sensor_relay", "x": -101688.38869088821, "y": 39049.87626255642, "grid": "N06", "hidden": false, "label": "SR 76"}, "SR 73": {"type": "sensor_relay", "x": -116118.20823737972, "y": -2982.752109549432, "grid": "L06", "hidden": false, "label": "SR 73"}, "SR 17": {"type": "sensor_relay", "x": -116118.20823737972, "y": -47423.29148534759, "grid": "J06", "hidden": false, "label": "SR 17"}, "SR 29": {"type": "sensor_relay", "x": -101688.38869088826, "y": -89455.9198574534, "grid": "H06", "hidden": false, "label": "SR 29"}, "SR 24": {"type": "sensor_relay", "x": -74392.44444748724, "y": -124525.74973832129, "grid": "F08", "hidden": false, "label": "SR 24"}, "SR 25": {"type": "sensor_relay", "x": -37188.314606163025, "y": -148832.4208958813, "grid": "E10", "hidden": false, "label": "SR 25"}, "SR 83": {"type": "sensor_relay", "x": 5892.3560832228795, "y": -159741.92835334898, "grid": "E12", "hidden": false, "label": "SR 83"}, "SR 36": {"type": "sensor_relay", "x": 50181.10848599563, "y": -156072.05769925815, "grid": "E14", "hidden": false, "label": "SR 36"}, "SR 50": {"type": "sensor_relay", "x": 90878.56906851538, "y": -138220.4963628899, "grid": "F16", "hidden": false, "label": "SR 50"}, "SR 60": {"type": "sensor_relay", "x": 123574.53649050098, "y": -108121.73801055363, "grid": "G18", "hidden": false, "label": "SR 60"}, "SR 42": {"type": "sensor_relay", "x": 144725.89535157348, "y": -69037.45014008082, "grid": "I19", "hidden": false, "label": "SR 42"}};
        console.log("[DEBUG JS] objData keys:", Object.keys(objData));
        console.log("[DEBUG JS] objData sample:", objData[Object.keys(objData)[0]]);

    function clearAnnotations() {
        Plotly.relayout('plot', {annotations: []});
        document.getElementById('info').innerHTML = getInfoHeader() + 'Select an object';
        document.getElementById('galactic-map-btn').addEventListener('click', function() {
            window.location.href = 'index.html';
        });
        document.getElementById('galactic-map-btn').addEventListener('click', function() {
            window.location.href = 'index.html';
        });
    }
    
    function getInfoHeader() {
    return '<img src="Images/Compass.png" alt="Compass" '
         + 'style="display:block; max-width:100%; height:auto; margin-bottom:10px;">'
         + '<button id="galactic-map-btn" title="Back to Galactic Map">Galactic Map</button>';
        }
    
    function highlight(name) {
        var obj = objData[name];
        if (obj.hidden && !isGM()) {
            alert("This object is not visible on the public map.");
            return;
        }
        var annotation = {
            x: obj.x, y: obj.y, xref: 'x', yref: 'y', text: name,
            showarrow: true, arrowcolor: 'yellow', arrowwidth: 2,
            arrowhead: 3, font: {color: 'yellow', size: 28}
        };

        Plotly.relayout('plot', {annotations: [annotation]});

        var label = obj.label || name;
        var infoHtml = '<span style="font-size:20pt;">' + label + '</span><br>';
        infoHtml += '<b>Location:</b> ' + obj.grid + '<br>';

        if (obj.type === 'station') {
            // Station selected: display detailed station info
            if (obj.hullImage) {
                infoHtml += '<img src="' + obj.hullImage + '" alt="Hull Art" style="max-width:48%; height:auto;">';
            }
            if (obj.sides && obj.sides.length > 0) {
                infoHtml += '<img src="Images/Factions/' + obj.sides[0] + '.png" alt="Faction Logo" style="max-width:48%; height:auto;">';
            }
            infoHtml += '<b>Facilities:</b> ' + (obj.facilities.length ? obj.facilities.join(', ') : 'None') + '<br>';
            if (obj.hullName && obj.hullImage) {
                infoHtml += '<b>General Class:</b> ' + obj.hullName + '<br>';
            }
            if (obj.hullDescription) {
                infoHtml += '<p style="margin-top:5px; font-size:90%; color:#ccc;">' + obj.hullDescription + '</p>';
            }
        } else if ((obj.type === 'jump_point' || obj.type === 'jumppoint' || obj.type === 'jumpnode') && obj.destinations && typeof obj.destinations === 'object') {
            infoHtml += '<b>Type:</b> ' + obj.type + '<br>';
            infoHtml += '<b>Destinations:</b><br>';
            for (const [target, label] of Object.entries(obj.destinations)) {
                if (typeof target === 'string' && typeof label === 'string') {
                    let file = label + '.html';
                    // Correctly escape single quotes for JS string
                    infoHtml += `<button onclick="window.open('${file}', '_blank')">${label}, ${target}</button>`;
                }
            }
            }
        else {
            infoHtml += '<b>Type:</b> ' + obj.type;
        }

            // ——— append a description paragraph if one exists ———
            if (obj.description) {
                infoHtml += '<p style="font-size:90%; margin-top:8px;">'
                          + obj.description
                          + '</p>';
            }
            document.getElementById('info').innerHTML = getInfoHeader() + infoHtml;
            document.getElementById('galactic-map-btn').addEventListener('click', function() {
                window.location.href = 'index.html';
            });
                + infoHtml;
         
    }
         document.getElementById('galactic-map-btn').addEventListener('click', function() {
        window.location.href = 'index.html';
    });
    

    var fig = {"data": [{"type": "scatter", "x": [14413.910691821766, -28024.36091311652, -46700.06788776267, -4261.796282824387, 14413.910691821766], "y": [-79956.14677264154, -46198.43072325881, -69676.46234852826, -103434.17839791099, -79956.14677264154], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [43768.72914179102, 1330.4575368527421, -4681.42954760845, 37756.84205732982, 43768.72914179102], "y": [-80375.21020597607, -71694.6546504205, -101086.10261889748, -109766.65817445304, -80375.21020597607], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [67081.25834110893, 31876.783032466963, 39039.220265419324, 74243.69557406129, 67081.25834110893], "y": [-72231.09923464856, -85734.18565440165, -104407.68272602746, -90904.59630627437, -72231.09923464856], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [71805.11041104933, 56373.01164561725, 78200.39905967645, 93632.49782510853, 71805.11041104933], "y": [-44750.02694354421, -78507.74299292694, -88485.97723935399, -54728.26118997127, -44750.02694354421], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [74314.5956689262, 79619.3796195435, 99321.31503636751, 94016.5310857502, 74314.5956689262], "y": [7857.975328069793, -22523.969116374654, -19083.948646770463, 11297.995797673988, 7857.975328069793], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [44701.86627540077, 71708.03911490695, 97587.59381260897, 70581.4209731028, 44701.86627540077], "y": [33924.95444945387, -3208.5332048671244, 15612.961120734353, 52746.44877505535, 33924.95444945387], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [11076.590650455462, 58337.39311959127, 62732.93116594932, 15472.128696813514, 11076.590650455462], "y": [45770.82484594284, 32267.738426189753, 47652.121588442926, 61155.208008196016, 45770.82484594284], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-17281.776645108286, 21298.470268471967, 12001.792288673561, -26578.45462490669, -17281.776645108286], "y": [24354.40776906036, 44609.037398689994, 62316.995455448865, 42062.36582581923, 24354.40776906036], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-33915.1833810088, -6909.01054150263, -26341.652827277783, -53347.82566678396, -33915.1833810088], "y": [-505.50360117632226, 29876.44084326813, 47149.90065284604, 16767.956208401585, -505.50360117632226], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-36897.291655232875, -20500.686716961274, -54223.74208391792, -70620.34702218953, -36897.291655232875], "y": [-35302.172792887075, 8582.858071310467, 21182.68095566789, -22702.349908529657, -35302.172792887075], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-23116.882947484475, -38066.72862649682, -66557.39153240705, -51607.54585339472, -23116.882947484475], "y": [-61437.820547139905, -16106.030423683105, -25501.88733946201, -70833.67746291881, -61437.820547139905], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [92689.34897309478, 96065.12057803303, 76124.0308680014, 72748.25926306314, 92689.34897309478], "y": [-58704.41152474091, -14819.38066054338, -13285.45068284864, -57170.48154704617, -58704.41152474091], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-79891.53538809394, -109058.2020547606, -93058.2020547606, -63891.53538809394, -79891.53538809394], "y": [54621.195439415096, 15732.306550526206, 3732.3065505262066, 42621.195439415096, 54621.195439415096], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-95848.93238354324, -127793.37682798768, -113211.91617042238, -81267.47172597794, -95848.93238354324], "y": [63104.44341246729, 29076.665634689514, 15387.947466362897, 49415.72524414068, 63104.44341246729], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-94667.18792661767, -128694.96570439545, -112310.32729401464, -78282.54951623686, -94667.18792661767], "y": [96022.48554971506, 47411.374438603925, 35942.12755133736, 84553.23866244848, 96022.48554971506], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-52560.243621600974, -64365.799177156536, -83583.938265698, -71778.38271014244, -52560.243621600974], "y": [54167.68817062682, 95139.91039284904, 89602.48048598116, 48630.25826375894, 54167.68817062682], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-75028.71153163098, -113917.60042051986, -127087.69257789021, -88198.80368900133, -75028.71153163098], "y": [29758.07349759498, 63785.85127537276, 48734.31738123521, 14706.539603457428, 29758.07349759498], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [55979.81707583841, 28896.483742505072, 35653.778814640405, 62737.11214797375, 55979.81707583841], "y": [-55855.74674185674, -65577.96896407896, -84401.8623793131, -74679.64015709088, -55855.74674185674], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [140686.91603233828, 128186.91603233828, 111363.34652480722, 123863.34652480722, 140686.91603233828], "y": [37362.10468588341, 56806.54913032786, 45991.39730405789, 26546.95285961344, 37362.10468588341], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-154789.02504584898, -110344.58060140455, -125105.15684145, -169549.60128589446, -154789.02504584898], "y": [64095.72566618796, 112706.83677729909, 126202.22076819779, 77591.10965708666, 64095.72566618796], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-159469.71796891652, -147664.16241336096, -166952.24169616023, -178757.7972517158, -159469.71796891652], "y": [32087.973100465017, 75143.52865602057, 80432.19555614296, 37376.640000587395, 32087.973100465017], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-159113.75761031616, -159113.75761031616, -179113.75761031616, -179113.75761031616, -159113.75761031616], "y": [-33323.249005029356, 48621.195439415096, 48621.195439415096, -33323.249005029356, -33323.249005029356], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-102061.1793591058, -138866.73491466136, -204916.33586152658, -168110.780305971, -102061.1793591058], "y": [-114787.31830169797, -9926.207190586849, -33109.17970836074, -137970.29081947188, -114787.31830169797], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-42864.42305076064, -105364.42305076064, -168974.2032809828, -106474.2032809828, -42864.42305076064], "y": [-171565.28196808026, -89620.83752363578, -138136.771597534, -220081.2160419785, -171565.28196808026], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [55923.62147466592, -60743.045192000754, -63595.58113974265, 53071.08552692402, 55923.62147466592], "y": [-206308.76639060077, -171586.54416837858, -181171.06495279132, -215893.2871750135, -206308.76639060077], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [41789.00937353409, -101960.99062646591, -100155.41348305528, 43594.58651694472, 41789.00937353409], "y": [-179099.87149307906, -205488.76038196794, -215324.40429475746, -188935.5154058686, -179099.87149307906], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [136199.66737646607, 27171.889598688264, 48489.484069568316, 157517.26184734612, 136199.66737646607], "y": [-124598.20321872793, -175987.0921076168, -221214.96145799747, -169826.0725691086, -124598.20321872793], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [174578.04585745244, 125966.93474634131, 142749.99447747087, 191361.105588582, 174578.04585745244], "y": [-69550.96112920032, -144550.96112920032, -155428.8702141917, -80428.8702141917, -69550.96112920032], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [204254.62194731308, 159810.17750286864, 186684.5294987213, 231128.97394316574, 204254.62194731308], "y": [12232.14580531136, -77351.18752802198, -90684.19937092563, -1100.8660375922918, 12232.14580531136], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [159675.14783721138, 195786.25894832244, 214597.33694215637, 178486.2258310453, 159675.14783721138], "y": [70224.75080163953, -29775.24919836047, -22982.359922809344, 77017.64007719066, 70224.75080163953], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [116159.85273366403, 48104.297178108456, 55334.85426792592, 123390.40982348147, 116159.85273366403], "y": [-140666.30258219456, -167055.1914710835, -185702.4176500864, -159313.52876119746, -140666.30258219456], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-91511.0120396061, -171372.1231507172, -176577.61429213735, -96716.50318102622, -91511.0120396061], "y": [-116029.01364415155, -94501.23586637377, -113811.92881035163, -135339.70658812943, -116029.01364415155], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [102351.00027408295, 60684.333607416265, 52477.040060840314, 94143.70672750699, 102351.00027408295], "y": [129268.18826894392, 148018.18826894392, 129779.7581654418, 111029.7581654418, 129268.18826894392], "fill": "toself", "fillcolor": "rgba(255,255,0,0.6)", "line": {"shape": "spline", "color": "yellow", "width": 2}, "hoverinfo": "none", "gmOnly": true}, {"type": "scatter", "x": [22341.493647913703], "y": [-16568.762538189287], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "lightblue"}, "hovertext": ["Zephhyr Gate [L13]"], "hoverinfo": "text", "text": ["Zephhyr Gate"], "textposition": "top center", "textfont": {"color": "white", "size": 20}}, {"type": "scatter", "x": [22341.493647913703], "y": [-16568.762538189287], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "lightblue"}, "hovertext": ["Zephhyr Gate [L13]"], "hoverinfo": "text", "text": ["Zephhyr Gate"], "textposition": "top center", "textfont": {"color": "white", "size": 20}}, {"type": "scatter", "x": [-94549.90799352097], "y": [-28570.854184052652], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 79 [K07]"], "hoverinfo": "text", "text": ["DS 79"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-94549.90799352097], "y": [-28570.854184052652], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 79 [K07]"], "hoverinfo": "text", "text": ["DS 79"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-86914.23412520821], "y": [-57104.16179722138], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 76 [J07]"], "hoverinfo": "text", "text": ["DS 76"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-86914.23412520821], "y": [-57104.16179722138], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 76 [J07]"], "hoverinfo": "text", "text": ["DS 76"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [59771.07966080004], "y": [-123815.8387519539], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 85 [F14]"], "hoverinfo": "text", "text": ["DS 85"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [59771.07966080004], "y": [-123815.8387519539], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 85 [F14]"], "hoverinfo": "text", "text": ["DS 85"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [86294.99941388646], "y": [-104123.83772314731], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 77 [G16]"], "hoverinfo": "text", "text": ["DS 77"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [86294.99941388646], "y": [-104123.83772314731], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 77 [G16]"], "hoverinfo": "text", "text": ["DS 77"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [93528.79571018275], "y": [48991.51721512432], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 53 [O16]"], "hoverinfo": "text", "text": ["DS 53"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [93528.79571018275], "y": [48991.51721512432], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 53 [O16]"], "hoverinfo": "text", "text": ["DS 53"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [110407.65373487411], "y": [22467.59746203789], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 74 [N17]"], "hoverinfo": "text", "text": ["DS 74"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [110407.65373487411], "y": [22467.59746203789], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 74 [N17]"], "hoverinfo": "text", "text": ["DS 74"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-31455.129186936603], "y": [50599.027503190155], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 43 [O10]"], "hoverinfo": "text", "text": ["DS 43"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-31455.129186936603], "y": [50599.027503190155], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 43 [O10]"], "hoverinfo": "text", "text": ["DS 43"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-20202.557170475695], "y": [59038.45651553584], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 59 [O10]"], "hoverinfo": "text", "text": ["DS 59"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-20202.557170475695], "y": [59038.45651553584], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 59 [O10]"], "hoverinfo": "text", "text": ["DS 59"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [3508.2195784955], "y": [-20935.180315739897], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Traffic Control [K12]"], "hoverinfo": "text", "text": ["Traffic Control"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [3508.2195784955], "y": [-20935.180315739897], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Traffic Control [K12]"], "hoverinfo": "text", "text": ["Traffic Control"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-143419.31316587172], "y": [95843.41766163733], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Port Rum [Q04]"], "hoverinfo": "text", "text": ["**Port Rum**"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "gmOnly": true}, {"type": "scatter", "x": [-143419.31316587172], "y": [95843.41766163733], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Port Rum [Q04]"], "hoverinfo": "text", "text": ["**Port Rum**"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "gmOnly": true}, {"type": "scatter", "x": [214914.02016746165], "y": [-38184.360116140466], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Port Shadow [K22]"], "hoverinfo": "text", "text": ["**Port Shadow**"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "gmOnly": true}, {"type": "scatter", "x": [214914.02016746165], "y": [-38184.360116140466], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Port Shadow [K22]"], "hoverinfo": "text", "text": ["**Port Shadow**"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "gmOnly": true}, {"type": "scatter", "x": [-105919.3131658717], "y": [-191656.5823383627], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Port Hawking [C06]"], "hoverinfo": "text", "text": ["**Port Hawking**"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "gmOnly": true}, {"type": "scatter", "x": [-105919.3131658717], "y": [-191656.5823383627], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Port Hawking [C06]"], "hoverinfo": "text", "text": ["**Port Hawking**"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "gmOnly": true}, {"type": "scatter", "x": [78108.46461190609], "y": [138204.52877274842], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["D [S15]"], "hoverinfo": "text", "text": ["**D**"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "gmOnly": true}, {"type": "scatter", "x": [78108.46461190609], "y": [138204.52877274842], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["D [S15]"], "hoverinfo": "text", "text": ["**D**"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "gmOnly": true}, {"type": "scatter", "x": [87136.24238968386], "y": [-168739.915671696], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["C [D16]"], "hoverinfo": "text", "text": ["**C**"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "gmOnly": true}, {"type": "scatter", "x": [87136.24238968386], "y": [-168739.915671696], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["C [D16]"], "hoverinfo": "text", "text": ["**C**"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "gmOnly": true}, {"type": "scatter", "x": [87902.50970195231], "y": [30907.026474383572], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["MF 423 [N16]"], "hoverinfo": "text", "text": ["MF 423"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [87902.50970195231], "y": [30907.026474383572], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["MF 423 [N16]"], "hoverinfo": "text", "text": ["MF 423"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-18996.924454426313], "y": [47785.88449907493], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["MF Tamper [O11]"], "hoverinfo": "text", "text": ["MF Tamper"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-18996.924454426313], "y": [47785.88449907493], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["MF Tamper [O11]"], "hoverinfo": "text", "text": ["MF Tamper"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-103391.21457788312], "y": [-43842.20192067817], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["MF Yanton [J06]"], "hoverinfo": "text", "text": ["MF Yanton"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-103391.21457788312], "y": [-43842.20192067817], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["MF Yanton [J06]"], "hoverinfo": "text", "text": ["MF Yanton"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [58565.446944750656], "y": [-84431.83669434073], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["MF Diaspria [H14]"], "hoverinfo": "text", "text": ["MF Diaspria"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [58565.446944750656], "y": [-84431.83669434073], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["MF Diaspria [H14]"], "hoverinfo": "text", "text": ["MF Diaspria"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [32391.85108272495], "y": [-12870.98220886237], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 81 [L13]"], "hoverinfo": "text"}, {"type": "scatter", "x": [32391.85108272495], "y": [-12870.98220886237], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 81 [L13]"], "hoverinfo": "text"}, {"type": "scatter", "x": [64540.5677219878], "y": [-25203.021797448528], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 15 [K15]"], "hoverinfo": "text"}, {"type": "scatter", "x": [64540.5677219878], "y": [-25203.021797448528], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 15 [K15]"], "hoverinfo": "text"}, {"type": "scatter", "x": [47597.608805630814], "y": [9979.394913612814], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 46 [M14]"], "hoverinfo": "text"}, {"type": "scatter", "x": [47597.608805630814], "y": [9979.394913612814], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 46 [M14]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-34277.52965584059], "y": [13846.203386536003], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 70 [M10]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-34277.52965584059], "y": [13846.203386536003], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 70 [M10]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-21003.03133362106], "y": [-5678.253537158407], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 74 [L10]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-21003.03133362106], "y": [-5678.253537158407], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 74 [L10]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-21003.03133362106], "y": [-44727.79005773864], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 63 [J10]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-21003.03133362106], "y": [-44727.79005773864], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 63 [J10]"], "hoverinfo": "text"}, {"type": "scatter", "x": [9527.125693953643], "y": [-69074.7778456306], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 59 [I12]"], "hoverinfo": "text"}, {"type": "scatter", "x": [9527.125693953643], "y": [-69074.7778456306], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 59 [I12]"], "hoverinfo": "text"}, {"type": "scatter", "x": [47597.6088056308], "y": [-60385.43850850988], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 86 [I14]"], "hoverinfo": "text"}, {"type": "scatter", "x": [47597.6088056308], "y": [-60385.43850850988], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 86 [I14]"], "hoverinfo": "text"}, {"type": "scatter", "x": [19403.12381170794], "y": [-26300.6532843736], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 90 [K12]"], "hoverinfo": "text"}, {"type": "scatter", "x": [19403.12381170794], "y": [-26300.6532843736], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 90 [K12]"], "hoverinfo": "text"}, {"type": "scatter", "x": [107873.90105532114], "y": [-25203.021797448528], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 49 [K17]"], "hoverinfo": "text"}, {"type": "scatter", "x": [107873.90105532114], "y": [-25203.021797448528], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 49 [K17]"], "hoverinfo": "text"}, {"type": "scatter", "x": [97564.94336411003], "y": [16622.06368649064], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 22 [M16]"], "hoverinfo": "text"}, {"type": "scatter", "x": [97564.94336411003], "y": [16622.06368649064], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 22 [M16]"], "hoverinfo": "text"}, {"type": "scatter", "x": [68999.72826112516], "y": [48865.52613298055], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 54 [O15]"], "hoverinfo": "text"}, {"type": "scatter", "x": [68999.72826112516], "y": [48865.52613298055], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 54 [O15]"], "hoverinfo": "text"}, {"type": "scatter", "x": [28722.202278300203], "y": [64140.776871376336], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 45 [P13]"], "hoverinfo": "text"}, {"type": "scatter", "x": [28722.202278300203], "y": [64140.776871376336], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 45 [P13]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-14040.538778507056], "y": [58948.440044238814], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 84 [O11]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-14040.538778507056], "y": [58948.440044238814], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 84 [O11]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-49492.06628007798], "y": [34478.01744422304], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 35 [N09]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-49492.06628007798], "y": [34478.01744422304], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 35 [N09]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-69510.86251302356], "y": [-3664.612011568335], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 88 [L08]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-69510.86251302356], "y": [-3664.612011568335], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 88 [L08]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-69510.86251302356], "y": [-46741.4315833287], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 99 [J08]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-69510.86251302356], "y": [-46741.4315833287], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 99 [J08]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-49492.06628007798], "y": [-84884.06103912008], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 71 [H09]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-49492.06628007798], "y": [-84884.06103912008], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 71 [H09]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-14040.538778507093], "y": [-109354.48363913585], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 93 [G11]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-14040.538778507093], "y": [-109354.48363913585], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 93 [G11]"], "hoverinfo": "text"}, {"type": "scatter", "x": [28722.20227830022], "y": [-114546.82046627339], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 43 [G13]"], "hoverinfo": "text"}, {"type": "scatter", "x": [28722.20227830022], "y": [-114546.82046627339], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 43 [G13]"], "hoverinfo": "text"}, {"type": "scatter", "x": [68999.72826112507], "y": [-99271.56972787766], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 77 [H15]"], "hoverinfo": "text"}, {"type": "scatter", "x": [68999.72826112507], "y": [-99271.56972787766], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 77 [H15]"], "hoverinfo": "text"}, {"type": "scatter", "x": [97564.94336411003], "y": [-67028.10728138768], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 47 [I16]"], "hoverinfo": "text"}, {"type": "scatter", "x": [97564.94336411003], "y": [-67028.10728138768], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 47 [I16]"], "hoverinfo": "text"}, {"type": "scatter", "x": [14249.632446676196], "y": [-10144.95240506964], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 67 [L12]"], "hoverinfo": "text"}, {"type": "scatter", "x": [14249.632446676196], "y": [-10144.95240506964], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 67 [L12]"], "hoverinfo": "text"}, {"type": "scatter", "x": [152040.56772198778], "y": [-25203.021797448528], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 13 [K19]"], "hoverinfo": "text"}, {"type": "scatter", "x": [152040.56772198778], "y": [-25203.021797448528], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 13 [K19]"], "hoverinfo": "text"}, {"type": "scatter", "x": [144725.89535157348], "y": [18631.406545183738], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 48 [M19]"], "hoverinfo": "text"}, {"type": "scatter", "x": [144725.89535157348], "y": [18631.406545183738], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 48 [M19]"], "hoverinfo": "text"}, {"type": "scatter", "x": [123574.53649050093], "y": [57715.69441565663], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 32 [O18]"], "hoverinfo": "text"}, {"type": "scatter", "x": [123574.53649050093], "y": [57715.69441565663], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 32 [O18]"], "hoverinfo": "text"}, {"type": "scatter", "x": [90878.56906851543], "y": [87814.45276799283], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 69 [Q16]"], "hoverinfo": "text"}, {"type": "scatter", "x": [90878.56906851543], "y": [87814.45276799283], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 69 [Q16]"], "hoverinfo": "text"}, {"type": "scatter", "x": [50181.1084859957], "y": [105666.01410436108], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 56 [R14]"], "hoverinfo": "text"}, {"type": "scatter", "x": [50181.1084859957], "y": [105666.01410436108], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 56 [R14]"], "hoverinfo": "text"}, {"type": "scatter", "x": [5892.356083222941], "y": [109335.88475845191], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 34 [R12]"], "hoverinfo": "text"}, {"type": "scatter", "x": [5892.356083222941], "y": [109335.88475845191], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 34 [R12]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-37188.314606163076], "y": [98426.37730098423], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 65 [Q10]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-37188.314606163076], "y": [98426.37730098423], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 65 [Q10]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-74392.44444748721], "y": [74119.70614342425], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 23 [P08]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-74392.44444748721], "y": [74119.70614342425], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 23 [P08]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-101688.38869088821], "y": [39049.87626255642], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 76 [N06]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-101688.38869088821], "y": [39049.87626255642], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 76 [N06]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-116118.20823737972], "y": [-2982.752109549432], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 73 [L06]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-116118.20823737972], "y": [-2982.752109549432], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 73 [L06]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-116118.20823737972], "y": [-47423.29148534759], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 17 [J06]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-116118.20823737972], "y": [-47423.29148534759], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 17 [J06]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-101688.38869088826], "y": [-89455.9198574534], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 29 [H06]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-101688.38869088826], "y": [-89455.9198574534], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 29 [H06]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-74392.44444748724], "y": [-124525.74973832129], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 24 [F08]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-74392.44444748724], "y": [-124525.74973832129], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 24 [F08]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-37188.314606163025], "y": [-148832.4208958813], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 25 [E10]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-37188.314606163025], "y": [-148832.4208958813], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 25 [E10]"], "hoverinfo": "text"}, {"type": "scatter", "x": [5892.3560832228795], "y": [-159741.92835334898], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 83 [E12]"], "hoverinfo": "text"}, {"type": "scatter", "x": [5892.3560832228795], "y": [-159741.92835334898], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 83 [E12]"], "hoverinfo": "text"}, {"type": "scatter", "x": [50181.10848599563], "y": [-156072.05769925815], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 36 [E14]"], "hoverinfo": "text"}, {"type": "scatter", "x": [50181.10848599563], "y": [-156072.05769925815], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 36 [E14]"], "hoverinfo": "text"}, {"type": "scatter", "x": [90878.56906851538], "y": [-138220.4963628899], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 50 [F16]"], "hoverinfo": "text"}, {"type": "scatter", "x": [90878.56906851538], "y": [-138220.4963628899], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 50 [F16]"], "hoverinfo": "text"}, {"type": "scatter", "x": [123574.53649050098], "y": [-108121.73801055363], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 60 [G18]"], "hoverinfo": "text"}, {"type": "scatter", "x": [123574.53649050098], "y": [-108121.73801055363], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 60 [G18]"], "hoverinfo": "text"}, {"type": "scatter", "x": [144725.89535157348], "y": [-69037.45014008082], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 42 [I19]"], "hoverinfo": "text"}, {"type": "scatter", "x": [144725.89535157348], "y": [-69037.45014008082], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 42 [I19]"], "hoverinfo": "text"}], "layout": {"title": "Brightfall", "paper_bgcolor": "black", "plot_bgcolor": "black", "font": {"color": "white"}, "margin": {"l": 0, "r": 0, "t": 40, "b": 0}, "autosize": true, "dragmode": "pan", "hovermode": "closest", "xaxis": {"color": "white", "showgrid": true, "gridcolor": "gray", "dtick": 20000, "title": "X Axis"}, "yaxis": {"color": "white", "showgrid": true, "gridcolor": "gray", "dtick": 20000, "scaleanchor": "x", "scaleratio": 1, "title": "Z Axis"}, "shapes": []}};
    fig.layout.showlegend = false;
    fig.layout.dragmode = 'pan';
    fig.layout.title = 'Brightfall';
    if (!isGM()) {
        fig.data = fig.data.filter(t => !t.gmOnly);
        }
    Plotly.newPlot('plot', fig.data, fig.layout, {responsive: true, scrollZoom: true});
        console.log("[DEBUG JS] Plotted traces count:", fig.data.length);
        console.log("[DEBUG JS] fig.data sample:", fig.data.slice(0,3));

    var plotDiv = document.getElementById('plot');
    // Custom click: select nearest object within 10px of cursor
    plotDiv.addEventListener('click', function(evt) {
        var rect = plotDiv.getBoundingClientRect();
        var px = evt.clientX - rect.left;
        var py = evt.clientY - rect.top;
        var xaxis = plotDiv._fullLayout.xaxis;
        var yaxis = plotDiv._fullLayout.yaxis;
        var l2px = xaxis.l2p.bind(xaxis);
        var l2py = yaxis.l2p.bind(yaxis);
        var minDist = Infinity, closest = null;
        for (var name in objData) {
            var pt = objData[name];
            var xPx = l2px(pt.x);
            var yPx = l2py(pt.y);
            var dx = xPx - px, dy = yPx - py;
            var d = Math.sqrt(dx*dx + dy*dy);
            console.log(`${name}: data=(${pt.x}, ${pt.y}) -> screen=(${xPx.toFixed(1)}, ${yPx.toFixed(1)}), cursor=(${px.toFixed(1)}, ${py.toFixed(1)}), dx=${dx.toFixed(1)}, dy=${dy.toFixed(1)}, d=${d.toFixed(1)}`);
            if (d < minDist) {
                minDist = d;
                closest = name;
            }
        }
        if (minDist <= 35 && closest) {
            highlight(closest);
        }
    });

  var ctrl = document.getElementById('object-buttons');

  // Helper: create and append a single button
function addButton(label, fn, header, color, isHidden) {
    if (isHidden && !isGM()) return;
    var btn = document.createElement('button');
    btn.textContent = label;
    if (header) {
      btn.className = 'header';     // section header style
      btn.onclick = null;           // no click action
    } else {
      btn.onclick = fn;             // bind the handler
      if (color) btn.style.backgroundColor = color;
    }
    ctrl.appendChild(btn);
  }
  
  function enterGMMode() {
    const pw = prompt("Enter ONI Auth Code: --We will store a cookie for the purpose of tracking if you have authenticated or not--");
    if (pw === "oni1") {
      document.cookie = "gmMode=1; path=/; max-age=31536000";
      location.reload();
    } else {
      alert("Incorrect password.");
    }
  }

  function isGM() {
    return document.cookie.split(';').some(c => c.trim() === 'gmMode=1');
  }

  function exitGMMode() {
    document.cookie = "gmMode=; path=/; expires=Thu, 01 Jan 1970 00:00:00 UTC;";
    location.reload();
  }

  function renderGMControls() {
    const div = document.getElementById('gm-controls');
    div.innerHTML = '';
    const btn = document.createElement('button');
    btn.style.width = '100%';
    if (isGM()) {
      btn.textContent = 'ONI Logout';
      btn.onclick = exitGMMode;
    } else {
      btn.textContent = 'ONI Login';
      btn.onclick = enterGMMode;
    }
    div.appendChild(btn);
  }

  renderGMControls();

  // ——— Populate the sidebar ———
  addButton('None', clearAnnotations, false, null);

  addButton('--- Gates ---', null, true, null);
  addButton('Zephhyr Gate',function(){highlight('Zephhyr Gate');},false,null,false)

  addButton('--- Nav Points/POI ---', null, true, null);
  

  addButton('--- Stations ---', null, true, null);
  addButton('C',function(){highlight('C');},false,'red',true)
    addButton('D',function(){highlight('D');},false,'blue',true)
    addButton('DS 43',function(){highlight('DS 43');},false,'blue',false)
    addButton('DS 53',function(){highlight('DS 53');},false,'blue',false)
    addButton('DS 59',function(){highlight('DS 59');},false,'blue',false)
    addButton('DS 74',function(){highlight('DS 74');},false,'blue',false)
    addButton('DS 76',function(){highlight('DS 76');},false,'blue',false)
    addButton('DS 77',function(){highlight('DS 77');},false,'blue',false)
    addButton('DS 79',function(){highlight('DS 79');},false,'blue',false)
    addButton('DS 85',function(){highlight('DS 85');},false,'blue',false)
    addButton('MF 423',function(){highlight('MF 423');},false,'blue',false)
    addButton('MF Diaspria',function(){highlight('MF Diaspria');},false,'blue',false)
    addButton('MF Tamper',function(){highlight('MF Tamper');},false,'blue',false)
    addButton('MF Yanton',function(){highlight('MF Yanton');},false,'blue',false)
    addButton('Port Hawking',function(){highlight('Port Hawking');},false,'red',true)
    addButton('Port Rum',function(){highlight('Port Rum');},false,'red',true)
    addButton('Port Shadow',function(){highlight('Port Shadow');},false,'blue',true)
    addButton('Traffic Control',function(){highlight('Traffic Control');},false,'blue',false)
    
  // Search filter
  document.getElementById('search-box').addEventListener('input', function() {
    const query = this.value.toLowerCase();
    const buttons = document.querySelectorAll('#object-buttons button');
    buttons.forEach(btn => {
      const label = btn.textContent.toLowerCase();
      const isHeader = btn.classList.contains('header');
      if (isHeader) {
        btn.style.display = ''; // always show section headers
      } else {
        btn.style.display = label.includes(query) ? '' : 'none';
      }
    });
  });
</script>
</body>
</html>