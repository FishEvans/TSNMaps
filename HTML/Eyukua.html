
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eyukua.html</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body { margin: 0; background: black; color: white; display: flex; height: 100vh; }
        /* === Description typography controls ===
           Tweak these two variables to change description sizes globally */
        :root {
            --desc-font-size: 130%;
            --hull-desc-font-size: 130%;
        }
        .desc-text { font-size: var(--desc-font-size); margin-top: 8px; }
        .hull-desc { font-size: var(--hull-desc-font-size); margin-top: 5px; color: #ccc; }
        #controls { flex: 1; min-width: 200px; max-width: 350px; overflow-y: auto; background: #333; padding: 10px; }
        #plot { flex: 3; min-width: 400px; }
        #info { flex: 1; min-width: 200px; background: #333; padding: 10px; overflow-y: auto; }
        h2.header { margin-top: 0; margin-bottom: 5px; text-align: center; }
        h3.subheader { margin-top: 0; margin-bottom: 15px; text-align: center; color: #ccc; }
        .alignment-image { display: block; max-width: 100%; height: auto; margin: 10px auto; }
        button { display: block; width: 100%; margin-bottom: 5px; background: #555; color: white; border: none; padding: 5px; text-align: left; cursor: pointer; font-size: 20px; }
        button.header { background: #444; cursor: default; font-size: 24px; }
    </style>
</head>
<body>
    <div id="controls">
        <div id="gm-controls" style="margin-bottom:10px;"></div>
        <h2 class="header">Eyukua</h2>
        <h3 class="subheader">Alignment: Unknown</h3>
        <img src="Images/Factions/Unknown.png" alt="Alignment Logo" class="alignment-image" onerror="this.style.display='none';">

        <input type="text" id="search-box" placeholder="Search objects..." style="width: 95%; padding: 6px; margin-bottom: 10px; font-size: 16px;">
        <div id="object-buttons">
    </div>
    </div>
    <div id="plot"></div>
    <div id="info">
        <img src="Images/Compass.png" alt="Compass" style="display:block; max-width:100%; height:auto; margin-bottom:10px;">
        <button id="galactic-map-btn" title="Back to Galactic Map">Show Galactic Map</button>
        Select an object
    </div>
<script>
    var objData = {"1766408346456": {"type": "blackhole", "x": -138661.44537037038, "y": -136634.22952674885, "grid": "F05"}, "1766408352352": {"type": "blackhole", "x": -130623.89393004117, "y": -186199.13007544572, "grid": "C05"}, "1766408359068": {"type": "blackhole", "x": -197268.5912894376, "y": -151034.84252400536, "grid": "E02"}, "1766408665419": {"type": "blackhole", "x": -18752.14142661184, "y": -182810.67170781878, "grid": "C11"}, "1766408698532": {"type": "blackhole", "x": 177227.85857338816, "y": -121464.00504115212, "grid": "F20"}, "Arcturus Gate": {"type": "jumpnode", "x": -163333.33333333334, "y": -162500.0, "grid": "D03", "hidden": false, "label": "Arcturus Gate", "destinations": {"Eyukua Gate": "Arcturus"}}, "Waypoint 78 Gate": {"type": "jumpnode", "x": -9166.666666666668, "y": 185000.00000000003, "grid": "V11", "hidden": false, "label": "Waypoint 78 Gate"}, "P 67": {"type": "station", "x": -187007.97846364888, "y": -9948.04948559662, "grid": "L02", "hidden": false, "label": "P 67", "hull": "starbase_kralien", "facilities": [], "sides": ["Hegemony"], "hullName": "Kralien Base", "hullImage": "Images/Ships/kralien_station256.png", "hullDescription": ""}, "H 35": {"type": "station", "x": -165220.94142661183, "y": -67420.27170781884, "grid": "I03", "hidden": false, "label": "H 35", "hull": "starbase_torgoth", "facilities": [], "sides": ["Hegemony"], "hullName": "Torgoth Base", "hullImage": "Images/Ships/torgoth_station256.png", "hullDescription": ""}, "W 01": {"type": "station", "x": -130220.94142661183, "y": -50420.27170781884, "grid": "J05", "hidden": false, "label": "W 01", "hull": "starbase_kralien", "facilities": [], "sides": ["Hegemony"], "hullName": "Kralien Base", "hullImage": "Images/Ships/kralien_station256.png", "hullDescription": ""}, "I 99": {"type": "station", "x": -95859.8303155007, "y": -97522.1235596707, "grid": "H07", "hidden": false, "label": "I 99", "hull": "starbase_kralien", "facilities": [], "sides": ["Hegemony"], "hullName": "Kralien Base", "hullImage": "Images/Ships/kralien_station256.png", "hullDescription": ""}, "H 46": {"type": "station", "x": -77038.03648834027, "y": -183647.18405349785, "grid": "C08", "hidden": false, "label": "H 46", "hull": "starbase_skaraan", "facilities": [], "sides": ["Hegemony"], "hullName": "Skaraan Base", "hullImage": "Images/Ships/skaraan_station256.png", "hullDescription": ""}, "D 76": {"type": "station", "x": -38125.99945130322, "y": -232235.14701646086, "grid": "A10", "hidden": false, "label": "D 76", "hull": "starbase_kralien", "facilities": [], "sides": ["Hegemony"], "hullName": "Kralien Base", "hullImage": "Images/Ships/kralien_station256.png", "hullDescription": ""}, "R 22": {"type": "station", "x": -44716.31179698221, "y": -42748.975411522566, "grid": "J09", "hidden": false, "label": "R 22", "hull": "starbase_skaraan", "facilities": [], "sides": ["Hegemony"], "hullName": "Skaraan Base", "hullImage": "Images/Ships/skaraan_station256.png", "hullDescription": ""}, "J 01": {"type": "station", "x": 143400.0807956104, "y": 148497.10606995897, "grid": "T19", "hidden": false, "label": "J 01", "hull": "starbase_kralien", "facilities": [], "sides": ["Hegemony"], "hullName": "Kralien Base", "hullImage": "Images/Ships/kralien_station256.png", "hullDescription": ""}, "N 26": {"type": "station", "x": 48779.05857338817, "y": -109420.27170781884, "grid": "G14", "hidden": false, "label": "N 26", "hull": "starbase_arvonian", "facilities": [], "sides": ["Hegemony"], "hullName": "Arvonian Base", "hullImage": "Images/Ships/arvonian_station256.png", "hullDescription": ""}, "K 95": {"type": "station", "x": 79779.05857338817, "y": -127420.27170781884, "grid": "F15", "hidden": false, "label": "K 95", "hull": "starbase_torgoth", "facilities": [], "sides": ["Hegemony"], "hullName": "Torgoth Base", "hullImage": "Images/Ships/torgoth_station256.png", "hullDescription": ""}, "F 83": {"type": "station", "x": 20779.05857338817, "y": -158420.27170781884, "grid": "E13", "hidden": false, "label": "F 83", "hull": "starbase_kralien", "facilities": [], "sides": ["Hegemony"], "hullName": "Kralien Base", "hullImage": "Images/Ships/kralien_station256.png", "hullDescription": ""}, "G 25": {"type": "station", "x": 72779.05857338817, "y": -175420.27170781884, "grid": "D15", "hidden": false, "label": "G 25", "hull": "starbase_skaraan", "facilities": [], "sides": ["Hegemony"], "hullName": "Skaraan Base", "hullImage": "Images/Ships/skaraan_station256.png", "hullDescription": ""}, "R 25": {"type": "station", "x": 36779.05857338817, "y": -204420.27170781884, "grid": "B13", "hidden": false, "label": "R 25", "hull": "starbase_torgoth", "facilities": [], "sides": ["Hegemony"], "hullName": "Torgoth Base", "hullImage": "Images/Ships/torgoth_station256.png", "hullDescription": ""}, "L 02": {"type": "station", "x": 83779.05857338817, "y": -223420.27170781884, "grid": "A16", "hidden": false, "label": "L 02", "hull": "starbase_kralien", "facilities": [], "sides": ["Hegemony"], "hullName": "Kralien Base", "hullImage": "Images/Ships/kralien_station256.png", "hullDescription": ""}, "W 66": {"type": "station", "x": -41220.94142661183, "y": -138420.27170781884, "grid": "F09", "hidden": false, "label": "W 66", "hull": "starbase_torgoth", "facilities": [], "sides": ["Hegemony"], "hullName": "Torgoth Base", "hullImage": "Images/Ships/torgoth_station256.png", "hullDescription": ""}, "D 42": {"type": "station", "x": 11001.280795610393, "y": -62948.04948559664, "grid": "I12", "hidden": false, "label": "D 42", "hull": "starbase_torgoth", "facilities": [], "sides": ["Hegemony"], "hullName": "Torgoth Base", "hullImage": "Images/Ships/torgoth_station256.png", "hullDescription": ""}, "L 90": {"type": "station", "x": 116112.39190672152, "y": -16586.93837448553, "grid": "L17", "hidden": false, "label": "L 90", "hull": "starbase_arvonian", "facilities": [], "sides": ["Hegemony"], "hullName": "Arvonian Base", "hullImage": "Images/Ships/arvonian_station256.png", "hullDescription": ""}, "C 31": {"type": "station", "x": 140667.94746227705, "y": -57670.27170781884, "grid": "J19", "hidden": false, "label": "C 31", "hull": "starbase_skaraan", "facilities": [], "sides": ["Hegemony"], "hullName": "Skaraan Base", "hullImage": "Images/Ships/skaraan_station256.png", "hullDescription": ""}, "G 03": {"type": "station", "x": 113862.39190672147, "y": -166392.49393004106, "grid": "D17", "hidden": false, "label": "G 03", "hull": "starbase_kralien", "facilities": [], "sides": ["Hegemony"], "hullName": "Kralien Base", "hullImage": "Images/Ships/kralien_station256.png", "hullDescription": ""}, "SK 01": {"type": "station", "x": 176811.1919067215, "y": -38686.22726337435, "grid": "K20", "hidden": false, "label": "SK 01", "hull": "starbase_kralien", "facilities": [], "sides": ["Hegemony"], "hullName": "Kralien Base", "hullImage": "Images/Ships/kralien_station256.png", "hullDescription": ""}, "L 12": {"type": "station", "x": -63405.47475994517, "y": 159885.99495884785, "grid": "T08", "hidden": false, "label": "L 12", "hull": "starbase_kralien", "facilities": [], "sides": ["Hegemony"], "hullName": "Kralien Base", "hullImage": "Images/Ships/kralien_station256.png", "hullDescription": ""}, "S 90": {"type": "station", "x": -24655.474759945173, "y": 144330.43940329232, "grid": "T10", "hidden": false, "label": "S 90", "hull": "starbase_skaraan", "facilities": [], "sides": ["Hegemony"], "hullName": "Skaraan Base", "hullImage": "Images/Ships/skaraan_station256.png", "hullDescription": ""}, "D 17": {"type": "station", "x": 30900.08079561039, "y": 153358.21718107007, "grid": "T13", "hidden": false, "label": "D 17", "hull": "starbase_kralien", "facilities": [], "sides": ["Hegemony"], "hullName": "Kralien Base", "hullImage": "Images/Ships/kralien_station256.png", "hullDescription": ""}, "H 81": {"type": "station", "x": -87988.80809327851, "y": 121413.77273662561, "grid": "S07", "hidden": false, "label": "H 81", "hull": "starbase_torgoth", "facilities": [], "sides": ["Hegemony"], "hullName": "Torgoth Base", "hullImage": "Images/Ships/torgoth_station256.png", "hullDescription": ""}, "E 43": {"type": "station", "x": 189156.25363511653, "y": 186768.71100823057, "grid": "V21", "hidden": false, "label": "E 43", "hull": "starbase_kralien", "facilities": [], "sides": ["Hegemony"], "hullName": "Kralien Base", "hullImage": "Images/Ships/kralien_station256.png", "hullDescription": ""}, "C 87": {"type": "station", "x": 103122.30301783262, "y": 188774.88384773675, "grid": "V17", "hidden": false, "label": "C 87", "hull": "Hegemony_Transport", "facilities": [], "sides": ["Hegemony"], "hullName": "Transport", "hullImage": "Images/Ships/TSN Mod/Hegemony/HegTransport256.png", "hullDescription": "Hegemony Armored Transport"}, "W 26": {"type": "station", "x": 61455.636351165944, "y": 183219.3282921812, "grid": "V15", "hidden": false, "label": "W 26", "hull": "starbase_arvonian", "facilities": [], "sides": ["Hegemony"], "hullName": "Arvonian Base", "hullImage": "Images/Ships/arvonian_station256.png", "hullDescription": ""}, "F 99": {"type": "station", "x": 177427.8585733882, "y": 123497.10606995897, "grid": "S20", "hidden": false, "label": "F 99", "hull": "starbase_torgoth", "facilities": [], "sides": ["Hegemony"], "hullName": "Torgoth Base", "hullImage": "Images/Ships/torgoth_station256.png", "hullDescription": ""}, "G 69": {"type": "station", "x": 176482.64252400547, "y": 89353.58755144043, "grid": "Q20", "hidden": false, "label": "G 69", "hull": "starbase_kralien", "facilities": [], "sides": ["Hegemony"], "hullName": "Kralien Base", "hullImage": "Images/Ships/kralien_station256.png", "hullDescription": ""}, "C 82": {"type": "station", "x": 167242.673388203, "y": 63466.24187242811, "grid": "P20", "hidden": false, "label": "C 82", "hull": "starbase_torgoth", "facilities": [], "sides": ["Hegemony"], "hullName": "Torgoth Base", "hullImage": "Images/Ships/torgoth_station256.png", "hullDescription": ""}, "L 80": {"type": "station", "x": -178018.40685871066, "y": 161814.55668724293, "grid": "U03", "hidden": false, "label": "L 80", "hull": "starbase_kralien", "facilities": [], "sides": ["Hegemony"], "hullName": "Kralien Base", "hullImage": "Images/Ships/kralien_station256.png", "hullDescription": ""}};
        console.log("[DEBUG JS] objData keys:", Object.keys(objData));
        console.log("[DEBUG JS] objData sample:", objData[Object.keys(objData)[0]]);

    function clearAnnotations() {
        Plotly.relayout('plot', {annotations: []});
        document.getElementById('info').innerHTML = getInfoHeader() + 'Select an object';
        document.getElementById('galactic-map-btn').addEventListener('click', function() {
            window.location.href = 'index.html';
        });
        document.getElementById('galactic-map-btn').addEventListener('click', function() {
            window.location.href = 'index.html';
        });
    }
    
    function getInfoHeader() {
    return '<img src="Images/Compass.png" alt="Compass" '
         + 'style="display:block; max-width:100%; height:auto; margin-bottom:10px;">'
         + '<button id="galactic-map-btn" title="Back to Galactic Map">Galactic Map</button>';
        }
    
    function highlight(name) {
        var obj = objData[name];
        if (obj.hidden && !isGM()) {
            alert("This object is not visible on the public map.");
            return;
        }
        var annotation = {
            x: obj.x, y: obj.y, xref: 'x', yref: 'y', text: name,
            showarrow: true, arrowcolor: 'yellow', arrowwidth: 2,
            arrowhead: 3, font: {color: 'yellow', size: 28}
        };

        Plotly.relayout('plot', {annotations: [annotation]});

        var label = obj.label || name;
        var infoHtml = '<span style="font-size:20pt;">' + label + '</span><br>';
        infoHtml += '<b>Location:</b> ' + obj.grid + '<br>';

        if (obj.type === 'station') {
            // Station selected: display detailed station info
            if (obj.hullImage) {
                infoHtml += '<img src="' + obj.hullImage + '" alt="Hull Art" style="max-width:48%; height:auto;">';
            }
            if (obj.sides && obj.sides.length > 0) {
                infoHtml += '<img src="Images/Factions/' + obj.sides[0] + '.png" alt="Faction Logo" style="max-width:48%; height:auto;">';
            }
            infoHtml += '<b>Facilities:</b> ' + (obj.facilities.length ? obj.facilities.join(', ') : 'None') + '<br>';
            if (obj.hullName && obj.hullImage) {
                infoHtml += '<b>General Class:</b> ' + obj.hullName + '<br>';
            }
            if (obj.hullDescription) {
                infoHtml += '<p class="hull-desc">' + obj.hullDescription + '</p>';
            }
        } 
        else if ((obj.type === 'jump_point' || obj.type === 'jumppoint' || obj.type === 'jumpnode') && obj.destinations && typeof obj.destinations === 'object') {
        
            // Generate a random 5-character alphanumeric serial
            const serial = Math.random().toString(36).substring(2, 7).toUpperCase();
            infoHtml += 'Oliver Class jump stabilisation node. Serial: ' + serial;
            infoHtml += '<br><br><b>Destinations:</b><br>';
            for (const [target, label] of Object.entries(obj.destinations)) {
                if (typeof target === 'string' && typeof label === 'string') {
                    let file = label + '.html';
                    // Correctly escape single quotes for JS string
                    infoHtml += `<button onclick="window.open('${file}', '_blank')">${label}, ${target}</button>`;
                }
            }
            }
        else if (obj.type === 'sensor_relay') {
            // Generate a random 5-character alphanumeric serial
            const serial = Math.random().toString(36).substring(2, 7).toUpperCase();
            infoHtml += 'Standard sensor and info relay buoy, Serial: ' + serial;
        }
        else if (obj.type === 'jumpnode' || obj.type === 'jumppoint') {
            // Generate a random 5-character alphanumeric serial
            const serial = Math.random().toString(36).substring(2, 7).toUpperCase();
            infoHtml += 'Oliver Class jump stabilisation node. Serial: ' + serial;
        }
        else if (obj.type === 'planet') {
            if (obj['class']) {
                infoHtml += '<b>Class:</b> ' + obj['class'] + '<br>';
            }
        }
        else {
            infoHtml += '<b>Type:</b> ' + obj.type;
        }

            // ——— append a description paragraph if one exists ———
            if (obj.description) {
                infoHtml += '<p class="desc-text">'
                          + obj.description
                          + '</p>';
            }
            document.getElementById('info').innerHTML = getInfoHeader() + infoHtml;
            document.getElementById('galactic-map-btn').addEventListener('click', function() {
                window.location.href = 'index.html';
            });
                + infoHtml;
         
    }
         document.getElementById('galactic-map-btn').addEventListener('click', function() {
        window.location.href = 'index.html';
    });
    

    var fig = {"data": [{"type": "scatter", "x": [124290.61445789669, 30123.947791230006, 103209.38554210331, 197376.05220877, 124290.61445789669], "y": [195793.33801314884, 94960.0046798155, 26706.661986851184, 127539.99532018453, 195793.33801314884], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [36818.62034141431, 10418.620341414313, -8685.287008080963, 17714.712991919034, 36818.62034141431], "y": [33326.426960250414, 118526.42696025042, 112606.90637308286, 27406.906373082868, 33326.426960250414], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [113719.72957592535, 180919.72957592536, 166413.60375740795, 99213.60375740797, 113719.72957592535], "y": [-52117.59643364668, 18682.403566353318, 32450.92976697999, -38349.07023302001, -52117.59643364668], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [83597.90933811209, 59597.9093381121, 40535.423995221245, 64535.423995221245, 83597.90933811209], "y": [-86607.54200906496, -11007.542009064953, -17059.124657601733, -92659.12465760173, -86607.54200906496], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [126655.88876244254, 169855.88876244254, 152997.44457089077, 109797.44457089077, 126655.88876244254], "y": [-149493.68786255197, -81813.68786255196, -71052.97880411467, -138732.97880411465, -149493.68786255197], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [112605.6223958105, 26205.622395810504, 8647.710937522812, 95047.71093752282, 112605.6223958105], "y": [-237244.8120265276, -78844.81202652758, -88421.85464013905, -246821.85464013903, -237244.8120265276], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-82028.7053747342, 90771.2946252658, 105362.03870806751, -67437.96129193249, -82028.7053747342], "y": [-68872.74462214661, -253192.74462214662, -239513.92204452, -55193.92204452002, -68872.74462214661], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-108027.17708297008, -218027.17708297007, -222877.88958369676, -112877.88958369674, -108027.17708297008], "y": [-116147.37499854655, -88647.37499854655, -108050.22500145319, -135550.2250014532, -116147.37499854655], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-32012.146187884893, -116178.81285455158, -129726.25381211525, -45559.58714544856, -32012.146187884893], "y": [-194325.727221968, -116825.72722196799, -131538.53944469843, -209038.53944469843, -194325.727221968], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-177117.2857050593, -48783.95237172595, -45454.44762827419, -173787.78096160752, -177117.2857050593], "y": [-200709.256355607, -222375.9230222737, -202655.01031105942, -180988.34364439273, -200709.256355607], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-17702.065717178455, -143768.73238384514, -165175.5504693786, -39108.883802711905, -17702.065717178455], "y": [24700.453162311962, 153100.45316231193, 132082.64786649484, 3682.6478664948445, 24700.453162311962], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-74722.66651721657, -193502.2652826487, -202534.54843477256, -83754.94966934042, -74722.66651721657], "y": [1447.0172957952927, 61570.0234686348, 43725.75657251773, -16397.249600321786, 1447.0172957952927], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [57965.63283188642, 38675.50937509629, 55481.44233958118, 74771.5657963713, 57965.63283188642], "y": [173915.2883484268, 144015.5969904021, 133173.05959396024, 163072.75095198496, 173915.2883484268], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [119160.12838457452, 62254.26418704364, 69518.42826837458, 126424.29246590546, 119160.12838457452], "y": [195172.21077867624, 172988.56880336758, 154354.40876864907, 176538.05074395772, 195172.21077867624], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [157151.230845166, 117606.47775874623, 114474.85667198063, 154019.6097584004, 157151.230845166], "y": [188015.73249840015, 194285.02262185694, 174531.72038225853, 168262.43025880173, 188015.73249840015], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [198046.38406994432, 157537.12481068505, 144953.16023732576, 185462.41949658503, 198046.38406994432], "y": [154565.07946839184, 187358.2893449351, 171813.39193078538, 139020.18205424212, 154565.07946839184], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [210046.01699211876, 197989.68983162494, 178767.5705250279, 190823.89768552172, 210046.01699211876], "y": [115314.46037646238, 157270.4788949809, 151746.8813930852, 109790.86287456666, 115314.46037646238], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [199285.91660297272, 205555.20672642952, 185669.6462228159, 179400.3560993591, 199285.91660297272], "y": [62294.61422166258, 120647.23767845272, 122783.70285652691, 64431.079399736765, 62294.61422166258], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-4471.723064577083, 140667.1658243118, 158312.31675456322, 13173.427865674304, -4471.723064577083], "y": [-9667.114206934573, -115222.66976249014, -90960.5872333945, 14594.968322161083, -9667.114206934573], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-153882.29317437846, -56382.29317437846, -44360.446468968745, -141860.44646896876, -153882.29317437846], "y": [-101638.97987470769, -174972.31320804107, -158988.72156562132, -85655.38823228797, -101638.97987470769], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-206052.24787738986, -84385.58121072316, -68023.82509929068, -189690.49176595735, -206052.24787738986], "y": [93780.09809245405, 14613.431425787368, 39758.86713388361, 118925.5338005503, 93780.09809245405], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-138661.44537037038], "y": [-136634.22952674885], "mode": "markers+text", "marker": {"symbol": "star", "size": 40, "color": "yellow"}, "text": ["1766408346456"], "textposition": "top center", "hovertext": ["1766408346456 [F05]"], "hoverinfo": "text", "meta": {"base_marker_size": 140, "base_text_size": 14}}, {"type": "scatter", "x": [-130623.89393004117], "y": [-186199.13007544572], "mode": "markers+text", "marker": {"symbol": "star", "size": 40, "color": "yellow"}, "text": ["1766408352352"], "textposition": "top center", "hovertext": ["1766408352352 [C05]"], "hoverinfo": "text", "meta": {"base_marker_size": 140, "base_text_size": 14}}, {"type": "scatter", "x": [-197268.5912894376], "y": [-151034.84252400536], "mode": "markers+text", "marker": {"symbol": "star", "size": 40, "color": "yellow"}, "text": ["1766408359068"], "textposition": "top center", "hovertext": ["1766408359068 [E02]"], "hoverinfo": "text", "meta": {"base_marker_size": 140, "base_text_size": 14}}, {"type": "scatter", "x": [-18752.14142661184], "y": [-182810.67170781878], "mode": "markers+text", "marker": {"symbol": "star", "size": 40, "color": "yellow"}, "text": ["1766408665419"], "textposition": "top center", "hovertext": ["1766408665419 [C11]"], "hoverinfo": "text", "meta": {"base_marker_size": 140, "base_text_size": 14}}, {"type": "scatter", "x": [177227.85857338816], "y": [-121464.00504115212], "mode": "markers+text", "marker": {"symbol": "star", "size": 40, "color": "yellow"}, "text": ["1766408698532"], "textposition": "top center", "hovertext": ["1766408698532 [F20]"], "hoverinfo": "text", "meta": {"base_marker_size": 140, "base_text_size": 14}}, {"type": "scatter", "x": [-163333.33333333334], "y": [-162500.0], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "#50CC50", "line": {"color": "#50CC50", "width": 5}}, "hovertext": ["Arcturus Gate [D03]"], "hoverinfo": "text", "text": ["Arcturus Gate"], "textposition": "top center", "textfont": {"color": "#50CC50", "size": 20}, "meta": {"base_marker_size": 16, "base_text_size": 20}}, {"type": "scatter", "x": [-9166.666666666668], "y": [185000.00000000003], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "#50CC50", "line": {"color": "#50CC50", "width": 5}}, "hovertext": ["Waypoint 78 Gate [V11]"], "hoverinfo": "text", "text": ["Waypoint 78 Gate"], "textposition": "top center", "textfont": {"color": "#50CC50", "size": 20}, "meta": {"base_marker_size": 16, "base_text_size": 20}}, {"type": "scatter", "x": [-187007.97846364888], "y": [-9948.04948559662], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["P 67 [L02]"], "hoverinfo": "text", "text": ["P 67"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-165220.94142661183], "y": [-67420.27170781884], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["H 35 [I03]"], "hoverinfo": "text", "text": ["H 35"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-130220.94142661183], "y": [-50420.27170781884], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["W 01 [J05]"], "hoverinfo": "text", "text": ["W 01"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-95859.8303155007], "y": [-97522.1235596707], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["I 99 [H07]"], "hoverinfo": "text", "text": ["I 99"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-77038.03648834027], "y": [-183647.18405349785], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["H 46 [C08]"], "hoverinfo": "text", "text": ["H 46"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-38125.99945130322], "y": [-232235.14701646086], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["D 76 [A10]"], "hoverinfo": "text", "text": ["D 76"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-44716.31179698221], "y": [-42748.975411522566], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["R 22 [J09]"], "hoverinfo": "text", "text": ["R 22"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [143400.0807956104], "y": [148497.10606995897], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["J 01 [T19]"], "hoverinfo": "text", "text": ["J 01"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [48779.05857338817], "y": [-109420.27170781884], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["N 26 [G14]"], "hoverinfo": "text", "text": ["N 26"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [79779.05857338817], "y": [-127420.27170781884], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["K 95 [F15]"], "hoverinfo": "text", "text": ["K 95"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [20779.05857338817], "y": [-158420.27170781884], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["F 83 [E13]"], "hoverinfo": "text", "text": ["F 83"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [72779.05857338817], "y": [-175420.27170781884], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["G 25 [D15]"], "hoverinfo": "text", "text": ["G 25"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [36779.05857338817], "y": [-204420.27170781884], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["R 25 [B13]"], "hoverinfo": "text", "text": ["R 25"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [83779.05857338817], "y": [-223420.27170781884], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["L 02 [A16]"], "hoverinfo": "text", "text": ["L 02"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-41220.94142661183], "y": [-138420.27170781884], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["W 66 [F09]"], "hoverinfo": "text", "text": ["W 66"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [11001.280795610393], "y": [-62948.04948559664], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["D 42 [I12]"], "hoverinfo": "text", "text": ["D 42"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [116112.39190672152], "y": [-16586.93837448553], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["L 90 [L17]"], "hoverinfo": "text", "text": ["L 90"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [140667.94746227705], "y": [-57670.27170781884], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["C 31 [J19]"], "hoverinfo": "text", "text": ["C 31"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [113862.39190672147], "y": [-166392.49393004106], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["G 03 [D17]"], "hoverinfo": "text", "text": ["G 03"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [176811.1919067215], "y": [-38686.22726337435], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["SK 01 [K20]"], "hoverinfo": "text", "text": ["SK 01"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-63405.47475994517], "y": [159885.99495884785], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["L 12 [T08]"], "hoverinfo": "text", "text": ["L 12"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-24655.474759945173], "y": [144330.43940329232], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["S 90 [T10]"], "hoverinfo": "text", "text": ["S 90"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [30900.08079561039], "y": [153358.21718107007], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["D 17 [T13]"], "hoverinfo": "text", "text": ["D 17"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-87988.80809327851], "y": [121413.77273662561], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["H 81 [S07]"], "hoverinfo": "text", "text": ["H 81"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [189156.25363511653], "y": [186768.71100823057], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["E 43 [V21]"], "hoverinfo": "text", "text": ["E 43"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [103122.30301783262], "y": [188774.88384773675], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["C 87 [V17]"], "hoverinfo": "text", "text": ["C 87"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [61455.636351165944], "y": [183219.3282921812], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["W 26 [V15]"], "hoverinfo": "text", "text": ["W 26"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [177427.8585733882], "y": [123497.10606995897], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["F 99 [S20]"], "hoverinfo": "text", "text": ["F 99"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [176482.64252400547], "y": [89353.58755144043], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["G 69 [Q20]"], "hoverinfo": "text", "text": ["G 69"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [167242.673388203], "y": [63466.24187242811], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["C 82 [P20]"], "hoverinfo": "text", "text": ["C 82"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-178018.40685871066], "y": [161814.55668724293], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["L 80 [U03]"], "hoverinfo": "text", "text": ["L 80"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}], "layout": {"title": "Eyukua", "paper_bgcolor": "black", "plot_bgcolor": "black", "font": {"color": "white"}, "margin": {"l": 0, "r": 0, "t": 40, "b": 0}, "autosize": true, "dragmode": "pan", "hovermode": "closest", "xaxis": {"color": "white", "showgrid": true, "gridcolor": "gray", "dtick": 20000, "title": "X Axis"}, "yaxis": {"color": "white", "showgrid": true, "gridcolor": "gray", "dtick": 20000, "scaleanchor": "x", "scaleratio": 1, "title": "Z Axis"}, "shapes": []}};
    fig.layout.showlegend = false;
    fig.layout.dragmode = 'pan';
    fig.layout.title = 'Eyukua';
    if (!isGM()) {
        fig.data = fig.data.filter(t => !t.gmOnly);
        }
    Plotly.newPlot('plot', fig.data, fig.layout, {responsive: true, scrollZoom: true});
        console.log("[DEBUG JS] Plotted traces count:", fig.data.length);
        console.log("[DEBUG JS] fig.data sample:", fig.data.slice(0,3));

    var plotDiv = document.getElementById('plot');
    // Use Plotly's built-in nearest-point selection for accurate clicks
    plotDiv.on('plotly_click', function(ev) {
        if (!ev || !ev.points || !ev.points.length) return;
        var p = ev.points[0];
        var picked = null;
        // Prefer original name from hovertext: "Name [Grid]"
        if (p.hovertext && typeof p.hovertext === 'string') {
            picked = p.hovertext.split(' [')[0];
        } else if (p.text && typeof p.text === 'string') {
            // Fallback to text label (strip any ** used for GM marking)
            picked = p.text.replace(/\*/g, '');
        }
        if (picked && objData[picked]) {
            highlight(picked);
        }
    });

    // ——— Auto-scale markers based on current zoom/span (optimized: planets & blackholes only) ———
    (function() {
        var refSpan = null;
        var planetIdx = [];
        var bhIdx = [21, 22, 23, 24, 25];
        function rescaleMarkers() {
            try {
                var full = plotDiv._fullLayout || {};
                var xaxis = full.xaxis || (fig.layout && fig.layout.xaxis);
                if (!xaxis || !xaxis.range) return;
                var curr = Math.abs(xaxis.range[1] - xaxis.range[0]);
                if (!curr) return;
                if (!refSpan) refSpan = curr;
                var scale = refSpan / curr;
                var indices = [];
                var markerSizes = [];
                var textSizes = [];
                function pushForIndex(i) {
                    var t = fig.data[i];
                    if (!t || !t.meta || !t.meta.base_marker_size) return;
                    var base = t.meta.base_marker_size;
                    var baseText = t.meta.base_text_size || (t.textfont && t.textfont.size) || 12;
                    var newMarker = Math.max(2, Math.round(base * scale));
                    var newText = Math.max(8, Math.round(baseText * Math.sqrt(scale)));
                    indices.push(i);
                    markerSizes.push(newMarker);
                    textSizes.push(newText);
                }
                planetIdx.forEach(pushForIndex);
                bhIdx.forEach(pushForIndex);
                if (indices.length) {
                    Plotly.restyle(plotDiv, {'marker.size': [markerSizes], 'textfont.size': [textSizes]}, indices);
                }
            } catch (e) { console.error(e); }
        }
        // initial scale after plot settles
        setTimeout(rescaleMarkers, 250);
        plotDiv.on('plotly_relayout', rescaleMarkers);
    })();

  var ctrl = document.getElementById('object-buttons');

  // Helper: create and append a single button
function addButton(label, fn, header, color, isHidden) {
    if (isHidden && !isGM()) return;
    var btn = document.createElement('button');
    btn.textContent = label;
    if (header) {
      btn.className = 'header';     // section header style
      btn.onclick = null;           // no click action
    } else {
      btn.onclick = fn;             // bind the handler
      if (color) btn.style.backgroundColor = color;
    }
    ctrl.appendChild(btn);
  }
  
  function enterGMMode() {
    const pw = prompt("Enter ONI Auth Code: --We will store a cookie for the purpose of tracking if you have authenticated or not--");
    if (pw === "oni1") {
      document.cookie = "gmMode=1; path=/; max-age=31536000";
      location.reload();
    } else {
      alert("Incorrect password.");
    }
  }

  function isGM() {
    return document.cookie.split(';').some(c => c.trim() === 'gmMode=1');
  }

  function exitGMMode() {
    document.cookie = "gmMode=; path=/; expires=Thu, 01 Jan 1970 00:00:00 UTC;";
    location.reload();
  }

  function renderGMControls() {
    const div = document.getElementById('gm-controls');
    div.innerHTML = '';
    const btn = document.createElement('button');
    btn.style.width = '100%';
    if (isGM()) {
      btn.textContent = 'ONI Logout';
      btn.onclick = exitGMMode;
    } else {
      btn.textContent = 'ONI Login';
      btn.onclick = enterGMMode;
    }
    div.appendChild(btn);
  }

  renderGMControls();

  // ——— Populate the sidebar ———
  addButton('None', clearAnnotations, false, null);

  addButton('--- Gates ---', null, true, null);
  addButton('Arcturus Gate',function(){highlight('Arcturus Gate');},false,null,false)
    addButton('Waypoint 78 Gate',function(){highlight('Waypoint 78 Gate');},false,null,false)

  addButton('--- Nav Points/POI ---', null, true, null);
  

    addButton('--- Planets ---', null, true, null);
    

    addButton('--- Stations ---', null, true, null);
    addButton('C 31',function(){highlight('C 31');},false,'red',false)
    addButton('C 82',function(){highlight('C 82');},false,'red',false)
    addButton('C 87',function(){highlight('C 87');},false,'red',false)
    addButton('D 17',function(){highlight('D 17');},false,'red',false)
    addButton('D 42',function(){highlight('D 42');},false,'red',false)
    addButton('D 76',function(){highlight('D 76');},false,'red',false)
    addButton('E 43',function(){highlight('E 43');},false,'red',false)
    addButton('F 83',function(){highlight('F 83');},false,'red',false)
    addButton('F 99',function(){highlight('F 99');},false,'red',false)
    addButton('G 03',function(){highlight('G 03');},false,'red',false)
    addButton('G 25',function(){highlight('G 25');},false,'red',false)
    addButton('G 69',function(){highlight('G 69');},false,'red',false)
    addButton('H 35',function(){highlight('H 35');},false,'red',false)
    addButton('H 46',function(){highlight('H 46');},false,'red',false)
    addButton('H 81',function(){highlight('H 81');},false,'red',false)
    addButton('I 99',function(){highlight('I 99');},false,'red',false)
    addButton('J 01',function(){highlight('J 01');},false,'red',false)
    addButton('K 95',function(){highlight('K 95');},false,'red',false)
    addButton('L 02',function(){highlight('L 02');},false,'red',false)
    addButton('L 12',function(){highlight('L 12');},false,'red',false)
    addButton('L 80',function(){highlight('L 80');},false,'red',false)
    addButton('L 90',function(){highlight('L 90');},false,'red',false)
    addButton('N 26',function(){highlight('N 26');},false,'red',false)
    addButton('P 67',function(){highlight('P 67');},false,'red',false)
    addButton('R 22',function(){highlight('R 22');},false,'red',false)
    addButton('R 25',function(){highlight('R 25');},false,'red',false)
    addButton('S 90',function(){highlight('S 90');},false,'red',false)
    addButton('SK 01',function(){highlight('SK 01');},false,'red',false)
    addButton('W 01',function(){highlight('W 01');},false,'red',false)
    addButton('W 26',function(){highlight('W 26');},false,'red',false)
    addButton('W 66',function(){highlight('W 66');},false,'red',false)
    
  // Search filter
  document.getElementById('search-box').addEventListener('input', function() {
    const query = this.value.toLowerCase();
    const buttons = document.querySelectorAll('#object-buttons button');
    buttons.forEach(btn => {
      const label = btn.textContent.toLowerCase();
      const isHeader = btn.classList.contains('header');
      if (isHeader) {
        btn.style.display = ''; // always show section headers
      } else {
        btn.style.display = label.includes(query) ? '' : 'none';
      }
    });
  });
</script>
</body>
</html>