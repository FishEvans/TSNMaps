
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vilnara.html</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body { margin: 0; background: black; color: white; display: flex; height: 100vh; }
        #controls { flex: 1; min-width: 200px; max-width: 350px; overflow-y: auto; background: #333; padding: 10px; }
        #plot { flex: 3; min-width: 400px; }
        #info { flex: 1; min-width: 200px; background: #333; padding: 10px; overflow-y: auto; }
        h2.header { margin-top: 0; margin-bottom: 5px; text-align: center; }
        h3.subheader { margin-top: 0; margin-bottom: 15px; text-align: center; color: #ccc; }
        .alignment-image { display: block; max-width: 100%; height: auto; margin: 10px auto; }
        button { display: block; width: 100%; margin-bottom: 5px; background: #555; color: white; border: none; padding: 5px; text-align: left; cursor: pointer; font-size: 20px; }
        button.header { background: #444; cursor: default; font-size: 24px; }
    </style>
</head>
<body>
    <div id="controls">
        <div id="gm-controls" style="margin-bottom:10px;"></div>
        <h2 class="header">Vilnara</h2>
        <h3 class="subheader">Alignment: USFP</h3>
        <img src="Images/Factions/USFP.png" alt="Alignment Logo" class="alignment-image" onerror="this.style.display='none';">

        <input type="text" id="search-box" placeholder="Search objects..." style="width: 95%; padding: 6px; margin-bottom: 10px; font-size: 16px;">
        <div id="object-buttons">
    </div>
    </div>
    <div id="plot"></div>
    <div id="info">
        <img src="Images/Compass.png" alt="Compass" style="display:block; max-width:100%; height:auto; margin-bottom:10px;">
        <button id="galactic-map-btn" title="Back to Galactic Map">Show Galactic Map</button>
        Select an object
    </div>
<script>
    var objData = {"Saphire Jump Point": {"type": "jumpnode", "x": -22252.531435600766, "y": -15032.747860505018, "grid": "L10", "hidden": false, "label": "Saphire Jump Point", "destinations": {"Antov Gate": "Freya"}}, "Emerald Jump Point": {"type": "jumpnode", "x": 80247.46856439924, "y": -215866.08119383836, "grid": "B16", "hidden": false, "label": "Emerald Jump Point"}, "Transit Control": {"type": "station", "x": 27747.468564399238, "y": -102532.74786050503, "grid": "G13", "hidden": false, "label": "Transit Control", "hull": "starbase_command", "facilities": ["Docking"], "sides": ["USFP"], "hullName": "Command Starbase", "hullImage": "Images/Ships/tsn-big-base256.png", "hullDescription": ""}, "Concord Depot": {"type": "station", "x": -178435.59053958647, "y": 115610.62836358431, "grid": "R03", "hidden": false, "label": "Concord Depot", "description": "entralized storage for torpedoes, mines, and shield capacitors. Security is tight.", "hull": "starbase_industry", "facilities": ["Docking", "Refuel", "Repair"], "sides": ["TSN"], "hullName": "Industrial Starbase", "hullImage": "Images/Ships/industry_station256.png", "hullDescription": ""}, "Munin": {"type": "station", "x": -175483.69918913944, "y": 119867.26869865341, "grid": "R03", "hidden": false, "label": "Munin", "description": "Small science station with long range sensors, several organisations have offices here including the Guild of shippers.", "hull": "starbase_science", "facilities": ["Docking"], "sides": ["TSN"], "hullName": "Science Starbase", "hullImage": "Images/Ships/science_station256.png", "hullDescription": ""}, "Vilnara Comand": {"type": "station", "x": -173920.54392897818, "y": 110824.43475256697, "grid": "R03", "hidden": false, "label": "Vilnara Comand", "description": "Command Complex, Includeed is a back up Command and control facility  for the Ashia Fleet Base.", "hull": "starbase_command", "facilities": ["Docking", "Refuel", "Repair"], "sides": ["TSN"], "hullName": "Command Starbase", "hullImage": "Images/Ships/tsn-big-base256.png", "hullDescription": ""}, "Seco Hall": {"type": "station", "x": -174855.18271884994, "y": 105496.99365029775, "grid": "R03", "hidden": false, "label": "Seco Hall", "description": "Residentual complex for TSN Officers and dependents working localy", "hull": "starbase_civil", "facilities": ["Docking"], "sides": ["TSN"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "Newton Array": {"type": "station", "x": 183750.28557720524, "y": 78459.35591126201, "grid": "P21", "hidden": false, "label": "Newton Array", "description": "Newton Array - Specilist in deep scanning and ship diagnostics part of the Basil Yards Group.", "hull": "starbase_science", "facilities": ["Docking"], "sides": ["USFP"], "hullName": "Science Starbase", "hullImage": "Images/Ships/science_station256.png", "hullDescription": ""}, "Basil Yards": {"type": "station", "x": 201329.00172217103, "y": 72618.12307025824, "grid": "P22", "hidden": false, "label": "Basil Yards", "description": "Basil Yards is a civilian diagnostics and repair company.", "hull": "usfp_industrial_assembly", "facilities": ["Docking", "Refuel", "Repair"], "sides": ["USFP"], "hullName": "Assembly Yard", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialAssembler256.png", "hullDescription": ""}, "Manuel Towers": {"type": "station", "x": 208059.11146154, "y": 80604.77001813207, "grid": "Q22", "hidden": false, "label": "Manuel Towers", "description": "Workers and dependents Acomidation", "hull": "starbase_civil", "facilities": ["Docking"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "Prospero Refuleing": {"type": "station", "x": 80570.63337587439, "y": -85817.3674895108, "grid": "H16", "hidden": false, "label": "Prospero Refuleing", "hull": "starbase_industry", "facilities": ["Docking", "Refuel"], "sides": ["USFP"], "hullName": "Industrial Starbase", "hullImage": "Images/Ships/industry_station256.png", "hullDescription": ""}, "Ruby Medical Facility": {"type": "station", "x": -191380.0766782888, "y": -247249.1760299859, "grid": "Z02", "hidden": false, "label": "Ruby Medical Facility", "description": "Medical Facilty, Joint venture between TSN and the Local Authoritys. Has an oversized burns and truma unit.", "hull": "starbase_civil", "facilities": ["Docking"], "sides": ["TSN"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "DS 97": {"type": "station", "x": -254213.41001162215, "y": -261582.50936331923, "grid": "Y99", "hidden": false, "label": "DS 97", "hull": "starbase_civil", "facilities": [], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "DS 31": {"type": "station", "x": -193283.62606100485, "y": -270062.44763492414, "grid": "Y02", "hidden": false, "label": "DS 31", "hull": "starbase_command", "facilities": [], "sides": ["USFP"], "hullName": "Command Starbase", "hullImage": "Images/Ships/tsn-big-base256.png", "hullDescription": ""}, "TSN Gregneck": {"type": "station", "x": -242439.4688250652, "y": -228102.46392436174, "grid": "A99", "hidden": false, "label": "TSN Gregneck", "description": "Engineering Training Facility for enlisted ranks", "hull": "starbase_command", "facilities": ["Docking", "Refuel"], "sides": ["TSN"], "hullName": "Command Starbase", "hullImage": "Images/Ships/tsn-big-base256.png", "hullDescription": ""}, "Osprey Entertainment": {"type": "station", "x": -228376.21865359746, "y": -270845.6266472698, "grid": "Y00", "hidden": false, "label": "Osprey Entertainment", "hull": "starbase_civil", "facilities": [], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "Greybeard Industries": {"type": "station", "x": 171080.8018977326, "y": 174967.25213949502, "grid": "U20", "hidden": false, "label": "Greybeard Industries", "hull": "starbase_command", "facilities": ["Docking", "Refuel", "Repair"], "sides": ["USFP"], "hullName": "Command Starbase", "hullImage": "Images/Ships/tsn-big-base256.png", "hullDescription": ""}, "G Outfitting": {"type": "station", "x": 168418.76486069555, "y": 196564.47436171724, "grid": "V20", "hidden": false, "label": "G Outfitting", "description": "A small but advanced comms and sensor station. Several Civilian organisations work out of here along side USFP civil intel;", "hull": "starbase_industry", "facilities": ["Docking", "Refuel", "Repair"], "sides": ["USFP"], "hullName": "Industrial Starbase", "hullImage": "Images/Ships/industry_station256.png", "hullDescription": ""}, "G Fabrication": {"type": "station", "x": 189830.8018977326, "y": 164157.06695430982, "grid": "U21", "hidden": false, "label": "G Fabrication", "hull": "starbase_command", "facilities": [], "sides": ["USFP"], "hullName": "Command Starbase", "hullImage": "Images/Ships/tsn-big-base256.png", "hullDescription": ""}, "Space Chief": {"type": "station", "x": -9658.23906540571, "y": -130565.58390892949, "grid": "F11", "hidden": false, "label": "Space Chief", "hull": "starbase_civil", "facilities": ["Docking"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "SQ 44": {"type": "platform", "x": -24628.178623018863, "y": -39555.942419446124, "grid": "K10", "hidden": false, "label": "SQ 44"}, "SQ 1123": {"type": "platform", "x": 39839.681887955085, "y": -140304.41707079503, "grid": "E13", "hidden": false, "label": "SQ 1123"}, "WP 69": {"type": "platform", "x": -176628.48056206448, "y": 121078.90002374927, "grid": "S03", "hidden": false, "label": "WP 69"}, "WP 50": {"type": "platform", "x": -174268.14501215357, "y": 119760.83817064561, "grid": "R03", "hidden": false, "label": "WP 50"}, "WP 59": {"type": "platform", "x": -169424.39390708113, "y": 113521.13864664684, "grid": "R03", "hidden": false, "label": "WP 59"}, "WP 96": {"type": "platform", "x": -169424.39390708113, "y": 109704.69692133702, "grid": "R03", "hidden": false, "label": "WP 96"}, "WP 72": {"type": "platform", "x": -172815.4644033071, "y": 105749.06901821449, "grid": "R03", "hidden": false, "label": "WP 72"}, "WP 8": {"type": "platform", "x": -177705.25031503086, "y": 105455.73234554447, "grid": "R03", "hidden": false, "label": "WP 8"}, "WP 43": {"type": "platform", "x": -183935.03372532534, "y": 108632.4945904405, "grid": "R02", "hidden": false, "label": "WP 43"}, "WP 23": {"type": "platform", "x": -184630.48383311834, "y": 112310.89199345508, "grid": "R02", "hidden": false, "label": "WP 23"}, "WP 3": {"type": "platform", "x": -181333.88685654764, "y": 115791.56809897235, "grid": "R02", "hidden": false, "label": "WP 3"}, "WP 44": {"type": "platform", "x": -180127.36625820232, "y": 117436.62131368174, "grid": "R02", "hidden": false, "label": "WP 44"}, "WP 49": {"type": "platform", "x": -175415.16892827326, "y": 110392.99540773116, "grid": "R03", "hidden": false, "label": "WP 49"}, "WP 35": {"type": "platform", "x": -172396.28323308102, "y": 115515.29916140543, "grid": "R03", "hidden": false, "label": "WP 35"}, "WP 21": {"type": "platform", "x": -176651.2575747549, "y": 113840.97838685372, "grid": "R03", "hidden": false, "label": "WP 21"}, "C TS 03": {"type": "station", "x": -184475.24835971193, "y": 109870.30311492948, "grid": "R02", "hidden": false, "label": "C TS 03", "description": "Alvarez Transfer Station: A massive cargo-transfer hub with standardized docking collars for freighters. The local customs corps are known to be thorough but fair.", "hull": "usfp_industrial_storage", "facilities": ["Docking"], "sides": ["TSN"], "hullName": "Storage Module", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialStorage256.png", "hullDescription": ""}, "PR R1": {"type": "station", "x": 89631.62373021728, "y": -88467.59055251161, "grid": "H16", "hidden": false, "label": "PR R1", "hull": "usfp_industrial_unit", "facilities": [], "sides": ["USFP"], "hullName": "Industrial Unit", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialUnit256.png", "hullDescription": ""}, "PR R2": {"type": "station", "x": 80736.54224697613, "y": -78457.90520655335, "grid": "I16", "hidden": false, "label": "PR R2", "hull": "usfp_industrial_unit", "facilities": [], "sides": ["USFP"], "hullName": "Industrial Unit", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialUnit256.png", "hullDescription": ""}, "PR Processing": {"type": "station", "x": 93639.54627521169, "y": -77992.98446860777, "grid": "I16", "hidden": false, "label": "PR Processing", "hull": "starbase_command", "facilities": ["Docking"], "sides": ["USFP"], "hullName": "Command Starbase", "hullImage": "Images/Ships/tsn-big-base256.png", "hullDescription": ""}, "PR S1": {"type": "station", "x": 87841.71119024341, "y": -82848.4883126081, "grid": "H16", "hidden": false, "label": "PR S1", "hull": "usfp_industrial_storage", "facilities": [], "sides": ["USFP"], "hullName": "Storage Module", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialStorage256.png", "hullDescription": ""}, "SR 65": {"type": "sensor_relay", "x": -128920.54392897822, "y": 113534.88724319516, "grid": "R05", "hidden": false, "label": "SR 65"}, "SR 21": {"type": "sensor_relay", "x": -145863.5028453352, "y": 148717.3039542565, "grid": "T04", "hidden": false, "label": "SR 21"}, "SR 84": {"type": "sensor_relay", "x": -183933.98595701237, "y": 157406.64329137723, "grid": "T02", "hidden": false, "label": "SR 84"}, "SR 58": {"type": "sensor_relay", "x": -214464.14298458706, "y": 133059.6555034853, "grid": "S01", "hidden": false, "label": "SR 58"}, "SR 60": {"type": "sensor_relay", "x": -214464.14298458706, "y": 94010.11898290506, "grid": "Q01", "hidden": false, "label": "SR 60"}, "SR 27": {"type": "sensor_relay", "x": -183933.98595701237, "y": 69663.13119501309, "grid": "P02", "hidden": false, "label": "SR 27"}, "Concord": {"type": "sensor_relay", "x": -173920.5439289782, "y": 113534.88724319516, "grid": "R03", "hidden": false, "label": "Concord", "description": "Command and Logistics hub for the TSN"}, "SR 74": {"type": "sensor_relay", "x": -226686.0766782889, "y": -247572.95380776364, "grid": "Z00", "hidden": false, "label": "SR 74"}, "SR 35": {"type": "sensor_relay", "x": -191686.0766782889, "y": -220406.28714109698, "grid": "A02", "hidden": false, "label": "SR 35"}, "SR 53": {"type": "sensor_relay", "x": -156686.0766782889, "y": -193239.62047443032, "grid": "C04", "hidden": false, "label": "SR 53"}, "SR 37": {"type": "sensor_relay", "x": -121686.07667828891, "y": -166072.95380776364, "grid": "D05", "hidden": false, "label": "SR 37"}, "SR 20": {"type": "sensor_relay", "x": -86686.07667828891, "y": -138906.28714109698, "grid": "F07", "hidden": false, "label": "SR 20"}, "SR 97": {"type": "sensor_relay", "x": 18313.92332171112, "y": -57406.28714109696, "grid": "J12", "hidden": false, "label": "SR 97"}, "SR 90": {"type": "sensor_relay", "x": 53313.92332171109, "y": -30239.620474430332, "grid": "K14", "hidden": false, "label": "SR 90"}, "SR 68": {"type": "sensor_relay", "x": 88313.92332171109, "y": -3072.9538077636444, "grid": "L16", "hidden": false, "label": "SR 68"}, "SR 42": {"type": "sensor_relay", "x": 123313.92332171109, "y": 24093.71285890304, "grid": "N18", "hidden": false, "label": "SR 42"}, "SR 86": {"type": "sensor_relay", "x": 158313.9233217111, "y": 51260.37952556967, "grid": "O19", "hidden": false, "label": "SR 86"}, "SR 69": {"type": "sensor_relay", "x": 193313.9233217111, "y": 78427.04619223636, "grid": "P21", "hidden": false, "label": "SR 69"}, "SR 99": {"type": "sensor_relay", "x": 85313.92332171109, "y": -222572.95380776364, "grid": "A16", "hidden": false, "label": "SR 99"}, "SR 25": {"type": "sensor_relay", "x": 58869.47887726665, "y": -188017.39825220808, "grid": "C14", "hidden": false, "label": "SR 25"}, "SR 63": {"type": "sensor_relay", "x": 32425.03443282221, "y": -153461.84269665251, "grid": "E13", "hidden": false, "label": "SR 63"}, "SR 11": {"type": "sensor_relay", "x": 5980.589988377764, "y": -118906.28714109698, "grid": "G12", "hidden": false, "label": "SR 11"}, "SR 76": {"type": "sensor_relay", "x": -73352.74334495557, "y": -15239.62047443033, "grid": "L08", "hidden": false, "label": "SR 76"}, "SR 82": {"type": "sensor_relay", "x": -99797.18778940004, "y": 19315.93508112526, "grid": "M07", "hidden": false, "label": "SR 82"}, "SR 31": {"type": "sensor_relay", "x": -126241.63223384444, "y": 53871.49063668079, "grid": "O05", "hidden": false, "label": "SR 31"}, "SR 45": {"type": "sensor_relay", "x": -152686.0766782889, "y": 88427.04619223636, "grid": "Q04", "hidden": false, "label": "SR 45"}, "SR 81": {"type": "sensor_relay", "x": 24563.923321711092, "y": -79873.87973368957, "grid": "I13", "hidden": false, "label": "SR 81"}, "SR 50": {"type": "sensor_relay", "x": 7620.964405354105, "y": -44691.46302262823, "grid": "J12", "hidden": false, "label": "SR 50"}, "SR 36": {"type": "sensor_relay", "x": -30449.51870632305, "y": -36002.12368550751, "grid": "K10", "hidden": false, "label": "SR 36"}, "SR 75": {"type": "sensor_relay", "x": -60979.67573389776, "y": -60349.111473399455, "grid": "I08", "hidden": false, "label": "SR 75"}, "SR 56": {"type": "sensor_relay", "x": -60979.67573389776, "y": -99398.64799397968, "grid": "H08", "hidden": false, "label": "SR 56"}, "SR 15": {"type": "sensor_relay", "x": -30449.518706323062, "y": -123745.63578187162, "grid": "F10", "hidden": false, "label": "SR 15"}, "SR 72": {"type": "sensor_relay", "x": 61611.24842459177, "y": -81221.50919185144, "grid": "H15", "hidden": false, "label": "SR 72"}, "PR Holding 1": {"type": "sensor_relay", "x": 76011.8614218483, "y": -99640.89790927256, "grid": "H15", "hidden": false, "label": "PR Holding 1"}, "PR Holding 2": {"type": "sensor_relay", "x": 66969.61605147793, "y": -61127.6305910284, "grid": "I15", "hidden": false, "label": "PR Holding 2"}, "Prospero Point": {"type": "sensor_relay", "x": 105482.88336972211, "y": -83565.79502861413, "grid": "H17", "hidden": false, "label": "Prospero Point"}, "SR 17": {"type": "sensor_relay", "x": 177460.22729833444, "y": 180492.25574013306, "grid": "V20", "hidden": false, "label": "SR 17"}, "SR 94": {"type": "sensor_relay", "x": 222460.22729833444, "y": 180492.25574013306, "grid": "V23", "hidden": false, "label": "SR 94"}, "SR 32": {"type": "sensor_relay", "x": 167446.7852703003, "y": 224364.0117883151, "grid": "X20", "hidden": false, "label": "SR 32"}, "SR 14": {"type": "sensor_relay", "x": 136916.6282427256, "y": 200017.02400042317, "grid": "W18", "hidden": false, "label": "SR 14"}, "SR 22": {"type": "sensor_relay", "x": 136916.6282427256, "y": 160967.48747984294, "grid": "U18", "hidden": false, "label": "SR 22"}, "SR 33": {"type": "sensor_relay", "x": 167446.7852703003, "y": 136620.499691951, "grid": "S20", "hidden": false, "label": "SR 33"}, "SR 28": {"type": "sensor_relay", "x": 205517.26838197745, "y": 145309.8390290717, "grid": "T22", "hidden": false, "label": "SR 28"}, "SR 55": {"type": "sensor_relay", "x": -20646.202028368756, "y": 3938.3255560910384, "grid": "M10", "hidden": false, "label": "SR 55"}, "SR 48": {"type": "sensor_relay", "x": 56916.1693708082, "y": -126671.88534925877, "grid": "F14", "hidden": false, "label": "SR 48"}, "Vilnara Cross": {"type": "sensor_relay", "x": -20436.076678288908, "y": -79873.87973368957, "grid": "I10", "hidden": false, "label": "Vilnara Cross"}, "Lee Hunt Nebular": {"type": "sensor_relay", "x": 206904.76602604132, "y": 214006.5638035896, "grid": "W22", "hidden": false, "label": "Lee Hunt Nebular"}};
        console.log("[DEBUG JS] objData keys:", Object.keys(objData));
        console.log("[DEBUG JS] objData sample:", objData[Object.keys(objData)[0]]);

    function clearAnnotations() {
        Plotly.relayout('plot', {annotations: []});
        document.getElementById('info').innerHTML = getInfoHeader() + 'Select an object';
        document.getElementById('galactic-map-btn').addEventListener('click', function() {
            window.location.href = 'index.html';
        });
        document.getElementById('galactic-map-btn').addEventListener('click', function() {
            window.location.href = 'index.html';
        });
    }
    
    function getInfoHeader() {
    return '<img src="Images/Compass.png" alt="Compass" '
         + 'style="display:block; max-width:100%; height:auto; margin-bottom:10px;">'
         + '<button id="galactic-map-btn" title="Back to Galactic Map">Galactic Map</button>';
        }
    
    function highlight(name) {
        var obj = objData[name];
        if (obj.hidden && !isGM()) {
            alert("This object is not visible on the public map.");
            return;
        }
        var annotation = {
            x: obj.x, y: obj.y, xref: 'x', yref: 'y', text: name,
            showarrow: true, arrowcolor: 'yellow', arrowwidth: 2,
            arrowhead: 3, font: {color: 'yellow', size: 28}
        };

        Plotly.relayout('plot', {annotations: [annotation]});

        var label = obj.label || name;
        var infoHtml = '<span style="font-size:20pt;">' + label + '</span><br>';
        infoHtml += '<b>Location:</b> ' + obj.grid + '<br>';

        if (obj.type === 'station') {
            // Station selected: display detailed station info
            if (obj.hullImage) {
                infoHtml += '<img src="' + obj.hullImage + '" alt="Hull Art" style="max-width:48%; height:auto;">';
            }
            if (obj.sides && obj.sides.length > 0) {
                infoHtml += '<img src="Images/Factions/' + obj.sides[0] + '.png" alt="Faction Logo" style="max-width:48%; height:auto;">';
            }
            infoHtml += '<b>Facilities:</b> ' + (obj.facilities.length ? obj.facilities.join(', ') : 'None') + '<br>';
            if (obj.hullName && obj.hullImage) {
                infoHtml += '<b>General Class:</b> ' + obj.hullName + '<br>';
            }
            if (obj.hullDescription) {
                infoHtml += '<p style="margin-top:5px; font-size:90%; color:#ccc;">' + obj.hullDescription + '</p>';
            }
        } 
        else if ((obj.type === 'jump_point' || obj.type === 'jumppoint' || obj.type === 'jumpnode') && obj.destinations && typeof obj.destinations === 'object') {
        
            // Generate a random 5-character alphanumeric serial
            const serial = Math.random().toString(36).substring(2, 7).toUpperCase();
            infoHtml += 'Oliver Class jump stabilisation node. Serial: ' + serial;
            infoHtml += '<br><br><b>Destinations:</b><br>';
            for (const [target, label] of Object.entries(obj.destinations)) {
                if (typeof target === 'string' && typeof label === 'string') {
                    let file = label + '.html';
                    // Correctly escape single quotes for JS string
                    infoHtml += `<button onclick="window.open('${file}', '_blank')">${label}, ${target}</button>`;
                }
            }
            }
        else if (obj.type === 'sensor_relay') {
            // Generate a random 5-character alphanumeric serial
            const serial = Math.random().toString(36).substring(2, 7).toUpperCase();
            infoHtml += 'Standard sensor and info relay buoy, Serial: ' + serial;
        }
        else if (obj.type === 'jumpnode' || obj.type === 'jumppoint') {
            // Generate a random 5-character alphanumeric serial
            const serial = Math.random().toString(36).substring(2, 7).toUpperCase();
            infoHtml += 'Oliver Class jump stabilisation node. Serial: ' + serial;
        }
        else {
            infoHtml += '<b>Type:</b> ' + obj.type;
        }

            // ——— append a description paragraph if one exists ———
            if (obj.description) {
                infoHtml += '<p style="font-size:90%; margin-top:8px;">'
                          + obj.description
                          + '</p>';
            }
            document.getElementById('info').innerHTML = getInfoHeader() + infoHtml;
            document.getElementById('galactic-map-btn').addEventListener('click', function() {
                window.location.href = 'index.html';
            });
                + infoHtml;
         
    }
         document.getElementById('galactic-map-btn').addEventListener('click', function() {
        window.location.href = 'index.html';
    });
    

    var fig = {"data": [{"type": "scatter", "x": [162917.9663031151, 215417.9663031151, 263209.8803403073, 210709.88034030728, 162917.9663031151], "y": [230789.15110583208, 161622.4844391654, 197898.27461197396, 267064.94127864065, 230789.15110583208], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [246606.97394018597, 272440.3072735193, 252854.20603656973, 227020.8727032364, 246606.97394018597], "y": [55236.482397751526, 180236.48239775156, 184284.2766533878, 59284.276653387766, 55236.482397751526], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [113506.00299007045, 118506.00299007045, 138455.17698668514, 133455.17698668514, 113506.00299007045], "y": [24047.90902569055, -45952.09097430945, -44527.149974551256, 25472.85002544874, 24047.90902569055], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [156508.45403337825, 121508.45403337824, 130452.7259433774, 165452.7259433774, 156508.45403337825], "y": [51204.651435568805, 33704.651435568805, 15816.107615570487, 33316.10761557049, 51204.651435568805], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [199919.78297416953, 159086.44964083616, 151208.0636692528, 192041.39700258616, 199919.78297416953], "y": [28118.49649241689, 45618.496492416896, 27235.59589205574, 9735.59589205573, 28118.49649241689], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [239436.6117730585, 181936.6117730585, 193357.9015370305, 250857.9015370305, 239436.6117730585], "y": [70469.43154342452, 30469.431543424515, 14051.32750771477, 54051.32750771477, 70469.43154342452], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [271113.92332171113, 327113.9233217111, 173513.92332171107, 117513.92332171112, 271113.92332171113], "y": [-275972.95380776364, -83972.95380776364, -39172.95380776367, -231172.95380776364, -275972.95380776364], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-157378.8582965791, -252378.8582965791, -277769.4830494935, -182769.48304949352, -157378.8582965791], "y": [-123444.43148686382, -67444.43148686382, -110517.81276412934, -166517.81276412937, -123444.43148686382], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-190659.21675172148, -246659.21675172148, -233489.12459435113, -177489.12459435113, -190659.21675172148], "y": [2544.644821572185, -46455.35517842782, -61506.88907256537, -12506.889072565371, 2544.644821572185], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-24750.55758353488, -62750.55758353488, -81397.78376253776, -43397.783762537765, -24750.55758353488], "y": [47634.15641941213, 145634.15641941212, 138403.5993295947, 40403.59932959468, 47634.15641941213], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-78874.17067303632, -102874.17067303632, -97274.17067303632, -73274.17067303632, -78874.17067303632], "y": [-275381.12212549656, -282381.12212549656, -301581.12212549656, -294581.12212549656, -275381.12212549656], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-414700.1352316005, -362445.4152316005, -376912.52611447196, -429167.2461144719, -414700.1352316005], "y": [-395995.3195923217, -341252.27959232166, -327442.76465867163, -382185.80465867167, -395995.3195923217], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-22252.531435600766], "y": [-15032.747860505018], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "lightblue"}, "hovertext": ["Saphire Jump Point [L10]"], "hoverinfo": "text", "text": ["Saphire Jump Point"], "textposition": "top center", "textfont": {"color": "white", "size": 20}}, {"type": "scatter", "x": [-22252.531435600766], "y": [-15032.747860505018], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "lightblue"}, "hovertext": ["Saphire Jump Point [L10]"], "hoverinfo": "text", "text": ["Saphire Jump Point"], "textposition": "top center", "textfont": {"color": "white", "size": 20}}, {"type": "scatter", "x": [80247.46856439924], "y": [-215866.08119383836], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "lightblue"}, "hovertext": ["Emerald Jump Point [B16]"], "hoverinfo": "text", "text": ["Emerald Jump Point"], "textposition": "top center", "textfont": {"color": "white", "size": 20}}, {"type": "scatter", "x": [80247.46856439924], "y": [-215866.08119383836], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "lightblue"}, "hovertext": ["Emerald Jump Point [B16]"], "hoverinfo": "text", "text": ["Emerald Jump Point"], "textposition": "top center", "textfont": {"color": "white", "size": 20}}, {"type": "scatter", "x": [27747.468564399238], "y": [-102532.74786050503], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Transit Control [G13]"], "hoverinfo": "text", "text": ["Transit Control"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [27747.468564399238], "y": [-102532.74786050503], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Transit Control [G13]"], "hoverinfo": "text", "text": ["Transit Control"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-178435.59053958647], "y": [115610.62836358431], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "green"}, "hovertext": ["Concord Depot [R03]"], "hoverinfo": "text", "text": ["Concord Depot"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-178435.59053958647], "y": [115610.62836358431], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "green"}, "hovertext": ["Concord Depot [R03]"], "hoverinfo": "text", "text": ["Concord Depot"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-175483.69918913944], "y": [119867.26869865341], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "green"}, "hovertext": ["Munin [R03]"], "hoverinfo": "text", "text": ["Munin"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-175483.69918913944], "y": [119867.26869865341], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "green"}, "hovertext": ["Munin [R03]"], "hoverinfo": "text", "text": ["Munin"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-173920.54392897818], "y": [110824.43475256697], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "green"}, "hovertext": ["Vilnara Comand [R03]"], "hoverinfo": "text", "text": ["Vilnara Comand"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-173920.54392897818], "y": [110824.43475256697], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "green"}, "hovertext": ["Vilnara Comand [R03]"], "hoverinfo": "text", "text": ["Vilnara Comand"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-174855.18271884994], "y": [105496.99365029775], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "green"}, "hovertext": ["Seco Hall [R03]"], "hoverinfo": "text", "text": ["Seco Hall"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-174855.18271884994], "y": [105496.99365029775], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "green"}, "hovertext": ["Seco Hall [R03]"], "hoverinfo": "text", "text": ["Seco Hall"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [183750.28557720524], "y": [78459.35591126201], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Newton Array [P21]"], "hoverinfo": "text", "text": ["Newton Array"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [183750.28557720524], "y": [78459.35591126201], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Newton Array [P21]"], "hoverinfo": "text", "text": ["Newton Array"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [201329.00172217103], "y": [72618.12307025824], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Basil Yards [P22]"], "hoverinfo": "text", "text": ["Basil Yards"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [201329.00172217103], "y": [72618.12307025824], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Basil Yards [P22]"], "hoverinfo": "text", "text": ["Basil Yards"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [208059.11146154], "y": [80604.77001813207], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Manuel Towers [Q22]"], "hoverinfo": "text", "text": ["Manuel Towers"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [208059.11146154], "y": [80604.77001813207], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Manuel Towers [Q22]"], "hoverinfo": "text", "text": ["Manuel Towers"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [80570.63337587439], "y": [-85817.3674895108], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Prospero Refuleing [H16]"], "hoverinfo": "text", "text": ["Prospero Refuleing"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [80570.63337587439], "y": [-85817.3674895108], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Prospero Refuleing [H16]"], "hoverinfo": "text", "text": ["Prospero Refuleing"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-191380.0766782888], "y": [-247249.1760299859], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "green"}, "hovertext": ["Ruby Medical Facility [Z02]"], "hoverinfo": "text", "text": ["Ruby Medical Facility"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-191380.0766782888], "y": [-247249.1760299859], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "green"}, "hovertext": ["Ruby Medical Facility [Z02]"], "hoverinfo": "text", "text": ["Ruby Medical Facility"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-254213.41001162215], "y": [-261582.50936331923], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 97 [Y99]"], "hoverinfo": "text", "text": ["DS 97"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-254213.41001162215], "y": [-261582.50936331923], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 97 [Y99]"], "hoverinfo": "text", "text": ["DS 97"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-193283.62606100485], "y": [-270062.44763492414], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 31 [Y02]"], "hoverinfo": "text", "text": ["DS 31"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-193283.62606100485], "y": [-270062.44763492414], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 31 [Y02]"], "hoverinfo": "text", "text": ["DS 31"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-242439.4688250652], "y": [-228102.46392436174], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "green"}, "hovertext": ["TSN Gregneck [A99]"], "hoverinfo": "text", "text": ["TSN Gregneck"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-242439.4688250652], "y": [-228102.46392436174], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "green"}, "hovertext": ["TSN Gregneck [A99]"], "hoverinfo": "text", "text": ["TSN Gregneck"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-228376.21865359746], "y": [-270845.6266472698], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Osprey Entertainment [Y00]"], "hoverinfo": "text", "text": ["Osprey Entertainment"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-228376.21865359746], "y": [-270845.6266472698], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Osprey Entertainment [Y00]"], "hoverinfo": "text", "text": ["Osprey Entertainment"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [171080.8018977326], "y": [174967.25213949502], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Greybeard Industries [U20]"], "hoverinfo": "text", "text": ["Greybeard Industries"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [171080.8018977326], "y": [174967.25213949502], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Greybeard Industries [U20]"], "hoverinfo": "text", "text": ["Greybeard Industries"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [168418.76486069555], "y": [196564.47436171724], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["G Outfitting [V20]"], "hoverinfo": "text", "text": ["G Outfitting"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [168418.76486069555], "y": [196564.47436171724], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["G Outfitting [V20]"], "hoverinfo": "text", "text": ["G Outfitting"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [189830.8018977326], "y": [164157.06695430982], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["G Fabrication [U21]"], "hoverinfo": "text", "text": ["G Fabrication"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [189830.8018977326], "y": [164157.06695430982], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["G Fabrication [U21]"], "hoverinfo": "text", "text": ["G Fabrication"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-9658.23906540571], "y": [-130565.58390892949], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Space Chief [F11]"], "hoverinfo": "text", "text": ["Space Chief"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-9658.23906540571], "y": [-130565.58390892949], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Space Chief [F11]"], "hoverinfo": "text", "text": ["Space Chief"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-24628.178623018863], "y": [-39555.942419446124], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["SQ 44 [K10]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-24628.178623018863], "y": [-39555.942419446124], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["SQ 44 [K10]"], "hoverinfo": "text"}, {"type": "scatter", "x": [39839.681887955085], "y": [-140304.41707079503], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["SQ 1123 [E13]"], "hoverinfo": "text"}, {"type": "scatter", "x": [39839.681887955085], "y": [-140304.41707079503], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["SQ 1123 [E13]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-176628.48056206448], "y": [121078.90002374927], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 69 [S03]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-176628.48056206448], "y": [121078.90002374927], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 69 [S03]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-174268.14501215357], "y": [119760.83817064561], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 50 [R03]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-174268.14501215357], "y": [119760.83817064561], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 50 [R03]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-169424.39390708113], "y": [113521.13864664684], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 59 [R03]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-169424.39390708113], "y": [113521.13864664684], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 59 [R03]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-169424.39390708113], "y": [109704.69692133702], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 96 [R03]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-169424.39390708113], "y": [109704.69692133702], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 96 [R03]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-172815.4644033071], "y": [105749.06901821449], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 72 [R03]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-172815.4644033071], "y": [105749.06901821449], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 72 [R03]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-177705.25031503086], "y": [105455.73234554447], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 8 [R03]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-177705.25031503086], "y": [105455.73234554447], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 8 [R03]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-183935.03372532534], "y": [108632.4945904405], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 43 [R02]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-183935.03372532534], "y": [108632.4945904405], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 43 [R02]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-184630.48383311834], "y": [112310.89199345508], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 23 [R02]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-184630.48383311834], "y": [112310.89199345508], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 23 [R02]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-181333.88685654764], "y": [115791.56809897235], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 3 [R02]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-181333.88685654764], "y": [115791.56809897235], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 3 [R02]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-180127.36625820232], "y": [117436.62131368174], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 44 [R02]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-180127.36625820232], "y": [117436.62131368174], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 44 [R02]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-175415.16892827326], "y": [110392.99540773116], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 49 [R03]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-175415.16892827326], "y": [110392.99540773116], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 49 [R03]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-172396.28323308102], "y": [115515.29916140543], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 35 [R03]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-172396.28323308102], "y": [115515.29916140543], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 35 [R03]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-176651.2575747549], "y": [113840.97838685372], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 21 [R03]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-176651.2575747549], "y": [113840.97838685372], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 21 [R03]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-184475.24835971193], "y": [109870.30311492948], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "green"}, "hovertext": ["C TS 03 [R02]"], "hoverinfo": "text", "text": ["C TS 03"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-184475.24835971193], "y": [109870.30311492948], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "green"}, "hovertext": ["C TS 03 [R02]"], "hoverinfo": "text", "text": ["C TS 03"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [89631.62373021728], "y": [-88467.59055251161], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["PR R1 [H16]"], "hoverinfo": "text", "text": ["PR R1"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [89631.62373021728], "y": [-88467.59055251161], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["PR R1 [H16]"], "hoverinfo": "text", "text": ["PR R1"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [80736.54224697613], "y": [-78457.90520655335], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["PR R2 [I16]"], "hoverinfo": "text", "text": ["PR R2"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [80736.54224697613], "y": [-78457.90520655335], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["PR R2 [I16]"], "hoverinfo": "text", "text": ["PR R2"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [93639.54627521169], "y": [-77992.98446860777], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["PR Processing [I16]"], "hoverinfo": "text", "text": ["PR Processing"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [93639.54627521169], "y": [-77992.98446860777], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["PR Processing [I16]"], "hoverinfo": "text", "text": ["PR Processing"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [87841.71119024341], "y": [-82848.4883126081], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["PR S1 [H16]"], "hoverinfo": "text", "text": ["PR S1"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [87841.71119024341], "y": [-82848.4883126081], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["PR S1 [H16]"], "hoverinfo": "text", "text": ["PR S1"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-128920.54392897822], "y": [113534.88724319516], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 65 [R05]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-128920.54392897822], "y": [113534.88724319516], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 65 [R05]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-145863.5028453352], "y": [148717.3039542565], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 21 [T04]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-145863.5028453352], "y": [148717.3039542565], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 21 [T04]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-183933.98595701237], "y": [157406.64329137723], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 84 [T02]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-183933.98595701237], "y": [157406.64329137723], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 84 [T02]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-214464.14298458706], "y": [133059.6555034853], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 58 [S01]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-214464.14298458706], "y": [133059.6555034853], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 58 [S01]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-214464.14298458706], "y": [94010.11898290506], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 60 [Q01]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-214464.14298458706], "y": [94010.11898290506], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 60 [Q01]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-183933.98595701237], "y": [69663.13119501309], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 27 [P02]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-183933.98595701237], "y": [69663.13119501309], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 27 [P02]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-173920.5439289782], "y": [113534.88724319516], "mode": "markers+text", "marker": {"symbol": "circle", "size": 6, "color": "#FF13F0"}, "hovertext": ["Concord [R03]"], "hoverinfo": "text", "text": ["Concord"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-173920.5439289782], "y": [113534.88724319516], "mode": "markers+text", "marker": {"symbol": "circle", "size": 6, "color": "#FF13F0"}, "hovertext": ["Concord [R03]"], "hoverinfo": "text", "text": ["Concord"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-226686.0766782889], "y": [-247572.95380776364], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 74 [Z00]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-226686.0766782889], "y": [-247572.95380776364], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 74 [Z00]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-191686.0766782889], "y": [-220406.28714109698], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 35 [A02]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-191686.0766782889], "y": [-220406.28714109698], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 35 [A02]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-156686.0766782889], "y": [-193239.62047443032], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 53 [C04]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-156686.0766782889], "y": [-193239.62047443032], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 53 [C04]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-121686.07667828891], "y": [-166072.95380776364], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 37 [D05]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-121686.07667828891], "y": [-166072.95380776364], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 37 [D05]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-86686.07667828891], "y": [-138906.28714109698], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 20 [F07]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-86686.07667828891], "y": [-138906.28714109698], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 20 [F07]"], "hoverinfo": "text"}, {"type": "scatter", "x": [18313.92332171112], "y": [-57406.28714109696], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 97 [J12]"], "hoverinfo": "text"}, {"type": "scatter", "x": [18313.92332171112], "y": [-57406.28714109696], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 97 [J12]"], "hoverinfo": "text"}, {"type": "scatter", "x": [53313.92332171109], "y": [-30239.620474430332], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 90 [K14]"], "hoverinfo": "text"}, {"type": "scatter", "x": [53313.92332171109], "y": [-30239.620474430332], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 90 [K14]"], "hoverinfo": "text"}, {"type": "scatter", "x": [88313.92332171109], "y": [-3072.9538077636444], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 68 [L16]"], "hoverinfo": "text"}, {"type": "scatter", "x": [88313.92332171109], "y": [-3072.9538077636444], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 68 [L16]"], "hoverinfo": "text"}, {"type": "scatter", "x": [123313.92332171109], "y": [24093.71285890304], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 42 [N18]"], "hoverinfo": "text"}, {"type": "scatter", "x": [123313.92332171109], "y": [24093.71285890304], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 42 [N18]"], "hoverinfo": "text"}, {"type": "scatter", "x": [158313.9233217111], "y": [51260.37952556967], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 86 [O19]"], "hoverinfo": "text"}, {"type": "scatter", "x": [158313.9233217111], "y": [51260.37952556967], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 86 [O19]"], "hoverinfo": "text"}, {"type": "scatter", "x": [193313.9233217111], "y": [78427.04619223636], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 69 [P21]"], "hoverinfo": "text"}, {"type": "scatter", "x": [193313.9233217111], "y": [78427.04619223636], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 69 [P21]"], "hoverinfo": "text"}, {"type": "scatter", "x": [85313.92332171109], "y": [-222572.95380776364], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 99 [A16]"], "hoverinfo": "text"}, {"type": "scatter", "x": [85313.92332171109], "y": [-222572.95380776364], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 99 [A16]"], "hoverinfo": "text"}, {"type": "scatter", "x": [58869.47887726665], "y": [-188017.39825220808], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 25 [C14]"], "hoverinfo": "text"}, {"type": "scatter", "x": [58869.47887726665], "y": [-188017.39825220808], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 25 [C14]"], "hoverinfo": "text"}, {"type": "scatter", "x": [32425.03443282221], "y": [-153461.84269665251], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 63 [E13]"], "hoverinfo": "text"}, {"type": "scatter", "x": [32425.03443282221], "y": [-153461.84269665251], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 63 [E13]"], "hoverinfo": "text"}, {"type": "scatter", "x": [5980.589988377764], "y": [-118906.28714109698], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 11 [G12]"], "hoverinfo": "text"}, {"type": "scatter", "x": [5980.589988377764], "y": [-118906.28714109698], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 11 [G12]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-73352.74334495557], "y": [-15239.62047443033], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 76 [L08]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-73352.74334495557], "y": [-15239.62047443033], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 76 [L08]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-99797.18778940004], "y": [19315.93508112526], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 82 [M07]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-99797.18778940004], "y": [19315.93508112526], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 82 [M07]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-126241.63223384444], "y": [53871.49063668079], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 31 [O05]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-126241.63223384444], "y": [53871.49063668079], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 31 [O05]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-152686.0766782889], "y": [88427.04619223636], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 45 [Q04]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-152686.0766782889], "y": [88427.04619223636], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 45 [Q04]"], "hoverinfo": "text"}, {"type": "scatter", "x": [24563.923321711092], "y": [-79873.87973368957], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 81 [I13]"], "hoverinfo": "text"}, {"type": "scatter", "x": [24563.923321711092], "y": [-79873.87973368957], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 81 [I13]"], "hoverinfo": "text"}, {"type": "scatter", "x": [7620.964405354105], "y": [-44691.46302262823], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 50 [J12]"], "hoverinfo": "text"}, {"type": "scatter", "x": [7620.964405354105], "y": [-44691.46302262823], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 50 [J12]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-30449.51870632305], "y": [-36002.12368550751], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 36 [K10]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-30449.51870632305], "y": [-36002.12368550751], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 36 [K10]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-60979.67573389776], "y": [-60349.111473399455], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 75 [I08]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-60979.67573389776], "y": [-60349.111473399455], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 75 [I08]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-60979.67573389776], "y": [-99398.64799397968], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 56 [H08]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-60979.67573389776], "y": [-99398.64799397968], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 56 [H08]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-30449.518706323062], "y": [-123745.63578187162], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 15 [F10]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-30449.518706323062], "y": [-123745.63578187162], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 15 [F10]"], "hoverinfo": "text"}, {"type": "scatter", "x": [61611.24842459177], "y": [-81221.50919185144], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 72 [H15]"], "hoverinfo": "text"}, {"type": "scatter", "x": [61611.24842459177], "y": [-81221.50919185144], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 72 [H15]"], "hoverinfo": "text"}, {"type": "scatter", "x": [76011.8614218483], "y": [-99640.89790927256], "mode": "markers+text", "marker": {"symbol": "circle", "size": 6, "color": "#FF13F0"}, "hovertext": ["PR Holding 1 [H15]"], "hoverinfo": "text", "text": ["PR Holding 1"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [76011.8614218483], "y": [-99640.89790927256], "mode": "markers+text", "marker": {"symbol": "circle", "size": 6, "color": "#FF13F0"}, "hovertext": ["PR Holding 1 [H15]"], "hoverinfo": "text", "text": ["PR Holding 1"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [66969.61605147793], "y": [-61127.6305910284], "mode": "markers+text", "marker": {"symbol": "circle", "size": 6, "color": "#FF13F0"}, "hovertext": ["PR Holding 2 [I15]"], "hoverinfo": "text", "text": ["PR Holding 2"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [66969.61605147793], "y": [-61127.6305910284], "mode": "markers+text", "marker": {"symbol": "circle", "size": 6, "color": "#FF13F0"}, "hovertext": ["PR Holding 2 [I15]"], "hoverinfo": "text", "text": ["PR Holding 2"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [105482.88336972211], "y": [-83565.79502861413], "mode": "markers+text", "marker": {"symbol": "circle", "size": 6, "color": "#FF13F0"}, "hovertext": ["Prospero Point [H17]"], "hoverinfo": "text", "text": ["Prospero Point"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [105482.88336972211], "y": [-83565.79502861413], "mode": "markers+text", "marker": {"symbol": "circle", "size": 6, "color": "#FF13F0"}, "hovertext": ["Prospero Point [H17]"], "hoverinfo": "text", "text": ["Prospero Point"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [177460.22729833444], "y": [180492.25574013306], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 17 [V20]"], "hoverinfo": "text"}, {"type": "scatter", "x": [177460.22729833444], "y": [180492.25574013306], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 17 [V20]"], "hoverinfo": "text"}, {"type": "scatter", "x": [222460.22729833444], "y": [180492.25574013306], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 94 [V23]"], "hoverinfo": "text"}, {"type": "scatter", "x": [222460.22729833444], "y": [180492.25574013306], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 94 [V23]"], "hoverinfo": "text"}, {"type": "scatter", "x": [167446.7852703003], "y": [224364.0117883151], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 32 [X20]"], "hoverinfo": "text"}, {"type": "scatter", "x": [167446.7852703003], "y": [224364.0117883151], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 32 [X20]"], "hoverinfo": "text"}, {"type": "scatter", "x": [136916.6282427256], "y": [200017.02400042317], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 14 [W18]"], "hoverinfo": "text"}, {"type": "scatter", "x": [136916.6282427256], "y": [200017.02400042317], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 14 [W18]"], "hoverinfo": "text"}, {"type": "scatter", "x": [136916.6282427256], "y": [160967.48747984294], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 22 [U18]"], "hoverinfo": "text"}, {"type": "scatter", "x": [136916.6282427256], "y": [160967.48747984294], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 22 [U18]"], "hoverinfo": "text"}, {"type": "scatter", "x": [167446.7852703003], "y": [136620.499691951], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 33 [S20]"], "hoverinfo": "text"}, {"type": "scatter", "x": [167446.7852703003], "y": [136620.499691951], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 33 [S20]"], "hoverinfo": "text"}, {"type": "scatter", "x": [205517.26838197745], "y": [145309.8390290717], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 28 [T22]"], "hoverinfo": "text"}, {"type": "scatter", "x": [205517.26838197745], "y": [145309.8390290717], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 28 [T22]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-20646.202028368756], "y": [3938.3255560910384], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 55 [M10]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-20646.202028368756], "y": [3938.3255560910384], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 55 [M10]"], "hoverinfo": "text"}, {"type": "scatter", "x": [56916.1693708082], "y": [-126671.88534925877], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 48 [F14]"], "hoverinfo": "text"}, {"type": "scatter", "x": [56916.1693708082], "y": [-126671.88534925877], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 48 [F14]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-20436.076678288908], "y": [-79873.87973368957], "mode": "markers+text", "marker": {"symbol": "circle", "size": 6, "color": "#FF13F0"}, "hovertext": ["Vilnara Cross [I10]"], "hoverinfo": "text", "text": ["Vilnara Cross"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-20436.076678288908], "y": [-79873.87973368957], "mode": "markers+text", "marker": {"symbol": "circle", "size": 6, "color": "#FF13F0"}, "hovertext": ["Vilnara Cross [I10]"], "hoverinfo": "text", "text": ["Vilnara Cross"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [206904.76602604132], "y": [214006.5638035896], "mode": "markers+text", "marker": {"symbol": "circle", "size": 6, "color": "#FF13F0"}, "hovertext": ["Lee Hunt Nebular [W22]"], "hoverinfo": "text", "text": ["Lee Hunt Nebular"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [206904.76602604132], "y": [214006.5638035896], "mode": "markers+text", "marker": {"symbol": "circle", "size": 6, "color": "#FF13F0"}, "hovertext": ["Lee Hunt Nebular [W22]"], "hoverinfo": "text", "text": ["Lee Hunt Nebular"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}], "layout": {"title": "Vilnara", "paper_bgcolor": "black", "plot_bgcolor": "black", "font": {"color": "white"}, "margin": {"l": 0, "r": 0, "t": 40, "b": 0}, "autosize": true, "dragmode": "pan", "hovermode": "closest", "xaxis": {"color": "white", "showgrid": true, "gridcolor": "gray", "dtick": 20000, "title": "X Axis"}, "yaxis": {"color": "white", "showgrid": true, "gridcolor": "gray", "dtick": 20000, "scaleanchor": "x", "scaleratio": 1, "title": "Z Axis"}, "shapes": []}};
    fig.layout.showlegend = false;
    fig.layout.dragmode = 'pan';
    fig.layout.title = 'Vilnara';
    if (!isGM()) {
        fig.data = fig.data.filter(t => !t.gmOnly);
        }
    Plotly.newPlot('plot', fig.data, fig.layout, {responsive: true, scrollZoom: true});
        console.log("[DEBUG JS] Plotted traces count:", fig.data.length);
        console.log("[DEBUG JS] fig.data sample:", fig.data.slice(0,3));

    var plotDiv = document.getElementById('plot');
    // Custom click: select nearest object within 10px of cursor
    plotDiv.addEventListener('click', function(evt) {
        var rect = plotDiv.getBoundingClientRect();
        var px = evt.clientX - rect.left;
        var py = evt.clientY - rect.top;
        var xaxis = plotDiv._fullLayout.xaxis;
        var yaxis = plotDiv._fullLayout.yaxis;
        var l2px = xaxis.l2p.bind(xaxis);
        var l2py = yaxis.l2p.bind(yaxis);
        var minDist = Infinity, closest = null;
        for (var name in objData) {
            var pt = objData[name];
            var xPx = l2px(pt.x);
            var yPx = l2py(pt.y);
            var dx = xPx - px, dy = yPx - py;
            var d = Math.sqrt(dx*dx + dy*dy);
            console.log(`${name}: data=(${pt.x}, ${pt.y}) -> screen=(${xPx.toFixed(1)}, ${yPx.toFixed(1)}), cursor=(${px.toFixed(1)}, ${py.toFixed(1)}), dx=${dx.toFixed(1)}, dy=${dy.toFixed(1)}, d=${d.toFixed(1)}`);
            if (d < minDist) {
                minDist = d;
                closest = name;
            }
        }
        if (minDist <= 35 && closest) {
            highlight(closest);
        }
    });

  var ctrl = document.getElementById('object-buttons');

  // Helper: create and append a single button
function addButton(label, fn, header, color, isHidden) {
    if (isHidden && !isGM()) return;
    var btn = document.createElement('button');
    btn.textContent = label;
    if (header) {
      btn.className = 'header';     // section header style
      btn.onclick = null;           // no click action
    } else {
      btn.onclick = fn;             // bind the handler
      if (color) btn.style.backgroundColor = color;
    }
    ctrl.appendChild(btn);
  }
  
  function enterGMMode() {
    const pw = prompt("Enter ONI Auth Code: --We will store a cookie for the purpose of tracking if you have authenticated or not--");
    if (pw === "oni1") {
      document.cookie = "gmMode=1; path=/; max-age=31536000";
      location.reload();
    } else {
      alert("Incorrect password.");
    }
  }

  function isGM() {
    return document.cookie.split(';').some(c => c.trim() === 'gmMode=1');
  }

  function exitGMMode() {
    document.cookie = "gmMode=; path=/; expires=Thu, 01 Jan 1970 00:00:00 UTC;";
    location.reload();
  }

  function renderGMControls() {
    const div = document.getElementById('gm-controls');
    div.innerHTML = '';
    const btn = document.createElement('button');
    btn.style.width = '100%';
    if (isGM()) {
      btn.textContent = 'ONI Logout';
      btn.onclick = exitGMMode;
    } else {
      btn.textContent = 'ONI Login';
      btn.onclick = enterGMMode;
    }
    div.appendChild(btn);
  }

  renderGMControls();

  // ——— Populate the sidebar ———
  addButton('None', clearAnnotations, false, null);

  addButton('--- Gates ---', null, true, null);
  addButton('Emerald Jump Point',function(){highlight('Emerald Jump Point');},false,null,false)
    addButton('Saphire Jump Point',function(){highlight('Saphire Jump Point');},false,null,false)

  addButton('--- Nav Points/POI ---', null, true, null);
  addButton('Concord',function(){highlight('Concord');},false,null,false)
    addButton('Lee Hunt Nebular',function(){highlight('Lee Hunt Nebular');},false,null,false)
    addButton('PR Holding 1',function(){highlight('PR Holding 1');},false,null,false)
    addButton('PR Holding 2',function(){highlight('PR Holding 2');},false,null,false)
    addButton('Prospero Point',function(){highlight('Prospero Point');},false,null,false)
    addButton('Vilnara Cross',function(){highlight('Vilnara Cross');},false,null,false)

  addButton('--- Stations ---', null, true, null);
  addButton('Basil Yards',function(){highlight('Basil Yards');},false,'blue',false)
    addButton('C TS 03',function(){highlight('C TS 03');},false,'green',false)
    addButton('Concord Depot',function(){highlight('Concord Depot');},false,'green',false)
    addButton('DS 31',function(){highlight('DS 31');},false,'blue',false)
    addButton('DS 97',function(){highlight('DS 97');},false,'blue',false)
    addButton('G Fabrication',function(){highlight('G Fabrication');},false,'blue',false)
    addButton('G Outfitting',function(){highlight('G Outfitting');},false,'blue',false)
    addButton('Greybeard Industries',function(){highlight('Greybeard Industries');},false,'blue',false)
    addButton('Manuel Towers',function(){highlight('Manuel Towers');},false,'blue',false)
    addButton('Munin',function(){highlight('Munin');},false,'green',false)
    addButton('Newton Array',function(){highlight('Newton Array');},false,'blue',false)
    addButton('Osprey Entertainment',function(){highlight('Osprey Entertainment');},false,'blue',false)
    addButton('PR Processing',function(){highlight('PR Processing');},false,'blue',false)
    addButton('PR R1',function(){highlight('PR R1');},false,'blue',false)
    addButton('PR R2',function(){highlight('PR R2');},false,'blue',false)
    addButton('PR S1',function(){highlight('PR S1');},false,'blue',false)
    addButton('Prospero Refuleing',function(){highlight('Prospero Refuleing');},false,'blue',false)
    addButton('Ruby Medical Facility',function(){highlight('Ruby Medical Facility');},false,'green',false)
    addButton('Seco Hall',function(){highlight('Seco Hall');},false,'green',false)
    addButton('Space Chief',function(){highlight('Space Chief');},false,'blue',false)
    addButton('TSN Gregneck',function(){highlight('TSN Gregneck');},false,'green',false)
    addButton('Transit Control',function(){highlight('Transit Control');},false,'blue',false)
    addButton('Vilnara Comand',function(){highlight('Vilnara Comand');},false,'green',false)
    
  // Search filter
  document.getElementById('search-box').addEventListener('input', function() {
    const query = this.value.toLowerCase();
    const buttons = document.querySelectorAll('#object-buttons button');
    buttons.forEach(btn => {
      const label = btn.textContent.toLowerCase();
      const isHeader = btn.classList.contains('header');
      if (isHeader) {
        btn.style.display = ''; // always show section headers
      } else {
        btn.style.display = label.includes(query) ? '' : 'none';
      }
    });
  });
</script>
</body>
</html>