
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ashia.html</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body { margin: 0; background: black; color: white; display: flex; height: 100vh; }
        /* === Description typography controls ===
           Tweak these two variables to change description sizes globally */
        :root {
            --desc-font-size: 130%;
            --hull-desc-font-size: 130%;
        }
        .desc-text { font-size: var(--desc-font-size); margin-top: 8px; }
        .hull-desc { font-size: var(--hull-desc-font-size); margin-top: 5px; color: #ccc; }
        #controls { flex: 1; min-width: 200px; max-width: 350px; overflow-y: auto; background: #333; padding: 10px; }
        #plot { flex: 3; min-width: 400px; }
        #info { flex: 1; min-width: 200px; background: #333; padding: 10px; overflow-y: auto; }
        h2.header { margin-top: 0; margin-bottom: 5px; text-align: center; }
        h3.subheader { margin-top: 0; margin-bottom: 15px; text-align: center; color: #ccc; }
        .alignment-image { display: block; max-width: 100%; height: auto; margin: 10px auto; }
        button { display: block; width: 100%; margin-bottom: 5px; background: #555; color: white; border: none; padding: 5px; text-align: left; cursor: pointer; font-size: 20px; }
        button.header { background: #444; cursor: default; font-size: 24px; }
    </style>
</head>
<body>
    <div id="controls">
        <div id="gm-controls" style="margin-bottom:10px;"></div>
        <h2 class="header">Ashia</h2>
        <h3 class="subheader">Alignment: USFP</h3>
        <img src="Images/Factions/USFP.png" alt="Alignment Logo" class="alignment-image" onerror="this.style.display='none';">

        <input type="text" id="search-box" placeholder="Search objects..." style="width: 95%; padding: 6px; margin-bottom: 10px; font-size: 16px;">
        <div id="object-buttons">
    </div>
    </div>
    <div id="plot"></div>
    <div id="info">
        <img src="Images/Compass.png" alt="Compass" style="display:block; max-width:100%; height:auto; margin-bottom:10px;">
        <button id="galactic-map-btn" title="Back to Galactic Map">Show Galactic Map</button>
        Select an object
    </div>
<script>
    var objData = {"Ashia III": {"type": "planet", "x": 163449.33355798785, "y": -39973.627900662985, "grid": "K20", "hidden": false}, "Lightening Gate": {"type": "jumpnode", "x": 633.3333333333258, "y": -304733.33333333326, "grid": "W12", "hidden": false, "label": "Lightening Gate", "destinations": {"Ornate": "Tyr", "Mesa Gate": "Phinmor"}}, "Apollo Gate": {"type": "jumpnode", "x": 4366.666666666697, "y": 316700.0, "grid": "B12", "hidden": false, "label": "Apollo Gate", "destinations": {"Ashia Gate": "Acantha"}}, "WP 55": {"type": "platform", "x": -3226.7160215858803, "y": 274559.9843948346, "grid": "Z11", "hidden": false, "label": "WP 55"}, "WP 82": {"type": "platform", "x": 12952.402962024693, "y": 274645.5027973124, "grid": "Z12", "hidden": false, "label": "WP 82"}, "Apollo Customs": {"type": "station", "x": 4638.218251750669, "y": 274544.2645181, "grid": "Z12", "hidden": false, "label": "Apollo Customs", "description": "Inspections and Authorisations for entry ino USFP Space", "hull": "starbase_command", "facilities": ["Docking"], "sides": ["USFP"], "hullName": "Command Starbase", "hullImage": "Images/Ships/tsn-big-base256.png", "hullDescription": ""}, "WP 97": {"type": "platform", "x": 5724.765193096176, "y": 273876.8320654646, "grid": "Z12", "hidden": false, "label": "WP 97"}, "WP 87": {"type": "platform", "x": 3335.8832552487106, "y": 273876.8320654646, "grid": "Z12", "hidden": false, "label": "WP 87"}, "Ashia Command": {"type": "station", "x": 4421.793904223546, "y": 188683.89742218982, "grid": "V12", "hidden": false, "label": "Ashia Command", "hull": "starbase_command", "facilities": ["Docking", "Refuel", "Repair"], "sides": ["USFP"], "hullName": "Command Starbase", "hullImage": "Images/Ships/tsn-big-base256.png", "hullDescription": ""}, "Viper Depot": {"type": "station", "x": 356.45860672780066, "y": 188389.5083771662, "grid": "V12", "hidden": false, "label": "Viper Depot", "hull": "usfp_industrial_storage", "facilities": ["Docking", "Refuel"], "sides": ["USFP"], "hullName": "Storage Module", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialStorage256.png", "hullDescription": ""}, "Pegasus Slips": {"type": "station", "x": 9162.234352033145, "y": 188810.47430362468, "grid": "V12", "hidden": false, "label": "Pegasus Slips", "hull": "usfp_shipyard", "facilities": ["Repair"], "sides": ["USFP"], "hullName": "Ship Yard", "hullImage": "Images/Ships/TSN Mod/USFP/ShipYard256.png", "hullDescription": ""}, "Sphinx Slips": {"type": "station", "x": 2379.7568126919145, "y": 185889.87231965648, "grid": "V12", "hidden": false, "label": "Sphinx Slips", "hull": "usfp_shipyard", "facilities": ["Repair"], "sides": ["USFP"], "hullName": "Ship Yard", "hullImage": "Images/Ships/TSN Mod/USFP/ShipYard256.png", "hullDescription": ""}, "Blackhawk R&R": {"type": "station", "x": 7578.612964163187, "y": 186405.58234946922, "grid": "V12", "hidden": false, "label": "Blackhawk R&R", "hull": "starbase_civil", "facilities": ["Docking"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "WP 93": {"type": "platform", "x": 2106.576894788029, "y": 191657.5167532048, "grid": "V12", "hidden": false, "label": "WP 93"}, "WP 70": {"type": "platform", "x": 6556.5681393126415, "y": 191735.76390498033, "grid": "V12", "hidden": false, "label": "WP 70"}, "WP 72": {"type": "platform", "x": -1313.5087511131999, "y": 188979.44488114546, "grid": "V11", "hidden": false, "label": "WP 72"}, "WP 36": {"type": "platform", "x": 4320.64676267799, "y": 190196.42247212434, "grid": "V12", "hidden": false, "label": "WP 36"}, "WP 45": {"type": "platform", "x": 10675.974182234453, "y": 189700.61678691072, "grid": "V12", "hidden": false, "label": "WP 45"}, "WP 22": {"type": "platform", "x": 44151.743752663395, "y": 300245.1330731154, "grid": "B14", "hidden": false, "label": "WP 22"}, "WP 1": {"type": "platform", "x": 39731.09046048233, "y": 345255.421138959, "grid": "D13", "hidden": false, "label": "WP 1"}, "WP 92": {"type": "platform", "x": 9992.150131264216, "y": 363339.91187969974, "grid": "E12", "hidden": false, "label": "WP 92"}, "WP 9": {"type": "platform", "x": -24971.19863416789, "y": 350881.7071471895, "grid": "D10", "hidden": false, "label": "WP 9"}, "WP 24": {"type": "platform", "x": -37831.28093869464, "y": 319937.134101922, "grid": "B10", "hidden": false, "label": "WP 24"}, "WP 76": {"type": "platform", "x": -24971.19863416789, "y": 284973.78533648985, "grid": "A10", "hidden": false, "label": "WP 76"}, "DS 78": {"type": "station", "x": -10905.483613591756, "y": 372181.2184640619, "grid": "E11", "hidden": false, "label": "DS 78", "hull": "starbase_civil", "facilities": ["Docking", "Refuel"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "DS 27": {"type": "station", "x": -48218.69984873122, "y": 326261.1242282366, "grid": "C09", "hidden": false, "label": "DS 27", "hull": "starbase_civil", "facilities": ["Docking", "Refuel"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "DS 90": {"type": "station", "x": 55445.24774405193, "y": 296734.28595091606, "grid": "A14", "hidden": false, "label": "DS 90", "hull": "starbase_civil", "facilities": ["Docking", "Refuel"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "DS 93": {"type": "station", "x": 49376.15218887741, "y": 337790.9173476162, "grid": "C14", "hidden": false, "label": "DS 93", "hull": "starbase_civil", "facilities": ["Docking", "Refuel"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "Valti": {"type": "station", "x": -288291.5082185825, "y": 263503.9753844612, "grid": "Z97", "hidden": false, "label": "Valti", "hull": "starbase_civil", "facilities": ["Docking", "Refuel"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "M 303": {"type": "station", "x": -288433.5390993862, "y": 247612.30121341534, "grid": "Y97", "hidden": false, "label": "M 303", "hull": "starbase_industry", "facilities": ["Docking", "Refuel"], "sides": ["USFP"], "hullName": "Industrial Starbase", "hullImage": "Images/Ships/industry_station256.png", "hullDescription": ""}, "Valti SM": {"type": "station", "x": -284057.9537606599, "y": 260354.56770753305, "grid": "Z97", "hidden": false, "label": "Valti SM", "hull": "usfp_industrial_storage", "facilities": [], "sides": ["USFP"], "hullName": "Storage Module", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialStorage256.png", "hullDescription": ""}, "M 229": {"type": "station", "x": -295835.95823052595, "y": 255441.52313299588, "grid": "Y97", "hidden": false, "label": "M 229", "hull": "usfp_industrial_processor", "facilities": [], "sides": ["USFP"], "hullName": "Processor Unit", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialProcessor256.png", "hullDescription": ""}, "WP 60": {"type": "platform", "x": -288261.64547740493, "y": 255856.50275569895, "grid": "Y97", "hidden": false, "label": "WP 60"}, "DS 661": {"type": "station", "x": -325744.5909300182, "y": 183822.51329292957, "grid": "V95", "hidden": false, "label": "DS 661", "hull": "starbase_civil", "facilities": ["Docking", "Refuel"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "Cenotes Market": {"type": "station", "x": -206903.23230700183, "y": -43312.54478372639, "grid": "J01", "hidden": false, "label": "Cenotes Market", "hull": "starbase_civil", "facilities": ["Docking", "Refuel", "Repair"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "Valti Foundry": {"type": "station", "x": -291865.0376624622, "y": 260544.64051052864, "grid": "Z97", "hidden": false, "label": "Valti Foundry", "hull": "usfp_industrial_processor", "facilities": [], "sides": ["USFP"], "hullName": "Processor Unit", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialProcessor256.png", "hullDescription": ""}, "Centores SM1": {"type": "station", "x": -211096.42065633665, "y": -41038.870047281715, "grid": "J01", "hidden": false, "label": "Centores SM1", "hull": "usfp_industrial_storage", "facilities": [], "sides": ["USFP"], "hullName": "Storage Module", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialStorage256.png", "hullDescription": ""}, "Cenotes SM2": {"type": "station", "x": -206890.54610191358, "y": -47815.00127385221, "grid": "J01", "hidden": false, "label": "Cenotes SM2", "hull": "usfp_industrial_storage", "facilities": [], "sides": ["USFP"], "hullName": "Storage Module", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialStorage256.png", "hullDescription": ""}, "Altun Ha Denabite": {"type": "station", "x": -218432.71206430363, "y": -56846.10435412006, "grid": "J01", "hidden": false, "label": "Altun Ha Denabite", "hull": "usfp_industrial_refinary", "facilities": ["Docking", "Refuel"], "sides": ["USFP"], "hullName": "Refinary Unit", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialRefinary256.png", "hullDescription": ""}, "DS 55": {"type": "station", "x": -143598.9090363591, "y": -83886.22649506082, "grid": "H04", "hidden": false, "label": "DS 55", "hull": "starbase_industry", "facilities": ["Docking"], "sides": ["USFP"], "hullName": "Industrial Starbase", "hullImage": "Images/Ships/industry_station256.png", "hullDescription": ""}, "DS 55 AM": {"type": "station", "x": -150405.4003216688, "y": -86477.03445354656, "grid": "H04", "hidden": false, "label": "DS 55 AM", "hull": "usfp_industrial_assembly", "facilities": [], "sides": ["USFP"], "hullName": "Assembly Yard", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialAssembler256.png", "hullDescription": ""}, "Tazumal Exchange": {"type": "station", "x": 137698.56014707327, "y": -76265.68753456826, "grid": "I18", "hidden": false, "label": "Tazumal Exchange", "hull": "starbase_civil", "facilities": [], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "Ashia Authority": {"type": "station", "x": 200491.9307746453, "y": -62311.6051728856, "grid": "I22", "hidden": false, "label": "Ashia Authority", "hull": "starbase_command", "facilities": ["Docking", "Refuel", "Repair"], "sides": ["USFP"], "hullName": "Command Starbase", "hullImage": "Images/Ships/tsn-big-base256.png", "hullDescription": ""}, "Doragn Orbital": {"type": "station", "x": 198863.95449911564, "y": -13472.316906996231, "grid": "L21", "hidden": false, "label": "Doragn Orbital", "hull": "starbase_civil", "facilities": ["Docking", "Refuel"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "Maxi Logen Orbital": {"type": "station", "x": 127232.99837581125, "y": -13704.884946357608, "grid": "L18", "hidden": false, "label": "Maxi Logen Orbital", "hull": "starbase_civil", "facilities": ["Docking", "Refuel"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "WP 10": {"type": "platform", "x": 172351.1980119186, "y": 16.62937596368892, "grid": "M20", "hidden": false, "label": "WP 10"}, "WP 14": {"type": "platform", "x": 120023.38915560854, "y": -45334.13829950501, "grid": "J18", "hidden": false, "label": "WP 14"}, "WP 23": {"type": "platform", "x": 171188.3578151117, "y": -81149.61636115721, "grid": "H20", "hidden": false, "label": "WP 23"}, "WP 56": {"type": "platform", "x": 201779.60371398553, "y": -62623.63831003403, "grid": "I22", "hidden": false, "label": "WP 56"}, "WP 62": {"type": "platform", "x": 199661.38134512634, "y": -63225.62444764224, "grid": "I21", "hidden": false, "label": "WP 62"}, "Indigo Mining": {"type": "station", "x": 19807.91443089913, "y": -184431.42523571049, "grid": "C12", "hidden": false, "label": "Indigo Mining", "hull": "starbase_industry", "facilities": ["Docking", "Refuel"], "sides": ["USFP"], "hullName": "Industrial Starbase", "hullImage": "Images/Ships/industry_station256.png", "hullDescription": ""}, "Transit Auth R": {"type": "station", "x": 6087.0865602098, "y": -188358.0998963548, "grid": "C12", "hidden": false, "label": "Transit Auth R", "description": "Inspectiona and Monitoring for Lightening Gate", "hull": "starbase_command", "facilities": ["Docking", "Refuel", "Repair"], "sides": ["USFP"], "hullName": "Command Starbase", "hullImage": "Images/Ships/tsn-big-base256.png", "hullDescription": ""}, "Casey Reasearch Inst": {"type": "station", "x": 4689.566349781227, "y": -168854.50529163878, "grid": "D12", "hidden": false, "label": "Casey Reasearch Inst", "description": "This Institute focuses on Warp Technoligy and its applications.", "hull": "starbase_science", "facilities": [], "sides": ["USFP"], "hullName": "Science Starbase", "hullImage": "Images/Ships/science_station256.png", "hullDescription": ""}, "SR 76": {"type": "sensor_relay", "x": 48666.66666666669, "y": 316233.3333333334, "grid": "B14", "hidden": false, "label": "SR 76"}, "SR 79": {"type": "sensor_relay", "x": 28390.37441697637, "y": 359749.08337772795, "grid": "D13", "hidden": false, "label": "SR 79"}, "SR 62": {"type": "sensor_relay", "x": -6346.77536136745, "y": 360105.08938151546, "grid": "E11", "hidden": false, "label": "SR 62"}, "SR 57": {"type": "sensor_relay", "x": -36876.932388942165, "y": 335758.1015936235, "grid": "C10", "hidden": false, "label": "SR 57"}, "SR 22": {"type": "sensor_relay", "x": -36876.932388942165, "y": 296708.5650730433, "grid": "A10", "hidden": false, "label": "SR 22"}, "SR 33": {"type": "sensor_relay", "x": -6346.775361367461, "y": 272361.5772851513, "grid": "Z11", "hidden": false, "label": "SR 33"}, "SR 15": {"type": "sensor_relay", "x": 31723.7077503097, "y": 281050.916622272, "grid": "A13", "hidden": false, "label": "SR 15"}, "SR 11": {"type": "sensor_relay", "x": 52000.00000000003, "y": 187900.00000000003, "grid": "V14", "hidden": false, "label": "SR 11"}, "SR 27": {"type": "sensor_relay", "x": 35057.04108364304, "y": 223082.41671106138, "grid": "X13", "hidden": false, "label": "SR 27"}, "SR 21": {"type": "sensor_relay", "x": -3013.4420280341164, "y": 231771.75604818208, "grid": "X11", "hidden": false, "label": "SR 21"}, "SR 19": {"type": "sensor_relay", "x": -33543.59905560883, "y": 207424.76826029015, "grid": "W10", "hidden": false, "label": "SR 19"}, "SR 66": {"type": "sensor_relay", "x": -33543.59905560883, "y": 168375.2317397099, "grid": "U10", "hidden": false, "label": "SR 66"}, "SR 83": {"type": "sensor_relay", "x": -3013.4420280341274, "y": 144028.24395181797, "grid": "T11", "hidden": false, "label": "SR 83"}, "SR 12": {"type": "sensor_relay", "x": 35057.04108364303, "y": 152717.58328893868, "grid": "T13", "hidden": false, "label": "SR 12"}, "SR 42": {"type": "sensor_relay", "x": -210199.8941823998, "y": -45534.17679085221, "grid": "J01", "hidden": false, "label": "SR 42"}, "SR 78": {"type": "sensor_relay", "x": -165199.8941823998, "y": -45534.17679085221, "grid": "J03", "hidden": false, "label": "SR 78"}, "SR 48": {"type": "sensor_relay", "x": -182142.85309875678, "y": -10351.760079790867, "grid": "L02", "hidden": false, "label": "SR 48"}, "SR 49": {"type": "sensor_relay", "x": -220213.33621043395, "y": -1662.4207426701469, "grid": "L00", "hidden": false, "label": "SR 49"}, "SR 37": {"type": "sensor_relay", "x": -917463.4932380086, "y": 86310.59146943792, "grid": "Q66", "hidden": false, "label": "SR 37"}, "SR 77": {"type": "sensor_relay", "x": -250743.49323800864, "y": -65058.94505114232, "grid": "I99", "hidden": false, "label": "SR 77"}, "SR 35": {"type": "sensor_relay", "x": -220213.33621043395, "y": -89405.93283903427, "grid": "H00", "hidden": false, "label": "SR 35"}, "SR 72": {"type": "sensor_relay", "x": -182142.85309875678, "y": -80716.59350191356, "grid": "H02", "hidden": false, "label": "SR 72"}, "SR 92": {"type": "sensor_relay", "x": 2245.074477103326, "y": 122073.62885476722, "grid": "S12", "hidden": false, "label": "SR 92"}, "SR 50": {"type": "sensor_relay", "x": 2245.074477103326, "y": 77695.4470365854, "grid": "P12", "hidden": false, "label": "SR 50"}, "SR 60": {"type": "sensor_relay", "x": 2245.074477103326, "y": 33317.2652184036, "grid": "N12", "hidden": false, "label": "SR 60"}, "SR 10": {"type": "sensor_relay", "x": 2245.074477103326, "y": -11060.916599778226, "grid": "L12", "hidden": false, "label": "SR 10"}, "SR 61": {"type": "sensor_relay", "x": 2245.074477103326, "y": -55439.09841796005, "grid": "J12", "hidden": false, "label": "SR 61"}, "SR 36": {"type": "sensor_relay", "x": 2245.074477103326, "y": -99817.28023614184, "grid": "H12", "hidden": false, "label": "SR 36"}, "SR 80": {"type": "sensor_relay", "x": 2245.074477103326, "y": -144195.46205432367, "grid": "E12", "hidden": false, "label": "SR 80"}, "SR 18": {"type": "sensor_relay", "x": 2245.074477103326, "y": -188573.6438725055, "grid": "C12", "hidden": false, "label": "SR 18"}, "SR 25": {"type": "sensor_relay", "x": 2245.074477103326, "y": -232951.82569068737, "grid": "A12", "hidden": false, "label": "SR 25"}, "Fleet Base Viper": {"type": "sensor_relay", "x": 4578.354061016284, "y": 184353.90801634194, "grid": "V12", "hidden": false, "label": "Fleet Base Viper"}, "SR 64": {"type": "sensor_relay", "x": 45409.46854673754, "y": -305673.9371503772, "grid": "W14", "hidden": false, "label": "SR 64"}, "SR 87": {"type": "sensor_relay", "x": 28466.509630380548, "y": -270491.5204393159, "grid": "Y13", "hidden": false, "label": "SR 87"}, "SR 70": {"type": "sensor_relay", "x": -9603.97348129661, "y": -261802.18110219514, "grid": "Y11", "hidden": false, "label": "SR 70"}, "SR 68": {"type": "sensor_relay", "x": -40134.13050887132, "y": -286149.16889008705, "grid": "X09", "hidden": false, "label": "SR 68"}, "SR 17": {"type": "sensor_relay", "x": -40134.13050887132, "y": -325198.7054106673, "grid": "V09", "hidden": false, "label": "SR 17"}, "SR 97": {"type": "sensor_relay", "x": -9603.973481296622, "y": -349545.6931985593, "grid": "U11", "hidden": false, "label": "SR 97"}, "SR 86": {"type": "sensor_relay", "x": 28466.509630380537, "y": -340856.3538614386, "grid": "U13", "hidden": false, "label": "SR 86"}, "SR 26": {"type": "sensor_relay", "x": -139952.2421791727, "y": -77316.95460989974, "grid": "I05", "hidden": false, "label": "SR 26"}, "SR 43": {"type": "sensor_relay", "x": 209097.92762154364, "y": -42175.6633861915, "grid": "J22", "hidden": false, "label": "SR 43"}, "SR 82": {"type": "sensor_relay", "x": 192154.96870518665, "y": -6993.246675130162, "grid": "L21", "hidden": false, "label": "SR 82"}, "SR 94": {"type": "sensor_relay", "x": 154084.48559350948, "y": 1696.0926619905586, "grid": "M19", "hidden": false, "label": "SR 94"}, "SR 47": {"type": "sensor_relay", "x": 123554.32856593479, "y": -22650.895125901385, "grid": "K18", "hidden": false, "label": "SR 47"}, "SR 99": {"type": "sensor_relay", "x": 154084.48559350948, "y": -86047.41943437356, "grid": "H19", "hidden": false, "label": "SR 99"}, "SR 67": {"type": "sensor_relay", "x": 192154.96870518665, "y": -77358.08009725285, "grid": "I21", "hidden": false, "label": "SR 67"}, "SR 84": {"type": "sensor_relay", "x": 128216.505416565, "y": -56372.18492657914, "grid": "J18", "hidden": false, "label": "SR 84"}, "SR 73": {"type": "sensor_relay", "x": 94820.4791819971, "y": -79640.89634633223, "grid": "I16", "hidden": false, "label": "SR 73"}, "SR 39": {"type": "sensor_relay", "x": 61424.45294742919, "y": -102909.60776608533, "grid": "G15", "hidden": false, "label": "SR 39"}, "SR 29": {"type": "sensor_relay", "x": 28028.426712861285, "y": -126178.31918583842, "grid": "F13", "hidden": false, "label": "SR 29"}};
        console.log("[DEBUG JS] objData keys:", Object.keys(objData));
        console.log("[DEBUG JS] objData sample:", objData[Object.keys(objData)[0]]);

    function clearAnnotations() {
        Plotly.relayout('plot', {annotations: []});
        document.getElementById('info').innerHTML = getInfoHeader() + 'Select an object';
        document.getElementById('galactic-map-btn').addEventListener('click', function() {
            window.location.href = 'index.html';
        });
        document.getElementById('galactic-map-btn').addEventListener('click', function() {
            window.location.href = 'index.html';
        });
    }
    
    function getInfoHeader() {
    return '<img src="Images/Compass.png" alt="Compass" '
         + 'style="display:block; max-width:100%; height:auto; margin-bottom:10px;">'
         + '<button id="galactic-map-btn" title="Back to Galactic Map">Galactic Map</button>';
        }
    
    function highlight(name) {
        var obj = objData[name];
        if (obj.hidden && !isGM()) {
            alert("This object is not visible on the public map.");
            return;
        }
        var annotation = {
            x: obj.x, y: obj.y, xref: 'x', yref: 'y', text: name,
            showarrow: true, arrowcolor: 'yellow', arrowwidth: 2,
            arrowhead: 3, font: {color: 'yellow', size: 28}
        };

        Plotly.relayout('plot', {annotations: [annotation]});

        var label = obj.label || name;
        var infoHtml = '<span style="font-size:20pt;">' + label + '</span><br>';
        infoHtml += '<b>Location:</b> ' + obj.grid + '<br>';

        if (obj.type === 'station') {
            // Station selected: display detailed station info
            if (obj.hullImage) {
                infoHtml += '<img src="' + obj.hullImage + '" alt="Hull Art" style="max-width:48%; height:auto;">';
            }
            if (obj.sides && obj.sides.length > 0) {
                infoHtml += '<img src="Images/Factions/' + obj.sides[0] + '.png" alt="Faction Logo" style="max-width:48%; height:auto;">';
            }
            infoHtml += '<b>Facilities:</b> ' + (obj.facilities.length ? obj.facilities.join(', ') : 'None') + '<br>';
            if (obj.hullName && obj.hullImage) {
                infoHtml += '<b>General Class:</b> ' + obj.hullName + '<br>';
            }
            if (obj.hullDescription) {
                infoHtml += '<p class="hull-desc">' + obj.hullDescription + '</p>';
            }
        } 
        else if ((obj.type === 'jump_point' || obj.type === 'jumppoint' || obj.type === 'jumpnode') && obj.destinations && typeof obj.destinations === 'object') {
        
            // Generate a random 5-character alphanumeric serial
            const serial = Math.random().toString(36).substring(2, 7).toUpperCase();
            infoHtml += 'Oliver Class jump stabilisation node. Serial: ' + serial;
            infoHtml += '<br><br><b>Destinations:</b><br>';
            for (const [target, label] of Object.entries(obj.destinations)) {
                if (typeof target === 'string' && typeof label === 'string') {
                    let file = label + '.html';
                    // Correctly escape single quotes for JS string
                    infoHtml += `<button onclick="window.open('${file}', '_blank')">${label}, ${target}</button>`;
                }
            }
            }
        else if (obj.type === 'sensor_relay') {
            // Generate a random 5-character alphanumeric serial
            const serial = Math.random().toString(36).substring(2, 7).toUpperCase();
            infoHtml += 'Standard sensor and info relay buoy, Serial: ' + serial;
        }
        else if (obj.type === 'jumpnode' || obj.type === 'jumppoint') {
            // Generate a random 5-character alphanumeric serial
            const serial = Math.random().toString(36).substring(2, 7).toUpperCase();
            infoHtml += 'Oliver Class jump stabilisation node. Serial: ' + serial;
        }
        else if (obj.type === 'planet') {
            if (obj['class']) {
                infoHtml += '<b>Class:</b> ' + obj['class'] + '<br>';
            }
        }
        else {
            infoHtml += '<b>Type:</b> ' + obj.type;
        }

            // ——— append a description paragraph if one exists ———
            if (obj.description) {
                infoHtml += '<p class="desc-text">'
                          + obj.description
                          + '</p>';
            }
            document.getElementById('info').innerHTML = getInfoHeader() + infoHtml;
            document.getElementById('galactic-map-btn').addEventListener('click', function() {
                window.location.href = 'index.html';
            });
                + infoHtml;
         
    }
         document.getElementById('galactic-map-btn').addEventListener('click', function() {
        window.location.href = 'index.html';
    });
    

    var fig = {"data": [{"type": "scatter", "x": [-15204.403653571007, 61152.898019226646, 24416.535988157764, -51940.76568463989, -15204.403653571007], "y": [252023.0420518234, 353345.96778169746, 381030.6152369612, 279707.68950708717, 252023.0420518234], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-104812.9644660195, 2919.871130654001, -23551.432596589286, -131284.2681932628, -104812.9644660195], "y": [201476.00556991968, 265192.7635137742, 309950.66872592684, 246233.91078207226, 201476.00556991968], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-214358.00522190027, -109358.00522190027, -108405.8941040487, -213405.8941040487, -214358.00522190027], "y": [212193.95803444658, 209693.95803444658, 249682.62498421205, 252182.62498421205, 212193.95803444658], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-307190.75195337215, -219690.75195337215, -191406.48070591025, -278906.48070591025, -307190.75195337215], "y": [303046.1558855984, 215546.1558855984, 243830.4271330603, 331330.4271330603, 303046.1558855984], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [78587.79695733957, 71921.13029067291, 11981.637050044803, 18648.30371671146, 78587.79695733957], "y": [351035.24641361315, 499368.5797469464, 496674.6699383788, 348341.33660504554, 351035.24641361315], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [44915.55701901745, 9915.557019017444, 28987.210321700277, 63987.21032170027, 44915.55701901745], "y": [451866.27185536694, 341032.9385220337, 335010.31116329174, 445843.644496625, 451866.27185536694], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-266791.3371095758, -322553.7107711747, -340754.4395187364, -284992.0658571375, -266791.3371095758], "y": [234266.59449043218, 266942.40402070584, 235882.24508586328, 203206.43555558962, 234266.59449043218], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-242712.2364570648, -310289.5058134071, -297589.92842870887, -230012.6590723666, -242712.2364570648], "y": [282704.49702826416, 227159.51418805058, 211708.92409413954, 267253.9069343531, 282704.49702826416], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-287752.9742476414, -349642.1203381764, -345209.698266397, -283320.552175862, -287752.9742476414], "y": [224469.0678607609, 210403.35284018476, 190900.69572435558, 204966.41074493172, 224469.0678607609], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-300907.84477152396, -329039.27481267625, -346522.420335107, -318390.99029395473, -300907.84477152396], "y": [188629.5955693651, 239266.1696434392, 229553.31101986658, 178916.73694579248, 188629.5955693651], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-199387.25701260316, -223487.8528482372, -239050.22956056852, -214949.63372493448, -199387.25701260316], "y": [-64535.91409381107, -34679.81259014653, -47242.15437277161, -77098.25587643616, -64535.91409381107], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-13787.844186717313, -49581.43681586758, -65339.0817757663, -29545.48914661603, -13787.844186717313], "y": [-340508.40747031546, -294714.4008764082, -307030.91926911066, -352824.9258630179, -340508.40747031546], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-157896.04280576666, -51993.26502798886, -51228.796773521884, -157131.5745512997, -157896.04280576666], "y": [-107457.85225614921, -111508.77818207514, -91523.3938152957, -87472.46788936977, -107457.85225614921], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [74399.00907616148, 131897.00290332202, 89182.47850504407, 31684.484677883538, 74399.00907616148], "y": [-218766.168311483, -124267.55720037186, -98277.76294514701, -192776.37405625812, -218766.168311483], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [51620.86831120317, -61226.353911019076, -46386.139989256975, 66461.08223296527, 51620.86831120317], "y": [35384.76973021209, -89518.77965250399, -102926.54049301491, 21977.008889701152, 35384.76973021209], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [53099.61724739286, 53099.61724739286, -46900.38275260714, -46900.38275260714, 53099.61724739286], "y": [-101527.44402337674, 45559.74733464798, 45559.74733464798, -101527.44402337674, -101527.44402337674], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-115126.95886455721, -119177.88479048313, -139136.76960362023, -135085.8436776943, -115126.95886455721], "y": [-133282.61178365265, -70203.90807994895, -71485.67132482931, -134564.37502853302, -133282.61178365265], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [108188.01538807496, 91521.3487214083, 73059.81025986983, 89726.47692653649, 108188.01538807496], "y": [-258367.08046314135, -218367.08046314135, -226059.38815544904, -266059.38815544907, -258367.08046314135], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [80501.54247726308, 85501.54247726308, 65746.28317068171, 60746.2831706817, 80501.54247726308], "y": [-179606.1933773586, -147939.52671069198, -144820.27524123178, -176486.9419078984, -179606.1933773586], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-62478.10498472576, 1090.492440717535, -19396.373513039063, -82964.97093848235, -62478.10498472576], "y": [233427.87235512602, 277421.99313431996, 307024.1606798361, 263030.0399006421, 233427.87235512602], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-30387.87079661248, -35039.23158384004, -54587.51489263738, -49936.15410540982, -30387.87079661248], "y": [259257.392228679, 280769.9358696064, 276543.28001905564, 255030.7363781282, 259257.392228679], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-130695.37543437011, -61733.18407634542, -66869.6091076334, -135831.8004656581, -130695.37543437011], "y": [218205.60883115666, 236531.22611510727, 255860.40452232255, 237534.78723837194, 218205.60883115666], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [163449.33355798785], "y": [-39973.627900662985], "mode": "markers+text", "marker": {"symbol": "circle", "size": 50, "color": "#98FB98"}, "text": ["Ashia III"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "hovertext": ["Ashia III [K20]"], "hoverinfo": "text", "meta": {"base_marker_size": 50, "base_text_size": 14}}, {"type": "scatter", "x": [-84252.15865733812, -69252.15865733812, -137414.50800932857, -152414.50800932857, -84252.15865733812], "y": [-322133.6945130032, -257967.0278463366, -242032.97215366352, -306199.63882033015, -322133.6945130032], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [633.3333333333258], "y": [-304733.33333333326], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "#50CC50", "line": {"color": "#50CC50", "width": 5}}, "hovertext": ["Lightening Gate [W12]"], "hoverinfo": "text", "text": ["Lightening Gate"], "textposition": "top center", "textfont": {"color": "#50CC50", "size": 20}, "meta": {"base_marker_size": 16, "base_text_size": 20}}, {"type": "scatter", "x": [4366.666666666697], "y": [316700.0], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "#50CC50", "line": {"color": "#50CC50", "width": 5}}, "hovertext": ["Apollo Gate [B12]"], "hoverinfo": "text", "text": ["Apollo Gate"], "textposition": "top center", "textfont": {"color": "#50CC50", "size": 20}, "meta": {"base_marker_size": 16, "base_text_size": 20}}, {"type": "scatter", "x": [-3226.7160215858803], "y": [274559.9843948346], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 55 [Z11]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [12952.402962024693], "y": [274645.5027973124], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 82 [Z12]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [4638.218251750669], "y": [274544.2645181], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Apollo Customs [Z12]"], "hoverinfo": "text", "text": ["Apollo Customs"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [5724.765193096176], "y": [273876.8320654646], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 97 [Z12]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [3335.8832552487106], "y": [273876.8320654646], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 87 [Z12]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [4421.793904223546], "y": [188683.89742218982], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Ashia Command [V12]"], "hoverinfo": "text", "text": ["Ashia Command"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [356.45860672780066], "y": [188389.5083771662], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Viper Depot [V12]"], "hoverinfo": "text", "text": ["Viper Depot"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [9162.234352033145], "y": [188810.47430362468], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Pegasus Slips [V12]"], "hoverinfo": "text", "text": ["Pegasus Slips"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [2379.7568126919145], "y": [185889.87231965648], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Sphinx Slips [V12]"], "hoverinfo": "text", "text": ["Sphinx Slips"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [7578.612964163187], "y": [186405.58234946922], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Blackhawk R&R [V12]"], "hoverinfo": "text", "text": ["Blackhawk R&R"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [2106.576894788029], "y": [191657.5167532048], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 93 [V12]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [6556.5681393126415], "y": [191735.76390498033], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 70 [V12]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-1313.5087511131999], "y": [188979.44488114546], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 72 [V11]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [4320.64676267799], "y": [190196.42247212434], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 36 [V12]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [10675.974182234453], "y": [189700.61678691072], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 45 [V12]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [44151.743752663395], "y": [300245.1330731154], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 22 [B14]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [39731.09046048233], "y": [345255.421138959], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 1 [D13]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [9992.150131264216], "y": [363339.91187969974], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 92 [E12]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-24971.19863416789], "y": [350881.7071471895], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 9 [D10]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-37831.28093869464], "y": [319937.134101922], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 24 [B10]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-24971.19863416789], "y": [284973.78533648985], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 76 [A10]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-10905.483613591756], "y": [372181.2184640619], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 78 [E11]"], "hoverinfo": "text", "text": ["DS 78"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-48218.69984873122], "y": [326261.1242282366], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 27 [C09]"], "hoverinfo": "text", "text": ["DS 27"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [55445.24774405193], "y": [296734.28595091606], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 90 [A14]"], "hoverinfo": "text", "text": ["DS 90"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [49376.15218887741], "y": [337790.9173476162], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 93 [C14]"], "hoverinfo": "text", "text": ["DS 93"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-288291.5082185825], "y": [263503.9753844612], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Valti [Z97]"], "hoverinfo": "text", "text": ["Valti"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-288433.5390993862], "y": [247612.30121341534], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["M 303 [Y97]"], "hoverinfo": "text", "text": ["M 303"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-284057.9537606599], "y": [260354.56770753305], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Valti SM [Z97]"], "hoverinfo": "text", "text": ["Valti SM"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-295835.95823052595], "y": [255441.52313299588], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["M 229 [Y97]"], "hoverinfo": "text", "text": ["M 229"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-288261.64547740493], "y": [255856.50275569895], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 60 [Y97]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-325744.5909300182], "y": [183822.51329292957], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 661 [V95]"], "hoverinfo": "text", "text": ["DS 661"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-206903.23230700183], "y": [-43312.54478372639], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Cenotes Market [J01]"], "hoverinfo": "text", "text": ["Cenotes Market"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-291865.0376624622], "y": [260544.64051052864], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Valti Foundry [Z97]"], "hoverinfo": "text", "text": ["Valti Foundry"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-211096.42065633665], "y": [-41038.870047281715], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Centores SM1 [J01]"], "hoverinfo": "text", "text": ["Centores SM1"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-206890.54610191358], "y": [-47815.00127385221], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Cenotes SM2 [J01]"], "hoverinfo": "text", "text": ["Cenotes SM2"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-218432.71206430363], "y": [-56846.10435412006], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Altun Ha Denabite [J01]"], "hoverinfo": "text", "text": ["Altun Ha Denabite"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-143598.9090363591], "y": [-83886.22649506082], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 55 [H04]"], "hoverinfo": "text", "text": ["DS 55"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-150405.4003216688], "y": [-86477.03445354656], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 55 AM [H04]"], "hoverinfo": "text", "text": ["DS 55 AM"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [137698.56014707327], "y": [-76265.68753456826], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Tazumal Exchange [I18]"], "hoverinfo": "text", "text": ["Tazumal Exchange"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [200491.9307746453], "y": [-62311.6051728856], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Ashia Authority [I22]"], "hoverinfo": "text", "text": ["Ashia Authority"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [198863.95449911564], "y": [-13472.316906996231], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Doragn Orbital [L21]"], "hoverinfo": "text", "text": ["Doragn Orbital"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [127232.99837581125], "y": [-13704.884946357608], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Maxi Logen Orbital [L18]"], "hoverinfo": "text", "text": ["Maxi Logen Orbital"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [172351.1980119186], "y": [16.62937596368892], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 10 [M20]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [120023.38915560854], "y": [-45334.13829950501], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 14 [J18]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [171188.3578151117], "y": [-81149.61636115721], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 23 [H20]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [201779.60371398553], "y": [-62623.63831003403], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 56 [I22]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [199661.38134512634], "y": [-63225.62444764224], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 62 [I21]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [19807.91443089913], "y": [-184431.42523571049], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Indigo Mining [C12]"], "hoverinfo": "text", "text": ["Indigo Mining"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [6087.0865602098], "y": [-188358.0998963548], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Transit Auth R [C12]"], "hoverinfo": "text", "text": ["Transit Auth R"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [4689.566349781227], "y": [-168854.50529163878], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Casey Reasearch Inst [D12]"], "hoverinfo": "text", "text": ["Casey Reasearch Inst"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [48666.66666666669], "y": [316233.3333333334], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 76 [B14]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [28390.37441697637], "y": [359749.08337772795], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 79 [D13]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-6346.77536136745], "y": [360105.08938151546], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 62 [E11]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-36876.932388942165], "y": [335758.1015936235], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 57 [C10]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-36876.932388942165], "y": [296708.5650730433], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 22 [A10]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-6346.775361367461], "y": [272361.5772851513], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 33 [Z11]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [31723.7077503097], "y": [281050.916622272], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 15 [A13]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [52000.00000000003], "y": [187900.00000000003], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 11 [V14]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [35057.04108364304], "y": [223082.41671106138], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 27 [X13]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-3013.4420280341164], "y": [231771.75604818208], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 21 [X11]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-33543.59905560883], "y": [207424.76826029015], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 19 [W10]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-33543.59905560883], "y": [168375.2317397099], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 66 [U10]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-3013.4420280341274], "y": [144028.24395181797], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 83 [T11]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [35057.04108364303], "y": [152717.58328893868], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 12 [T13]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-210199.8941823998], "y": [-45534.17679085221], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 42 [J01]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-165199.8941823998], "y": [-45534.17679085221], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 78 [J03]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-182142.85309875678], "y": [-10351.760079790867], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 48 [L02]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-220213.33621043395], "y": [-1662.4207426701469], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 49 [L00]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-917463.4932380086], "y": [86310.59146943792], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 37 [Q66]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-250743.49323800864], "y": [-65058.94505114232], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 77 [I99]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-220213.33621043395], "y": [-89405.93283903427], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 35 [H00]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-182142.85309875678], "y": [-80716.59350191356], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 72 [H02]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [2245.074477103326], "y": [122073.62885476722], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 92 [S12]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [2245.074477103326], "y": [77695.4470365854], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 50 [P12]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [2245.074477103326], "y": [33317.2652184036], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 60 [N12]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [2245.074477103326], "y": [-11060.916599778226], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 10 [L12]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [2245.074477103326], "y": [-55439.09841796005], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 61 [J12]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [2245.074477103326], "y": [-99817.28023614184], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 36 [H12]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [2245.074477103326], "y": [-144195.46205432367], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 80 [E12]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [2245.074477103326], "y": [-188573.6438725055], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 18 [C12]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [2245.074477103326], "y": [-232951.82569068737], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 25 [A12]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [4578.354061016284], "y": [184353.90801634194], "mode": "markers+text", "marker": {"symbol": "circle", "size": 6, "color": "#FF13F0"}, "hovertext": ["Fleet Base Viper [V12]"], "hoverinfo": "text", "text": ["Fleet Base Viper"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 6, "base_text_size": 14}}, {"type": "scatter", "x": [45409.46854673754], "y": [-305673.9371503772], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 64 [W14]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [28466.509630380548], "y": [-270491.5204393159], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 87 [Y13]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-9603.97348129661], "y": [-261802.18110219514], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 70 [Y11]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-40134.13050887132], "y": [-286149.16889008705], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 68 [X09]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-40134.13050887132], "y": [-325198.7054106673], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 17 [V09]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-9603.973481296622], "y": [-349545.6931985593], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 97 [U11]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [28466.509630380537], "y": [-340856.3538614386], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 86 [U13]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-139952.2421791727], "y": [-77316.95460989974], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 26 [I05]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [209097.92762154364], "y": [-42175.6633861915], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 43 [J22]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [192154.96870518665], "y": [-6993.246675130162], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 82 [L21]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [154084.48559350948], "y": [1696.0926619905586], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 94 [M19]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [123554.32856593479], "y": [-22650.895125901385], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 47 [K18]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [154084.48559350948], "y": [-86047.41943437356], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 99 [H19]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [192154.96870518665], "y": [-77358.08009725285], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 67 [I21]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [128216.505416565], "y": [-56372.18492657914], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 84 [J18]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [94820.4791819971], "y": [-79640.89634633223], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 73 [I16]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [61424.45294742919], "y": [-102909.60776608533], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 39 [G15]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [28028.426712861285], "y": [-126178.31918583842], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 29 [F13]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}], "layout": {"title": "Ashia", "paper_bgcolor": "black", "plot_bgcolor": "black", "font": {"color": "white"}, "margin": {"l": 0, "r": 0, "t": 40, "b": 0}, "autosize": true, "dragmode": "pan", "hovermode": "closest", "xaxis": {"color": "white", "showgrid": true, "gridcolor": "gray", "dtick": 20000, "title": "X Axis"}, "yaxis": {"color": "white", "showgrid": true, "gridcolor": "gray", "dtick": 20000, "scaleanchor": "x", "scaleratio": 1, "title": "Z Axis"}, "shapes": []}};
    fig.layout.showlegend = false;
    fig.layout.dragmode = 'pan';
    fig.layout.title = 'Ashia';
    if (!isGM()) {
        fig.data = fig.data.filter(t => !t.gmOnly);
        }
    Plotly.newPlot('plot', fig.data, fig.layout, {responsive: true, scrollZoom: true});
        console.log("[DEBUG JS] Plotted traces count:", fig.data.length);
        console.log("[DEBUG JS] fig.data sample:", fig.data.slice(0,3));

    var plotDiv = document.getElementById('plot');
    // Use Plotly's built-in nearest-point selection for accurate clicks
    plotDiv.on('plotly_click', function(ev) {
        if (!ev || !ev.points || !ev.points.length) return;
        var p = ev.points[0];
        var picked = null;
        // Prefer original name from hovertext: "Name [Grid]"
        if (p.hovertext && typeof p.hovertext === 'string') {
            picked = p.hovertext.split(' [')[0];
        } else if (p.text && typeof p.text === 'string') {
            // Fallback to text label (strip any ** used for GM marking)
            picked = p.text.replace(/\*/g, '');
        }
        if (picked && objData[picked]) {
            highlight(picked);
        }
    });

    // ——— Auto-scale markers based on current zoom/span (optimized: planets & blackholes only) ———
    (function() {
        var refSpan = null;
        var planetIdx = [22];
        var bhIdx = [];
        function rescaleMarkers() {
            try {
                var full = plotDiv._fullLayout || {};
                var xaxis = full.xaxis || (fig.layout && fig.layout.xaxis);
                if (!xaxis || !xaxis.range) return;
                var curr = Math.abs(xaxis.range[1] - xaxis.range[0]);
                if (!curr) return;
                if (!refSpan) refSpan = curr;
                var scale = refSpan / curr;
                var indices = [];
                var markerSizes = [];
                var textSizes = [];
                function pushForIndex(i) {
                    var t = fig.data[i];
                    if (!t || !t.meta || !t.meta.base_marker_size) return;
                    var base = t.meta.base_marker_size;
                    var baseText = t.meta.base_text_size || (t.textfont && t.textfont.size) || 12;
                    var newMarker = Math.max(2, Math.round(base * scale));
                    var newText = Math.max(8, Math.round(baseText * Math.sqrt(scale)));
                    indices.push(i);
                    markerSizes.push(newMarker);
                    textSizes.push(newText);
                }
                planetIdx.forEach(pushForIndex);
                bhIdx.forEach(pushForIndex);
                if (indices.length) {
                    Plotly.restyle(plotDiv, {'marker.size': [markerSizes], 'textfont.size': [textSizes]}, indices);
                }
            } catch (e) { console.error(e); }
        }
        // initial scale after plot settles
        setTimeout(rescaleMarkers, 250);
        plotDiv.on('plotly_relayout', rescaleMarkers);
    })();

  var ctrl = document.getElementById('object-buttons');

  // Helper: create and append a single button
function addButton(label, fn, header, color, isHidden) {
    if (isHidden && !isGM()) return;
    var btn = document.createElement('button');
    btn.textContent = label;
    if (header) {
      btn.className = 'header';     // section header style
      btn.onclick = null;           // no click action
    } else {
      btn.onclick = fn;             // bind the handler
      if (color) btn.style.backgroundColor = color;
    }
    ctrl.appendChild(btn);
  }
  
  function enterGMMode() {
    const pw = prompt("Enter ONI Auth Code: --We will store a cookie for the purpose of tracking if you have authenticated or not--");
    if (pw === "oni1") {
      document.cookie = "gmMode=1; path=/; max-age=31536000";
      location.reload();
    } else {
      alert("Incorrect password.");
    }
  }

  function isGM() {
    return document.cookie.split(';').some(c => c.trim() === 'gmMode=1');
  }

  function exitGMMode() {
    document.cookie = "gmMode=; path=/; expires=Thu, 01 Jan 1970 00:00:00 UTC;";
    location.reload();
  }

  function renderGMControls() {
    const div = document.getElementById('gm-controls');
    div.innerHTML = '';
    const btn = document.createElement('button');
    btn.style.width = '100%';
    if (isGM()) {
      btn.textContent = 'ONI Logout';
      btn.onclick = exitGMMode;
    } else {
      btn.textContent = 'ONI Login';
      btn.onclick = enterGMMode;
    }
    div.appendChild(btn);
  }

  renderGMControls();

  // ——— Populate the sidebar ———
  addButton('None', clearAnnotations, false, null);

  addButton('--- Gates ---', null, true, null);
  addButton('Apollo Gate',function(){highlight('Apollo Gate');},false,null,false)
    addButton('Lightening Gate',function(){highlight('Lightening Gate');},false,null,false)

  addButton('--- Nav Points/POI ---', null, true, null);
  addButton('Fleet Base Viper',function(){highlight('Fleet Base Viper');},false,null,false)

    addButton('--- Planets ---', null, true, null);
    addButton('Ashia III',function(){highlight('Ashia III');},false,null,false)

    addButton('--- Stations ---', null, true, null);
    addButton('Altun Ha Denabite',function(){highlight('Altun Ha Denabite');},false,'blue',false)
    addButton('Apollo Customs',function(){highlight('Apollo Customs');},false,'blue',false)
    addButton('Ashia Authority',function(){highlight('Ashia Authority');},false,'blue',false)
    addButton('Ashia Command',function(){highlight('Ashia Command');},false,'blue',false)
    addButton('Blackhawk R&R',function(){highlight('Blackhawk R&R');},false,'blue',false)
    addButton('Casey Reasearch Inst',function(){highlight('Casey Reasearch Inst');},false,'blue',false)
    addButton('Cenotes Market',function(){highlight('Cenotes Market');},false,'blue',false)
    addButton('Cenotes SM2',function(){highlight('Cenotes SM2');},false,'blue',false)
    addButton('Centores SM1',function(){highlight('Centores SM1');},false,'blue',false)
    addButton('DS 27',function(){highlight('DS 27');},false,'blue',false)
    addButton('DS 55',function(){highlight('DS 55');},false,'blue',false)
    addButton('DS 55 AM',function(){highlight('DS 55 AM');},false,'blue',false)
    addButton('DS 661',function(){highlight('DS 661');},false,'blue',false)
    addButton('DS 78',function(){highlight('DS 78');},false,'blue',false)
    addButton('DS 90',function(){highlight('DS 90');},false,'blue',false)
    addButton('DS 93',function(){highlight('DS 93');},false,'blue',false)
    addButton('Doragn Orbital',function(){highlight('Doragn Orbital');},false,'blue',false)
    addButton('Indigo Mining',function(){highlight('Indigo Mining');},false,'blue',false)
    addButton('M 229',function(){highlight('M 229');},false,'blue',false)
    addButton('M 303',function(){highlight('M 303');},false,'blue',false)
    addButton('Maxi Logen Orbital',function(){highlight('Maxi Logen Orbital');},false,'blue',false)
    addButton('Pegasus Slips',function(){highlight('Pegasus Slips');},false,'blue',false)
    addButton('Sphinx Slips',function(){highlight('Sphinx Slips');},false,'blue',false)
    addButton('Tazumal Exchange',function(){highlight('Tazumal Exchange');},false,'blue',false)
    addButton('Transit Auth R',function(){highlight('Transit Auth R');},false,'blue',false)
    addButton('Valti',function(){highlight('Valti');},false,'blue',false)
    addButton('Valti Foundry',function(){highlight('Valti Foundry');},false,'blue',false)
    addButton('Valti SM',function(){highlight('Valti SM');},false,'blue',false)
    addButton('Viper Depot',function(){highlight('Viper Depot');},false,'blue',false)
    
  // Search filter
  document.getElementById('search-box').addEventListener('input', function() {
    const query = this.value.toLowerCase();
    const buttons = document.querySelectorAll('#object-buttons button');
    buttons.forEach(btn => {
      const label = btn.textContent.toLowerCase();
      const isHeader = btn.classList.contains('header');
      if (isHeader) {
        btn.style.display = ''; // always show section headers
      } else {
        btn.style.display = label.includes(query) ? '' : 'none';
      }
    });
  });
</script>
</body>
</html>