
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mria.html</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body { margin: 0; background: black; color: white; display: flex; height: 100vh; }
        /* === Description typography controls ===
           Tweak these two variables to change description sizes globally */
        :root {
            --desc-font-size: 130%;
            --hull-desc-font-size: 130%;
        }
        .desc-text { font-size: var(--desc-font-size); margin-top: 8px; }
        .hull-desc { font-size: var(--hull-desc-font-size); margin-top: 5px; color: #ccc; }
        #controls { flex: 1; min-width: 200px; max-width: 350px; overflow-y: auto; background: #333; padding: 10px; }
        #plot { flex: 3; min-width: 400px; }
        #info { flex: 1; min-width: 200px; background: #333; padding: 10px; overflow-y: auto; }
        h2.header { margin-top: 0; margin-bottom: 5px; text-align: center; }
        h3.subheader { margin-top: 0; margin-bottom: 15px; text-align: center; color: #ccc; }
        .alignment-image { display: block; max-width: 100%; height: auto; margin: 10px auto; }
        button { display: block; width: 100%; margin-bottom: 5px; background: #555; color: white; border: none; padding: 5px; text-align: left; cursor: pointer; font-size: 20px; }
        button.header { background: #444; cursor: default; font-size: 24px; }
    </style>
</head>
<body>
    <div id="controls">
        <div id="gm-controls" style="margin-bottom:10px;"></div>
        <h2 class="header">Mria</h2>
        <h3 class="subheader">Alignment: USFP</h3>
        <img src="Images/Factions/USFP.png" alt="Alignment Logo" class="alignment-image" onerror="this.style.display='none';">

        <input type="text" id="search-box" placeholder="Search objects..." style="width: 95%; padding: 6px; margin-bottom: 10px; font-size: 16px;">
        <div id="object-buttons">
    </div>
    </div>
    <div id="plot"></div>
    <div id="info">
        <img src="Images/Compass.png" alt="Compass" style="display:block; max-width:100%; height:auto; margin-bottom:10px;">
        <button id="galactic-map-btn" title="Back to Galactic Map">Show Galactic Map</button>
        Select an object
    </div>
<script>
    var objData = {"Planet Mria IV": {"type": "planet", "x": -15819.817547722436, "y": -30522.782245811184, "grid": "K11", "hidden": false}, "Planet Ayala": {"type": "planet", "x": 122973.17113540506, "y": 165157.5426856017, "grid": "U18", "hidden": false}, "Eulis Gate": {"type": "jumpnode", "x": -92990.1333333334, "y": 266464.0, "grid": "Z07", "hidden": false, "label": "Eulis Gate", "destinations": {"Mria Gate": "Eulis"}}, "Loria Gate": {"type": "jumpnode", "x": -181716.80000000008, "y": 60698.666666666686, "grid": "P02", "hidden": false, "label": "Loria Gate", "destinations": {"Mria Gate": "Loria"}}, "Khoros Gate": {"type": "jumpnode", "x": -43745.97597148317, "y": -124466.50930481635, "grid": "F09", "hidden": false, "label": "Khoros Gate", "destinations": {"Mria Gate": "Khoros"}}, "Tibur Gate": {"type": "jumpnode", "x": 143147.1999999999, "y": 76250.66666666669, "grid": "P19", "hidden": false, "label": "Tibur Gate", "destinations": {"Mria Gate": "Tibur"}}, "Mria Command": {"type": "station", "x": 2229.822003547825, "y": 37003.32380761107, "grid": "N12", "hidden": false, "label": "Mria Command", "hull": "starbase_command", "facilities": ["Docking", "Refuel", "Repair"], "sides": ["USFP"], "hullName": "Command Starbase", "hullImage": "Images/Ships/tsn-big-base256.png", "hullDescription": ""}, "WP 44": {"type": "platform", "x": -98495.32886612187, "y": 261370.1437839232, "grid": "Z07", "hidden": false, "label": "WP 44"}, "WP 64": {"type": "platform", "x": -95749.73395699449, "y": 274613.60158089054, "grid": "Z07", "hidden": false, "label": "WP 64"}, "WP 76": {"type": "platform", "x": -85574.8822349342, "y": 270414.4564257546, "grid": "Z07", "hidden": false, "label": "WP 76"}, "WP 82": {"type": "platform", "x": -91389.08321896866, "y": 264277.2442759404, "grid": "Z07", "hidden": false, "label": "WP 82"}, "WP 37": {"type": "platform", "x": -86705.42131516313, "y": 256524.97629722784, "grid": "Y07", "hidden": false, "label": "WP 37"}, "WP 97": {"type": "platform", "x": -52469.16228700173, "y": -124661.86692741388, "grid": "F09", "hidden": false, "label": "WP 97"}, "WP 53": {"type": "platform", "x": -35561.65042697543, "y": -123400.00071233253, "grid": "F10", "hidden": false, "label": "WP 53"}, "WP 36": {"type": "platform", "x": -43247.49674235447, "y": -131994.52362897582, "grid": "F09", "hidden": false, "label": "WP 36"}, "WP 80": {"type": "platform", "x": -43646.483656875294, "y": -126788.58556938994, "grid": "F09", "hidden": false, "label": "WP 80"}, "WP 14": {"type": "platform", "x": -44858.71016733903, "y": -114125.89154669803, "grid": "G09", "hidden": false, "label": "WP 14"}, "WP 39": {"type": "platform", "x": -292.0137671977796, "y": 45059.6538525678, "grid": "O11", "hidden": false, "label": "WP 39"}, "WP 83": {"type": "platform", "x": -859.7381921721627, "y": 31105.05467301988, "grid": "N11", "hidden": false, "label": "WP 83"}, "WP 25": {"type": "platform", "x": 11674.128675810363, "y": 33663.30310599502, "grid": "N12", "hidden": false, "label": "WP 25"}, "Customs": {"type": "station", "x": -110288.98304999148, "y": 229382.84350160402, "grid": "X06", "hidden": false, "label": "Customs", "hull": "starbase_command", "facilities": ["Docking", "Repair"], "sides": ["USFP"], "hullName": "Command Starbase", "hullImage": "Images/Ships/tsn-big-base256.png", "hullDescription": ""}, "Jetel Traders": {"type": "station", "x": -120335.92235040301, "y": 222405.80232076268, "grid": "X05", "hidden": false, "label": "Jetel Traders", "hull": "starbase_civil", "facilities": ["Docking", "Refuel"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "Ela Industries": {"type": "station", "x": -104707.35010531842, "y": 217940.49596502422, "grid": "W06", "hidden": false, "label": "Ela Industries", "hull": "starbase_industry", "facilities": ["Docking", "Refuel", "Repair"], "sides": ["USFP"], "hullName": "Industrial Starbase", "hullImage": "Images/Ships/industry_station256.png", "hullDescription": ""}, "Ufaqi Mining": {"type": "station", "x": -62330.00788124038, "y": 206918.27828473522, "grid": "W08", "hidden": false, "label": "Ufaqi Mining", "hull": "usfp_industrial_refinary", "facilities": [], "sides": ["USFP"], "hullName": "Refinary Unit", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialRefinary256.png", "hullDescription": ""}, "Precious Mining": {"type": "station", "x": -51694.11155522388, "y": 209898.37930021863, "grid": "W09", "hidden": false, "label": "Precious Mining", "hull": "usfp_industrial_unit", "facilities": [], "sides": ["USFP"], "hullName": "Industrial Unit", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialUnit256.png", "hullDescription": ""}, "Capara Processing": {"type": "station", "x": -38564.99971094254, "y": 206498.14842844443, "grid": "W10", "hidden": false, "label": "Capara Processing", "hull": "usfp_industrial_processor", "facilities": [], "sides": ["USFP"], "hullName": "Processor Unit", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialProcessor256.png", "hullDescription": ""}, "Jeketa Ores": {"type": "station", "x": -43762.68004989215, "y": 198689.67650688614, "grid": "V09", "hidden": false, "label": "Jeketa Ores", "hull": "usfp_industrial_refinary", "facilities": [], "sides": ["USFP"], "hullName": "Refinary Unit", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialRefinary256.png", "hullDescription": ""}, "DS 662": {"type": "station", "x": -54072.981120802724, "y": 217198.21630606247, "grid": "W09", "hidden": false, "label": "DS 662", "hull": "starbase_industry", "facilities": [], "sides": ["USFP"], "hullName": "Industrial Starbase", "hullImage": "Images/Ships/industry_station256.png", "hullDescription": ""}, "WP 15": {"type": "platform", "x": -58799.28049849116, "y": 213166.39093480038, "grid": "W09", "hidden": false, "label": "WP 15"}, "WP 20": {"type": "platform", "x": -45407.668246819536, "y": 204868.44942669728, "grid": "W09", "hidden": false, "label": "WP 20"}, "Oophedran": {"type": "station", "x": 30498.941025665845, "y": 185119.55743182937, "grid": "V13", "hidden": false, "label": "Oophedran", "hull": "starbase_civil", "facilities": ["Refuel", "Docking", "Repair"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "Premolar Mod": {"type": "station", "x": 47281.34843307325, "y": 200744.55743182937, "grid": "W14", "hidden": false, "label": "Premolar Mod", "hull": "usfp_industrial_assembly", "facilities": [], "sides": ["USFP"], "hullName": "Assembly Yard", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialAssembler256.png", "hullDescription": ""}, "Kazu": {"type": "station", "x": -178670.29765746175, "y": 156923.82697915446, "grid": "T03", "hidden": false, "label": "Kazu", "hull": "starbase_industry", "facilities": [], "sides": ["USFP"], "hullName": "Industrial Starbase", "hullImage": "Images/Ships/industry_station256.png", "hullDescription": ""}, "Tikee": {"type": "station", "x": -159187.27296610372, "y": 163112.74158820798, "grid": "U04", "hidden": false, "label": "Tikee", "hull": "usfp_industrial_unit", "facilities": [], "sides": ["USFP"], "hullName": "Industrial Unit", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialUnit256.png", "hullDescription": ""}, "Tergi Lodging": {"type": "station", "x": -168430.4571224823, "y": 76307.1860326524, "grid": "P03", "hidden": false, "label": "Tergi Lodging", "hull": "starbase_civil", "facilities": ["Refuel", "Repair", "Docking"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "Pargusan Foods": {"type": "station", "x": -204197.56103194732, "y": 66662.12430425735, "grid": "P01", "hidden": false, "label": "Pargusan Foods", "hull": "starbase_civil", "facilities": ["Refuel", "Docking"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "Mria Authority": {"type": "station", "x": -21792.039769944677, "y": -58078.33780136673, "grid": "J10", "hidden": false, "label": "Mria Authority", "hull": "starbase_command", "facilities": [], "sides": ["USFP"], "hullName": "Command Starbase", "hullImage": "Images/Ships/tsn-big-base256.png", "hullDescription": ""}, "WP 75": {"type": "platform", "x": -23491.178144430272, "y": -68421.05899478239, "grid": "I10", "hidden": false, "label": "WP 75"}, "Roshtic Market": {"type": "station", "x": 9702.837630604034, "y": -48979.829570914066, "grid": "J12", "hidden": false, "label": "Roshtic Market", "hull": "starbase_civil", "facilities": ["Refuel", "Docking"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "Hooke Labs": {"type": "station", "x": -157315.5522870915, "y": -31273.961086689138, "grid": "K04", "hidden": false, "label": "Hooke Labs", "hull": "starbase_science", "facilities": [], "sides": ["USFP"], "hullName": "Science Starbase", "hullImage": "Images/Ships/science_station256.png", "hullDescription": ""}, "Djakinti Wares": {"type": "station", "x": -171482.21895375813, "y": -9607.29442002247, "grid": "L03", "hidden": false, "label": "Djakinti Wares", "hull": "starbase_industry", "facilities": [], "sides": ["USFP"], "hullName": "Industrial Starbase", "hullImage": "Images/Ships/industry_station256.png", "hullDescription": ""}, "Elite Refining": {"type": "station", "x": -73219.29457104209, "y": 87332.54182826284, "grid": "Q08", "hidden": false, "label": "Elite Refining", "hull": "usfp_industrial_refinary", "facilities": [], "sides": ["USFP"], "hullName": "Refinary Unit", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialRefinary256.png", "hullDescription": ""}, "Cholander Ores": {"type": "station", "x": -51785.8240634975, "y": 62550.091553914404, "grid": "P09", "hidden": false, "label": "Cholander Ores", "hull": "usfp_industrial_processor", "facilities": [], "sides": ["USFP"], "hullName": "Processor Unit", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialProcessor256.png", "hullDescription": ""}, "Imidri Mining": {"type": "station", "x": -78912.56017460862, "y": 72262.13287764555, "grid": "P08", "hidden": false, "label": "Imidri Mining", "hull": "usfp_industrial_unit", "facilities": [], "sides": ["USFP"], "hullName": "Industrial Unit", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialUnit256.png", "hullDescription": ""}, "Missimon": {"type": "station", "x": -97331.94889202974, "y": 93025.80743182937, "grid": "Q07", "hidden": false, "label": "Missimon", "hull": "starbase_civil", "facilities": [], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "Oppia Central": {"type": "station", "x": -85610.5197082163, "y": 49489.07046337942, "grid": "O07", "hidden": false, "label": "Oppia Central", "hull": "starbase_industry", "facilities": ["Refuel", "Repair", "Docking"], "sides": ["USFP"], "hullName": "Industrial Starbase", "hullImage": "Images/Ships/industry_station256.png", "hullDescription": ""}, "Finaro Ltd": {"type": "station", "x": -49106.64025005443, "y": 91016.41957174706, "grid": "Q09", "hidden": false, "label": "Finaro Ltd", "hull": "starbase_civil", "facilities": ["Repair", "Refuel", "Docking"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "Ayala Hall": {"type": "station", "x": 104251.463316475, "y": 141738.68980494322, "grid": "T17", "hidden": false, "label": "Ayala Hall", "hull": "starbase_command", "facilities": [], "sides": ["USFP"], "hullName": "Command Starbase", "hullImage": "Images/Ships/tsn-big-base256.png", "hullDescription": ""}, "Elson Systems": {"type": "station", "x": 157299.30282264785, "y": 144551.83280905845, "grid": "T19", "hidden": false, "label": "Elson Systems", "hull": "starbase_industry", "facilities": ["Refuel", "Repair", "Docking"], "sides": ["USFP"], "hullName": "Industrial Starbase", "hullImage": "Images/Ships/industry_station256.png", "hullDescription": ""}, "Elson Shipyards": {"type": "station", "x": 153280.5271024832, "y": 130486.11778848231, "grid": "S19", "hidden": false, "label": "Elson Shipyards", "hull": "usfp_shipyard", "facilities": ["Repair"], "sides": ["USFP"], "hullName": "Ship Yard", "hullImage": "Images/Ships/TSN Mod/USFP/ShipYard256.png", "hullDescription": ""}, "Sheol Processing": {"type": "station", "x": 116307.79047696883, "y": 56138.76696543703, "grid": "O17", "hidden": false, "label": "Sheol Processing", "hull": "usfp_industrial_processor", "facilities": [], "sides": ["USFP"], "hullName": "Processor Unit", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialProcessor256.png", "hullDescription": ""}, "Shachat Denabite": {"type": "station", "x": 98223.29973622809, "y": 90700.23815885268, "grid": "Q16", "hidden": false, "label": "Shachat Denabite", "hull": "usfp_industrial_refinary", "facilities": [], "sides": ["USFP"], "hullName": "Refinary Unit", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialRefinary256.png", "hullDescription": ""}, "Capitol City": {"type": "station", "x": 91233.27916009641, "y": 120187.3523563836, "grid": "S16", "hidden": false, "label": "Capitol City", "hull": "starbase_civil", "facilities": ["Refuel", "Repair"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "Axitymy Mining": {"type": "station", "x": 53733.279160096405, "y": -54118.20319917197, "grid": "J14", "hidden": false, "label": "Axitymy Mining", "hull": "starbase_industry", "facilities": ["Repair", "Refuel", "Docking"], "sides": ["USFP"], "hullName": "Industrial Starbase", "hullImage": "Images/Ships/industry_station256.png", "hullDescription": ""}, "Pretara": {"type": "station", "x": 73177.72360454085, "y": -40229.31431028308, "grid": "J15", "hidden": false, "label": "Pretara", "hull": "starbase_civil", "facilities": ["Refuel"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "Sandinal Denabite": {"type": "station", "x": -145557.63019061234, "y": -50192.39515733386, "grid": "J04", "hidden": false, "label": "Sandinal Denabite", "hull": "usfp_industrial_storage", "facilities": [], "sides": ["USFP"], "hullName": "Storage Module", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialStorage256.png", "hullDescription": ""}, "SR 76": {"type": "sensor_relay", "x": -88323.4666666668, "y": 238150.6666666667, "grid": "X07", "hidden": false, "label": "SR 76"}, "SR 55": {"type": "sensor_relay", "x": -83323.4666666668, "y": 197317.33333333334, "grid": "V07", "hidden": false, "label": "SR 55"}, "SR 85": {"type": "sensor_relay", "x": -78323.4666666668, "y": 156484.0, "grid": "T08", "hidden": false, "label": "SR 85"}, "SR 12": {"type": "sensor_relay", "x": -73323.4666666668, "y": 115650.66666666669, "grid": "R08", "hidden": false, "label": "SR 12"}, "SR 48": {"type": "sensor_relay", "x": -63323.466666666805, "y": 33984.0, "grid": "N08", "hidden": false, "label": "SR 48"}, "SR 81": {"type": "sensor_relay", "x": -58323.466666666805, "y": -6849.333333333314, "grid": "L09", "hidden": false, "label": "SR 81"}, "SR 31": {"type": "sensor_relay", "x": -53323.466666666805, "y": -47682.666666666686, "grid": "J09", "hidden": false, "label": "SR 31"}, "SR 39": {"type": "sensor_relay", "x": -48323.466666666805, "y": -88516.0, "grid": "H09", "hidden": false, "label": "SR 39"}, "SR 90": {"type": "sensor_relay", "x": -141656.80000000016, "y": 64817.333333333336, "grid": "P04", "hidden": false, "label": "SR 90"}, "SR 59": {"type": "sensor_relay", "x": -100545.68888888905, "y": 66067.33333333334, "grid": "P06", "hidden": false, "label": "SR 59"}, "SR 87": {"type": "sensor_relay", "x": -18323.46666666682, "y": 68567.33333333334, "grid": "P11", "hidden": false, "label": "SR 87"}, "SR 60": {"type": "sensor_relay", "x": 22787.644444444275, "y": 69817.33333333334, "grid": "P13", "hidden": false, "label": "SR 60"}, "SR 73": {"type": "sensor_relay", "x": 63898.75555555543, "y": 71067.33333333334, "grid": "P15", "hidden": false, "label": "SR 73"}, "SR 30": {"type": "sensor_relay", "x": 105009.86666666652, "y": 72317.33333333334, "grid": "P17", "hidden": false, "label": "SR 30"}, "SR 18": {"type": "sensor_relay", "x": -123460.97807742647, "y": 261598.03354504242, "grid": "Z05", "hidden": false, "label": "SR 18"}, "SR 69": {"type": "sensor_relay", "x": -138580.97807742647, "y": 222358.03354504242, "grid": "X05", "hidden": false, "label": "SR 69"}, "SR 24": {"type": "sensor_relay", "x": -153700.97807742647, "y": 183118.03354504242, "grid": "V04", "hidden": false, "label": "SR 24"}, "SR 27": {"type": "sensor_relay", "x": -168820.97807742647, "y": 143878.03354504242, "grid": "T03", "hidden": false, "label": "SR 27"}, "SR 77": {"type": "sensor_relay", "x": -183940.97807742647, "y": 104638.03354504242, "grid": "R02", "hidden": false, "label": "SR 77"}, "SR 38": {"type": "sensor_relay", "x": -55780.978077426465, "y": 261598.03354504242, "grid": "Z09", "hidden": false, "label": "SR 38"}, "SR 29": {"type": "sensor_relay", "x": -21220.978077426465, "y": 233374.03354504242, "grid": "X10", "hidden": false, "label": "SR 29"}, "SR 44": {"type": "sensor_relay", "x": 13339.021922573535, "y": 205150.03354504242, "grid": "W12", "hidden": false, "label": "SR 44"}, "SR 74": {"type": "sensor_relay", "x": 47899.021922573535, "y": 176926.03354504242, "grid": "U14", "hidden": false, "label": "SR 74"}, "SR 10": {"type": "sensor_relay", "x": 82459.02192257353, "y": 148702.03354504242, "grid": "T16", "hidden": false, "label": "SR 10"}, "SR 51": {"type": "sensor_relay", "x": 117019.02192257353, "y": 120478.03354504242, "grid": "S17", "hidden": false, "label": "SR 51"}, "SR 83": {"type": "sensor_relay", "x": -168100.97807742647, "y": 25438.033545042435, "grid": "N03", "hidden": false, "label": "SR 83"}, "SR 66": {"type": "sensor_relay", "x": -149020.97807742647, "y": -4441.966454957565, "grid": "L04", "hidden": false, "label": "SR 66"}, "SR 91": {"type": "sensor_relay", "x": -129940.97807742647, "y": -34321.96645495757, "grid": "K05", "hidden": false, "label": "SR 91"}, "SR 68": {"type": "sensor_relay", "x": -110860.97807742647, "y": -64201.96645495757, "grid": "I06", "hidden": false, "label": "SR 68"}, "SR 13": {"type": "sensor_relay", "x": -91780.97807742647, "y": -94081.96645495757, "grid": "H07", "hidden": false, "label": "SR 13"}, "SR 93": {"type": "sensor_relay", "x": -2500.978077426471, "y": -91201.96645495757, "grid": "H11", "hidden": false, "label": "SR 93"}, "SR 53": {"type": "sensor_relay", "x": 24571.021922573527, "y": -62977.96645495757, "grid": "I13", "hidden": false, "label": "SR 53"}, "SR 52": {"type": "sensor_relay", "x": 51643.02192257353, "y": -34753.96645495757, "grid": "K14", "hidden": false, "label": "SR 52"}, "SR 62": {"type": "sensor_relay", "x": 78715.02192257353, "y": -6529.966454957568, "grid": "L15", "hidden": false, "label": "SR 62"}, "SR 78": {"type": "sensor_relay", "x": 105787.02192257353, "y": 21694.03354504243, "grid": "N17", "hidden": false, "label": "SR 78"}, "SR 41": {"type": "sensor_relay", "x": 132859.02192257353, "y": 49918.03354504243, "grid": "O18", "hidden": false, "label": "SR 41"}};
        console.log("[DEBUG JS] objData keys:", Object.keys(objData));
        console.log("[DEBUG JS] objData sample:", objData[Object.keys(objData)[0]]);

    function clearAnnotations() {
        Plotly.relayout('plot', {annotations: []});
        document.getElementById('info').innerHTML = getInfoHeader() + 'Select an object';
        document.getElementById('galactic-map-btn').addEventListener('click', function() {
            window.location.href = 'index.html';
        });
        document.getElementById('galactic-map-btn').addEventListener('click', function() {
            window.location.href = 'index.html';
        });
    }
    
    function getInfoHeader() {
    return '<img src="Images/Compass.png" alt="Compass" '
         + 'style="display:block; max-width:100%; height:auto; margin-bottom:10px;">'
         + '<button id="galactic-map-btn" title="Back to Galactic Map">Galactic Map</button>';
        }
    
    function highlight(name) {
        var obj = objData[name];
        if (obj.hidden && !isGM()) {
            alert("This object is not visible on the public map.");
            return;
        }
        var annotation = {
            x: obj.x, y: obj.y, xref: 'x', yref: 'y', text: name,
            showarrow: true, arrowcolor: 'yellow', arrowwidth: 2,
            arrowhead: 3, font: {color: 'yellow', size: 28}
        };

        Plotly.relayout('plot', {annotations: [annotation]});

        var label = obj.label || name;
        var infoHtml = '<span style="font-size:20pt;">' + label + '</span><br>';
        infoHtml += '<b>Location:</b> ' + obj.grid + '<br>';

        if (obj.type === 'station') {
            // Station selected: display detailed station info
            if (obj.hullImage) {
                infoHtml += '<img src="' + obj.hullImage + '" alt="Hull Art" style="max-width:48%; height:auto;">';
            }
            if (obj.sides && obj.sides.length > 0) {
                infoHtml += '<img src="Images/Factions/' + obj.sides[0] + '.png" alt="Faction Logo" style="max-width:48%; height:auto;">';
            }
            infoHtml += '<b>Facilities:</b> ' + (obj.facilities.length ? obj.facilities.join(', ') : 'None') + '<br>';
            if (obj.hullName && obj.hullImage) {
                infoHtml += '<b>General Class:</b> ' + obj.hullName + '<br>';
            }
            if (obj.hullDescription) {
                infoHtml += '<p class="hull-desc">' + obj.hullDescription + '</p>';
            }
        } 
        else if ((obj.type === 'jump_point' || obj.type === 'jumppoint' || obj.type === 'jumpnode') && obj.destinations && typeof obj.destinations === 'object') {
        
            // Generate a random 5-character alphanumeric serial
            const serial = Math.random().toString(36).substring(2, 7).toUpperCase();
            infoHtml += 'Oliver Class jump stabilisation node. Serial: ' + serial;
            infoHtml += '<br><br><b>Destinations:</b><br>';
            for (const [target, label] of Object.entries(obj.destinations)) {
                if (typeof target === 'string' && typeof label === 'string') {
                    let file = label + '.html';
                    // Correctly escape single quotes for JS string
                    infoHtml += `<button onclick="window.open('${file}', '_blank')">${label}, ${target}</button>`;
                }
            }
            }
        else if (obj.type === 'sensor_relay') {
            // Generate a random 5-character alphanumeric serial
            const serial = Math.random().toString(36).substring(2, 7).toUpperCase();
            infoHtml += 'Standard sensor and info relay buoy, Serial: ' + serial;
        }
        else if (obj.type === 'jumpnode' || obj.type === 'jumppoint') {
            // Generate a random 5-character alphanumeric serial
            const serial = Math.random().toString(36).substring(2, 7).toUpperCase();
            infoHtml += 'Oliver Class jump stabilisation node. Serial: ' + serial;
        }
        else if (obj.type === 'planet') {
            if (obj['class']) {
                infoHtml += '<b>Class:</b> ' + obj['class'] + '<br>';
            }
        }
        else {
            infoHtml += '<b>Type:</b> ' + obj.type;
        }

            // ——— append a description paragraph if one exists ———
            if (obj.description) {
                infoHtml += '<p class="desc-text">'
                          + obj.description
                          + '</p>';
            }
            document.getElementById('info').innerHTML = getInfoHeader() + infoHtml;
            document.getElementById('galactic-map-btn').addEventListener('click', function() {
                window.location.href = 'index.html';
            });
                + infoHtml;
         
    }
         document.getElementById('galactic-map-btn').addEventListener('click', function() {
        window.location.href = 'index.html';
    });
    

    var fig = {"data": [{"type": "scatter", "x": [-24508.939276360565, -47711.90801820176, -79173.00865416955, -55970.03991232835, -24508.939276360565], "y": [204895.17074178485, 234446.81627663726, 209744.60692659108, 180192.96139173867, 204895.17074178485], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-22314.26600613673, -161203.15489502565, -156271.18527586496, -17382.296386976017, -22314.26600613673], "y": [268202.50332634855, 245054.35517820044, 215462.5374632361, 238610.68561138425, 268202.50332634855], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [50167.30944736867, 14866.383521442745, 33400.01704840747, 68700.94297433339, 50167.30944736867], "y": [223750.79829769285, 187871.16866806318, 169636.46471411403, 205516.0943437437, 223750.79829769285], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-147034.77713341906, -169539.92116634088, -173751.03423088713, -151245.89019796532, -147034.77713341906], "y": [162825.25556275263, 173274.07243518057, 164203.98275769627, 153755.16588526833, 162825.25556275263], "fill": "toself", "fillcolor": "rgba(165,42,42,0.6549123037982391)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.6549123037982391)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-15819.817547722436], "y": [-30522.782245811184], "mode": "markers+text", "marker": {"symbol": "circle", "size": 50, "color": "#98FB98"}, "text": ["Planet Mria IV"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "hovertext": ["Planet Mria IV [K11]"], "hoverinfo": "text", "meta": {"base_marker_size": 50, "base_text_size": 14}}, {"type": "scatter", "x": [-110532.1665841355, -183865.49991746884, -200765.60465671416, -127432.27132338079, -110532.1665841355], "y": [-32213.88427790926, 17786.115722090748, -7000.704562135683, -57000.70456213569, -32213.88427790926], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-54011.7480975575, -21511.7480975575, -78119.35647662541, -110619.35647662541, -54011.7480975575], "y": [17114.792396267396, 109614.79239626741, 129503.95209702099, 37003.952097020985, 17114.792396267396], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-20050.060537064313, -96406.79922019191, -115671.79335124757, -39315.05466811998, -20050.060537064313], "y": [51275.50731211083, 115241.0208580642, 92244.0645131391, 28278.550967185733, 51275.50731211083], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [122973.17113540506], "y": [165157.5426856017], "mode": "markers+text", "marker": {"symbol": "circle", "size": 50, "color": "#98FB98"}, "text": ["Planet Ayala"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "hovertext": ["Planet Ayala [U18]"], "hoverinfo": "text", "meta": {"base_marker_size": 50, "base_text_size": 14}}, {"type": "scatter", "x": [90395.24968996222, 138620.55833193756, 124537.71809525116, 76312.40945327582, 90395.24968996222], "y": [56271.971545756984, 104095.40261571585, 118296.58604766852, 70473.15497770965, 56271.971545756984], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [140853.3406147702, 103076.84884522285, 77294.64774657489, 115071.13951612223, 140853.3406147702], "y": [43312.39972700545, 106809.05610560629, 91470.27823679041, 27973.62185818958, 43312.39972700545], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [70218.88781933663, 75774.44337489219, 35858.78161196729, 30303.22605641173, 70218.88781933663], "y": [-88055.16238929419, -2638.495722627519, -42.35512016086, -85459.02178682754, -88055.16238929419], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-125070.97565477707, -159793.1978769993, -143851.3549139191, -109129.13269169685, -125070.97565477707], "y": [-6412.9596525506795, -52246.29298588402, -64323.44674579326, -18490.113412459927, -6412.9596525506795], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-92990.1333333334], "y": [266464.0], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "#50CC50", "line": {"color": "#50CC50", "width": 5}}, "hovertext": ["Eulis Gate [Z07]"], "hoverinfo": "text", "text": ["Eulis Gate"], "textposition": "top center", "textfont": {"color": "#50CC50", "size": 20}, "meta": {"base_marker_size": 16, "base_text_size": 20}}, {"type": "scatter", "x": [-181716.80000000008], "y": [60698.666666666686], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "#50CC50", "line": {"color": "#50CC50", "width": 5}}, "hovertext": ["Loria Gate [P02]"], "hoverinfo": "text", "text": ["Loria Gate"], "textposition": "top center", "textfont": {"color": "#50CC50", "size": 20}, "meta": {"base_marker_size": 16, "base_text_size": 20}}, {"type": "scatter", "x": [-43745.97597148317], "y": [-124466.50930481635], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "#50CC50", "line": {"color": "#50CC50", "width": 5}}, "hovertext": ["Khoros Gate [F09]"], "hoverinfo": "text", "text": ["Khoros Gate"], "textposition": "top center", "textfont": {"color": "#50CC50", "size": 20}, "meta": {"base_marker_size": 16, "base_text_size": 20}}, {"type": "scatter", "x": [143147.1999999999], "y": [76250.66666666669], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "#50CC50", "line": {"color": "#50CC50", "width": 5}}, "hovertext": ["Tibur Gate [P19]"], "hoverinfo": "text", "text": ["Tibur Gate"], "textposition": "top center", "textfont": {"color": "#50CC50", "size": 20}, "meta": {"base_marker_size": 16, "base_text_size": 20}}, {"type": "scatter", "x": [2229.822003547825], "y": [37003.32380761107], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Mria Command [N12]"], "hoverinfo": "text", "text": ["Mria Command"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-98495.32886612187], "y": [261370.1437839232], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 44 [Z07]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-95749.73395699449], "y": [274613.60158089054], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 64 [Z07]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-85574.8822349342], "y": [270414.4564257546], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 76 [Z07]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-91389.08321896866], "y": [264277.2442759404], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 82 [Z07]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-86705.42131516313], "y": [256524.97629722784], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 37 [Y07]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-52469.16228700173], "y": [-124661.86692741388], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 97 [F09]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-35561.65042697543], "y": [-123400.00071233253], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 53 [F10]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-43247.49674235447], "y": [-131994.52362897582], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 36 [F09]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-43646.483656875294], "y": [-126788.58556938994], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 80 [F09]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-44858.71016733903], "y": [-114125.89154669803], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 14 [G09]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-292.0137671977796], "y": [45059.6538525678], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 39 [O11]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-859.7381921721627], "y": [31105.05467301988], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 83 [N11]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [11674.128675810363], "y": [33663.30310599502], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 25 [N12]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-110288.98304999148], "y": [229382.84350160402], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Customs [X06]"], "hoverinfo": "text", "text": ["Customs"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-120335.92235040301], "y": [222405.80232076268], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Jetel Traders [X05]"], "hoverinfo": "text", "text": ["Jetel Traders"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-104707.35010531842], "y": [217940.49596502422], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Ela Industries [W06]"], "hoverinfo": "text", "text": ["Ela Industries"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-62330.00788124038], "y": [206918.27828473522], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Ufaqi Mining [W08]"], "hoverinfo": "text", "text": ["Ufaqi Mining"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-51694.11155522388], "y": [209898.37930021863], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Precious Mining [W09]"], "hoverinfo": "text", "text": ["Precious Mining"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-38564.99971094254], "y": [206498.14842844443], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Capara Processing [W10]"], "hoverinfo": "text", "text": ["Capara Processing"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-43762.68004989215], "y": [198689.67650688614], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Jeketa Ores [V09]"], "hoverinfo": "text", "text": ["Jeketa Ores"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-54072.981120802724], "y": [217198.21630606247], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["DS 662 [W09]"], "hoverinfo": "text", "text": ["DS 662"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-58799.28049849116], "y": [213166.39093480038], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 15 [W09]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-45407.668246819536], "y": [204868.44942669728], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 20 [W09]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [30498.941025665845], "y": [185119.55743182937], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Oophedran [V13]"], "hoverinfo": "text", "text": ["Oophedran"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [47281.34843307325], "y": [200744.55743182937], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Premolar Mod [W14]"], "hoverinfo": "text", "text": ["Premolar Mod"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-178670.29765746175], "y": [156923.82697915446], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Kazu [T03]"], "hoverinfo": "text", "text": ["Kazu"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-159187.27296610372], "y": [163112.74158820798], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Tikee [U04]"], "hoverinfo": "text", "text": ["Tikee"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-168430.4571224823], "y": [76307.1860326524], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Tergi Lodging [P03]"], "hoverinfo": "text", "text": ["Tergi Lodging"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-204197.56103194732], "y": [66662.12430425735], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Pargusan Foods [P01]"], "hoverinfo": "text", "text": ["Pargusan Foods"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-21792.039769944677], "y": [-58078.33780136673], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Mria Authority [J10]"], "hoverinfo": "text", "text": ["Mria Authority"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-23491.178144430272], "y": [-68421.05899478239], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 75 [I10]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [9702.837630604034], "y": [-48979.829570914066], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Roshtic Market [J12]"], "hoverinfo": "text", "text": ["Roshtic Market"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-157315.5522870915], "y": [-31273.961086689138], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Hooke Labs [K04]"], "hoverinfo": "text", "text": ["Hooke Labs"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-171482.21895375813], "y": [-9607.29442002247], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Djakinti Wares [L03]"], "hoverinfo": "text", "text": ["Djakinti Wares"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-73219.29457104209], "y": [87332.54182826284], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Elite Refining [Q08]"], "hoverinfo": "text", "text": ["Elite Refining"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-51785.8240634975], "y": [62550.091553914404], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Cholander Ores [P09]"], "hoverinfo": "text", "text": ["Cholander Ores"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-78912.56017460862], "y": [72262.13287764555], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Imidri Mining [P08]"], "hoverinfo": "text", "text": ["Imidri Mining"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-97331.94889202974], "y": [93025.80743182937], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Missimon [Q07]"], "hoverinfo": "text", "text": ["Missimon"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-85610.5197082163], "y": [49489.07046337942], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Oppia Central [O07]"], "hoverinfo": "text", "text": ["Oppia Central"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-49106.64025005443], "y": [91016.41957174706], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Finaro Ltd [Q09]"], "hoverinfo": "text", "text": ["Finaro Ltd"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [104251.463316475], "y": [141738.68980494322], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Ayala Hall [T17]"], "hoverinfo": "text", "text": ["Ayala Hall"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [157299.30282264785], "y": [144551.83280905845], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Elson Systems [T19]"], "hoverinfo": "text", "text": ["Elson Systems"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [153280.5271024832], "y": [130486.11778848231], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Elson Shipyards [S19]"], "hoverinfo": "text", "text": ["Elson Shipyards"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [116307.79047696883], "y": [56138.76696543703], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Sheol Processing [O17]"], "hoverinfo": "text", "text": ["Sheol Processing"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [98223.29973622809], "y": [90700.23815885268], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Shachat Denabite [Q16]"], "hoverinfo": "text", "text": ["Shachat Denabite"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [91233.27916009641], "y": [120187.3523563836], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Capitol City [S16]"], "hoverinfo": "text", "text": ["Capitol City"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [53733.279160096405], "y": [-54118.20319917197], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Axitymy Mining [J14]"], "hoverinfo": "text", "text": ["Axitymy Mining"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [73177.72360454085], "y": [-40229.31431028308], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Pretara [J15]"], "hoverinfo": "text", "text": ["Pretara"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-145557.63019061234], "y": [-50192.39515733386], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Sandinal Denabite [J04]"], "hoverinfo": "text", "text": ["Sandinal Denabite"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-88323.4666666668], "y": [238150.6666666667], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 76 [X07]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-83323.4666666668], "y": [197317.33333333334], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 55 [V07]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-78323.4666666668], "y": [156484.0], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 85 [T08]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-73323.4666666668], "y": [115650.66666666669], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 12 [R08]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-63323.466666666805], "y": [33984.0], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 48 [N08]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-58323.466666666805], "y": [-6849.333333333314], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 81 [L09]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-53323.466666666805], "y": [-47682.666666666686], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 31 [J09]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-48323.466666666805], "y": [-88516.0], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 39 [H09]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-141656.80000000016], "y": [64817.333333333336], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 90 [P04]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-100545.68888888905], "y": [66067.33333333334], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 59 [P06]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-18323.46666666682], "y": [68567.33333333334], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 87 [P11]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [22787.644444444275], "y": [69817.33333333334], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 60 [P13]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [63898.75555555543], "y": [71067.33333333334], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 73 [P15]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [105009.86666666652], "y": [72317.33333333334], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 30 [P17]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-123460.97807742647], "y": [261598.03354504242], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 18 [Z05]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-138580.97807742647], "y": [222358.03354504242], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 69 [X05]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-153700.97807742647], "y": [183118.03354504242], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 24 [V04]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-168820.97807742647], "y": [143878.03354504242], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 27 [T03]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-183940.97807742647], "y": [104638.03354504242], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 77 [R02]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-55780.978077426465], "y": [261598.03354504242], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 38 [Z09]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-21220.978077426465], "y": [233374.03354504242], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 29 [X10]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [13339.021922573535], "y": [205150.03354504242], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 44 [W12]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [47899.021922573535], "y": [176926.03354504242], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 74 [U14]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [82459.02192257353], "y": [148702.03354504242], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 10 [T16]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [117019.02192257353], "y": [120478.03354504242], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 51 [S17]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-168100.97807742647], "y": [25438.033545042435], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 83 [N03]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-149020.97807742647], "y": [-4441.966454957565], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 66 [L04]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-129940.97807742647], "y": [-34321.96645495757], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 91 [K05]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-110860.97807742647], "y": [-64201.96645495757], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 68 [I06]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-91780.97807742647], "y": [-94081.96645495757], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 13 [H07]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [-2500.978077426471], "y": [-91201.96645495757], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 93 [H11]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [24571.021922573527], "y": [-62977.96645495757], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 53 [I13]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [51643.02192257353], "y": [-34753.96645495757], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 52 [K14]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [78715.02192257353], "y": [-6529.966454957568], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 62 [L15]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [105787.02192257353], "y": [21694.03354504243], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 78 [N17]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}, {"type": "scatter", "x": [132859.02192257353], "y": [49918.03354504243], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 41 [O18]"], "hoverinfo": "text", "meta": {"base_marker_size": 3, "base_text_size": 14}}], "layout": {"title": "Mria", "paper_bgcolor": "black", "plot_bgcolor": "black", "font": {"color": "white"}, "margin": {"l": 0, "r": 0, "t": 40, "b": 0}, "autosize": true, "dragmode": "pan", "hovermode": "closest", "xaxis": {"color": "white", "showgrid": true, "gridcolor": "gray", "dtick": 20000, "title": "X Axis"}, "yaxis": {"color": "white", "showgrid": true, "gridcolor": "gray", "dtick": 20000, "scaleanchor": "x", "scaleratio": 1, "title": "Z Axis"}, "shapes": []}};
    fig.layout.showlegend = false;
    fig.layout.dragmode = 'pan';
    fig.layout.title = 'Mria';
    if (!isGM()) {
        fig.data = fig.data.filter(t => !t.gmOnly);
        }
    Plotly.newPlot('plot', fig.data, fig.layout, {responsive: true, scrollZoom: true});
        console.log("[DEBUG JS] Plotted traces count:", fig.data.length);
        console.log("[DEBUG JS] fig.data sample:", fig.data.slice(0,3));

    var plotDiv = document.getElementById('plot');
    // Use Plotly's built-in nearest-point selection for accurate clicks
    plotDiv.on('plotly_click', function(ev) {
        if (!ev || !ev.points || !ev.points.length) return;
        var p = ev.points[0];
        var picked = null;
        // Prefer original name from hovertext: "Name [Grid]"
        if (p.hovertext && typeof p.hovertext === 'string') {
            picked = p.hovertext.split(' [')[0];
        } else if (p.text && typeof p.text === 'string') {
            // Fallback to text label (strip any ** used for GM marking)
            picked = p.text.replace(/\*/g, '');
        }
        if (picked && objData[picked]) {
            highlight(picked);
        }
    });

    // ——— Auto-scale markers based on current zoom/span (optimized: planets & blackholes only) ———
    (function() {
        var refSpan = null;
        var planetIdx = [4, 8];
        var bhIdx = [];
        function rescaleMarkers() {
            try {
                var full = plotDiv._fullLayout || {};
                var xaxis = full.xaxis || (fig.layout && fig.layout.xaxis);
                if (!xaxis || !xaxis.range) return;
                var curr = Math.abs(xaxis.range[1] - xaxis.range[0]);
                if (!curr) return;
                if (!refSpan) refSpan = curr;
                var scale = refSpan / curr;
                var indices = [];
                var markerSizes = [];
                var textSizes = [];
                function pushForIndex(i) {
                    var t = fig.data[i];
                    if (!t || !t.meta || !t.meta.base_marker_size) return;
                    var base = t.meta.base_marker_size;
                    var baseText = t.meta.base_text_size || (t.textfont && t.textfont.size) || 12;
                    var newMarker = Math.max(2, Math.round(base * scale));
                    var newText = Math.max(8, Math.round(baseText * Math.sqrt(scale)));
                    indices.push(i);
                    markerSizes.push(newMarker);
                    textSizes.push(newText);
                }
                planetIdx.forEach(pushForIndex);
                bhIdx.forEach(pushForIndex);
                if (indices.length) {
                    Plotly.restyle(plotDiv, {'marker.size': [markerSizes], 'textfont.size': [textSizes]}, indices);
                }
            } catch (e) { console.error(e); }
        }
        // initial scale after plot settles
        setTimeout(rescaleMarkers, 250);
        plotDiv.on('plotly_relayout', rescaleMarkers);
    })();

  var ctrl = document.getElementById('object-buttons');

  // Helper: create and append a single button
function addButton(label, fn, header, color, isHidden) {
    if (isHidden && !isGM()) return;
    var btn = document.createElement('button');
    btn.textContent = label;
    if (header) {
      btn.className = 'header';     // section header style
      btn.onclick = null;           // no click action
    } else {
      btn.onclick = fn;             // bind the handler
      if (color) btn.style.backgroundColor = color;
    }
    ctrl.appendChild(btn);
  }
  
  function enterGMMode() {
    const pw = prompt("Enter ONI Auth Code: --We will store a cookie for the purpose of tracking if you have authenticated or not--");
    if (pw === "oni1") {
      document.cookie = "gmMode=1; path=/; max-age=31536000";
      location.reload();
    } else {
      alert("Incorrect password.");
    }
  }

  function isGM() {
    return document.cookie.split(';').some(c => c.trim() === 'gmMode=1');
  }

  function exitGMMode() {
    document.cookie = "gmMode=; path=/; expires=Thu, 01 Jan 1970 00:00:00 UTC;";
    location.reload();
  }

  function renderGMControls() {
    const div = document.getElementById('gm-controls');
    div.innerHTML = '';
    const btn = document.createElement('button');
    btn.style.width = '100%';
    if (isGM()) {
      btn.textContent = 'ONI Logout';
      btn.onclick = exitGMMode;
    } else {
      btn.textContent = 'ONI Login';
      btn.onclick = enterGMMode;
    }
    div.appendChild(btn);
  }

  renderGMControls();

  // ——— Populate the sidebar ———
  addButton('None', clearAnnotations, false, null);

  addButton('--- Gates ---', null, true, null);
  addButton('Eulis Gate',function(){highlight('Eulis Gate');},false,null,false)
    addButton('Khoros Gate',function(){highlight('Khoros Gate');},false,null,false)
    addButton('Loria Gate',function(){highlight('Loria Gate');},false,null,false)
    addButton('Tibur Gate',function(){highlight('Tibur Gate');},false,null,false)

  addButton('--- Nav Points/POI ---', null, true, null);
  

    addButton('--- Planets ---', null, true, null);
    addButton('Planet Mria IV',function(){highlight('Planet Mria IV');},false,null,false)
    addButton('Planet Ayala',function(){highlight('Planet Ayala');},false,null,false)

    addButton('--- Stations ---', null, true, null);
    addButton('Axitymy Mining',function(){highlight('Axitymy Mining');},false,'blue',false)
    addButton('Ayala Hall',function(){highlight('Ayala Hall');},false,'blue',false)
    addButton('Capara Processing',function(){highlight('Capara Processing');},false,'blue',false)
    addButton('Capitol City',function(){highlight('Capitol City');},false,'blue',false)
    addButton('Cholander Ores',function(){highlight('Cholander Ores');},false,'blue',false)
    addButton('Customs',function(){highlight('Customs');},false,'blue',false)
    addButton('DS 662',function(){highlight('DS 662');},false,'blue',false)
    addButton('Djakinti Wares',function(){highlight('Djakinti Wares');},false,'blue',false)
    addButton('Ela Industries',function(){highlight('Ela Industries');},false,'blue',false)
    addButton('Elite Refining',function(){highlight('Elite Refining');},false,'blue',false)
    addButton('Elson Shipyards',function(){highlight('Elson Shipyards');},false,'blue',false)
    addButton('Elson Systems',function(){highlight('Elson Systems');},false,'blue',false)
    addButton('Finaro Ltd',function(){highlight('Finaro Ltd');},false,'blue',false)
    addButton('Hooke Labs',function(){highlight('Hooke Labs');},false,'blue',false)
    addButton('Imidri Mining',function(){highlight('Imidri Mining');},false,'blue',false)
    addButton('Jeketa Ores',function(){highlight('Jeketa Ores');},false,'blue',false)
    addButton('Jetel Traders',function(){highlight('Jetel Traders');},false,'blue',false)
    addButton('Kazu',function(){highlight('Kazu');},false,'blue',false)
    addButton('Missimon',function(){highlight('Missimon');},false,'blue',false)
    addButton('Mria Authority',function(){highlight('Mria Authority');},false,'blue',false)
    addButton('Mria Command',function(){highlight('Mria Command');},false,'blue',false)
    addButton('Oophedran',function(){highlight('Oophedran');},false,'blue',false)
    addButton('Oppia Central',function(){highlight('Oppia Central');},false,'blue',false)
    addButton('Pargusan Foods',function(){highlight('Pargusan Foods');},false,'blue',false)
    addButton('Precious Mining',function(){highlight('Precious Mining');},false,'blue',false)
    addButton('Premolar Mod',function(){highlight('Premolar Mod');},false,'blue',false)
    addButton('Pretara',function(){highlight('Pretara');},false,'blue',false)
    addButton('Roshtic Market',function(){highlight('Roshtic Market');},false,'blue',false)
    addButton('Sandinal Denabite',function(){highlight('Sandinal Denabite');},false,'blue',false)
    addButton('Shachat Denabite',function(){highlight('Shachat Denabite');},false,'blue',false)
    addButton('Sheol Processing',function(){highlight('Sheol Processing');},false,'blue',false)
    addButton('Tergi Lodging',function(){highlight('Tergi Lodging');},false,'blue',false)
    addButton('Tikee',function(){highlight('Tikee');},false,'blue',false)
    addButton('Ufaqi Mining',function(){highlight('Ufaqi Mining');},false,'blue',false)
    
  // Search filter
  document.getElementById('search-box').addEventListener('input', function() {
    const query = this.value.toLowerCase();
    const buttons = document.querySelectorAll('#object-buttons button');
    buttons.forEach(btn => {
      const label = btn.textContent.toLowerCase();
      const isHeader = btn.classList.contains('header');
      if (isHeader) {
        btn.style.display = ''; // always show section headers
      } else {
        btn.style.display = label.includes(query) ? '' : 'none';
      }
    });
  });
</script>
</body>
</html>