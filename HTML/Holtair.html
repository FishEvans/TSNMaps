
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Holtair.html</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body { margin: 0; background: black; color: white; display: flex; height: 100vh; }
        /* === Description typography controls ===
           Tweak these two variables to change description sizes globally */
        :root {
            --desc-font-size: 130%;
            --hull-desc-font-size: 130%;
        }
        .desc-text { font-size: var(--desc-font-size); margin-top: 8px; }
        .hull-desc { font-size: var(--hull-desc-font-size); margin-top: 5px; color: #ccc; }
        #controls { flex: 1; min-width: 200px; max-width: 350px; overflow-y: auto; background: #333; padding: 10px; }
        #plot { flex: 3; min-width: 400px; }
        #info { flex: 1; min-width: 200px; background: #333; padding: 10px; overflow-y: auto; }
        h2.header { margin-top: 0; margin-bottom: 5px; text-align: center; }
        h3.subheader { margin-top: 0; margin-bottom: 15px; text-align: center; color: #ccc; }
        .alignment-image { display: block; max-width: 100%; height: auto; margin: 10px auto; }
        button { display: block; width: 100%; margin-bottom: 5px; background: #555; color: white; border: none; padding: 5px; text-align: left; cursor: pointer; font-size: 20px; }
        button.header { background: #444; cursor: default; font-size: 24px; }
    </style>
</head>
<body>
    <div id="controls">
        <div id="gm-controls" style="margin-bottom:10px;"></div>
        <h2 class="header">Holtair</h2>
        <h3 class="subheader">Alignment: Kraliens</h3>
        <img src="Images/Factions/Kraliens.png" alt="Alignment Logo" class="alignment-image" onerror="this.style.display='none';">

        <input type="text" id="search-box" placeholder="Search objects..." style="width: 95%; padding: 6px; margin-bottom: 10px; font-size: 16px;">
        <div id="object-buttons">
    </div>
    </div>
    <div id="plot"></div>
    <div id="info">
        <img src="Images/Compass.png" alt="Compass" style="display:block; max-width:100%; height:auto; margin-bottom:10px;">
        <button id="galactic-map-btn" title="Back to Galactic Map">Show Galactic Map</button>
        Select an object
    </div>
<script>
    var objData = {"Meera Gate": {"type": "jumpnode", "x": -148333.3333333333, "y": 127500.00000000001, "grid": "S04", "hidden": false, "label": "Meera Gate", "destinations": {"Meera Gate": "Meera"}}, "Jotar Gate": {"type": "jumpnode", "x": 35833.333333333336, "y": 65000.00000000001, "grid": "P13", "hidden": false, "label": "Jotar Gate", "destinations": {"Jotar Gate": "Jotar"}}, "Waypoint 89 Gate": {"type": "jumpnode", "x": -171859.56790123458, "y": -28981.48148148146, "grid": "K03", "hidden": false, "label": "Waypoint 89 Gate"}, "Norayne Gate": {"type": "jumpnode", "x": 49166.66666666667, "y": -166666.6666666667, "grid": "D14", "hidden": false, "label": "Norayne Gate", "destinations": {"Holtair Gate": "Norayne"}}, "Y-25": {"type": "station", "x": 23333.333333333336, "y": -183333.33333333334, "grid": "C13", "hidden": false, "label": "Y-25", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "A-43": {"type": "station", "x": 12500.000000000002, "y": -163333.33333333334, "grid": "D12", "hidden": false, "label": "A-43", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "F-88": {"type": "station", "x": 125363.70813328748, "y": -65152.69132944682, "grid": "I18", "hidden": false, "label": "F-88", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "L-30": {"type": "station", "x": 78287.03703703704, "y": -148333.33333333334, "grid": "E15", "hidden": false, "label": "L-30", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "V-26": {"type": "station", "x": -177500.00000000003, "y": 118333.33333333334, "grid": "R03", "hidden": false, "label": "V-26", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "X-91": {"type": "station", "x": -148333.33333333334, "y": 148333.33333333334, "grid": "T04", "hidden": false, "label": "X-91", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "F-10": {"type": "station", "x": -125833.33333333334, "y": 161666.6666666667, "grid": "U05", "hidden": false, "label": "F-10", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "S-77": {"type": "station", "x": -168333.33333333334, "y": 175000.00000000003, "grid": "U03", "hidden": false, "label": "S-77", "hull": "Arvo_Bomber", "facilities": [], "sides": ["Kraliens"], "hullName": "Arvonian Fighter mk2", "hullImage": "Images/Ships/TSN Mod/Hegemony/AVBomber256.png", "hullDescription": "Displacement: 0.015 kt. Armament: 2 light beams."}, "C-37": {"type": "station", "x": -43333.333333333336, "y": 166666.6666666667, "grid": "U09", "hidden": false, "label": "C-37", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "D-90": {"type": "station", "x": -65833.33333333334, "y": 146666.6666666667, "grid": "T08", "hidden": false, "label": "D-90", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "J-84": {"type": "station", "x": 50308.641975308645, "y": 154124.2283950617, "grid": "T14", "hidden": false, "label": "J-84", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "K-55": {"type": "station", "x": 56666.66666666667, "y": 140833.33333333334, "grid": "T14", "hidden": false, "label": "K-55", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "H-47": {"type": "station", "x": 36666.66666666667, "y": 149166.6666666667, "grid": "T13", "hidden": false, "label": "H-47", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "L-63": {"type": "station", "x": 181666.6666666667, "y": 163333.33333333334, "grid": "U21", "hidden": false, "label": "L-63", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "V-42": {"type": "station", "x": 194166.6666666667, "y": 175833.33333333334, "grid": "U21", "hidden": false, "label": "V-42", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "B-100": {"type": "station", "x": 196666.6666666667, "y": 158858.02469135803, "grid": "T21", "hidden": false, "label": "B-100", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "H-53": {"type": "station", "x": 165088.7345679013, "y": 52584.876543209895, "grid": "O20", "hidden": false, "label": "H-53", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "T-82": {"type": "station", "x": 145000.0, "y": 47500.00000000001, "grid": "O19", "hidden": false, "label": "T-82", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "G-62": {"type": "station", "x": 70829.42172496571, "y": 73879.76180269777, "grid": "P15", "hidden": false, "label": "G-62", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "C-45": {"type": "station", "x": 36662.75505829904, "y": 25395.804755372654, "grid": "N13", "hidden": false, "label": "C-45", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "H-11": {"type": "station", "x": 41627.55058299039, "y": 34566.38303040695, "grid": "N14", "hidden": false, "label": "H-11", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "P-98": {"type": "station", "x": 49857.1995027435, "y": 26687.528577960682, "grid": "N14", "hidden": false, "label": "P-98", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "W-40": {"type": "station", "x": -16656.39646204844, "y": 87466.68881458623, "grid": "Q11", "hidden": false, "label": "W-40", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "I-65": {"type": "station", "x": -27073.063128715108, "y": 81679.6517775492, "grid": "Q10", "hidden": false, "label": "I-65", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "N-32": {"type": "station", "x": -50799.914980566966, "y": 62582.42955532697, "grid": "P09", "hidden": false, "label": "N-32", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "U-67": {"type": "station", "x": -42698.06312871511, "y": 15128.72585162326, "grid": "M09", "hidden": false, "label": "U-67", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "Y-15": {"type": "station", "x": -56586.952017604, "y": 13392.614740512148, "grid": "M09", "hidden": false, "label": "Y-15", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "K-18": {"type": "station", "x": -134711.95201760402, "y": 74156.50362940105, "grid": "P05", "hidden": false, "label": "K-18", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "S-18": {"type": "station", "x": -127767.50757315957, "y": -12649.051926154523, "grid": "L05", "hidden": false, "label": "S-18", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "Q-49": {"type": "station", "x": -126031.39646204846, "y": -44477.755629858235, "grid": "J05", "hidden": false, "label": "Q-49", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "P-01": {"type": "station", "x": -143392.5075731596, "y": -69940.7185928212, "grid": "I04", "hidden": false, "label": "P-01", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "Z-37": {"type": "station", "x": -170012.87794352995, "y": -84408.3111854138, "grid": "H03", "hidden": false, "label": "Z-37", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "M-64": {"type": "station", "x": -34419.38514517603, "y": -18612.915094878816, "grid": "L10", "hidden": false, "label": "M-64", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "Q22": {"type": "station", "x": -31123.989054641028, "y": -28627.704189529006, "grid": "K10", "hidden": false, "label": "Q22", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "F-84": {"type": "station", "x": -26590.81004229536, "y": -37806.58793438497, "grid": "K10", "hidden": false, "label": "F-84", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "J-99": {"type": "station", "x": 79906.7465420668, "y": -13693.933613397307, "grid": "L15", "hidden": false, "label": "J-99", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "X-07": {"type": "station", "x": 59812.86794124375, "y": -44236.62908664834, "grid": "J14", "hidden": false, "label": "X-07", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "D-47": {"type": "station", "x": 80710.50168609971, "y": -55087.323531092785, "grid": "J16", "hidden": false, "label": "D-47", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "O-62": {"type": "station", "x": 149833.44407293102, "y": -26152.138345907595, "grid": "K19", "hidden": false, "label": "O-62", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "G-01": {"type": "station", "x": 157469.11794124378, "y": -135864.71550640144, "grid": "F19", "hidden": false, "label": "G-01", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "V-56": {"type": "station", "x": 165104.7918095565, "y": -146313.53237882943, "grid": "E20", "hidden": false, "label": "V-56", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "U-76": {"type": "station", "x": 144609.03563671702, "y": -168416.79883973478, "grid": "D19", "hidden": false, "label": "U-76", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "U-02": {"type": "station", "x": 25951.6282293096, "y": -130996.53135002284, "grid": "F13", "hidden": false, "label": "U-02", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "S-63": {"type": "station", "x": -34124.24625628714, "y": -129858.41406607223, "grid": "F10", "hidden": false, "label": "S-63", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "K-10": {"type": "station", "x": -67689.06107110195, "y": -170946.3770290352, "grid": "D08", "hidden": false, "label": "K-10", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "V-11": {"type": "station", "x": -53800.17218221307, "y": -177312.11776977594, "grid": "D09", "hidden": false, "label": "V-11", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "V-92": {"type": "station", "x": -150443.6907007316, "y": -154742.6733253315, "grid": "E04", "hidden": false, "label": "V-92", "hull": "", "facilities": [], "sides": ["Kraliens"]}, "E-38": {"type": "station", "x": -182851.098108139, "y": -172103.7844364426, "grid": "D02", "hidden": false, "label": "E-38", "hull": "", "facilities": [], "sides": ["Kraliens"]}};
        console.log("[DEBUG JS] objData keys:", Object.keys(objData));
        console.log("[DEBUG JS] objData sample:", objData[Object.keys(objData)[0]]);

    function clearAnnotations() {
        Plotly.relayout('plot', {annotations: []});
        document.getElementById('info').innerHTML = getInfoHeader() + 'Select an object';
        document.getElementById('galactic-map-btn').addEventListener('click', function() {
            window.location.href = 'index.html';
        });
        document.getElementById('galactic-map-btn').addEventListener('click', function() {
            window.location.href = 'index.html';
        });
    }
    
    function getInfoHeader() {
    return '<img src="Images/Compass.png" alt="Compass" '
         + 'style="display:block; max-width:100%; height:auto; margin-bottom:10px;">'
         + '<button id="galactic-map-btn" title="Back to Galactic Map">Galactic Map</button>';
        }
    
    function highlight(name) {
        var obj = objData[name];
        if (obj.hidden && !isGM()) {
            alert("This object is not visible on the public map.");
            return;
        }
        var annotation = {
            x: obj.x, y: obj.y, xref: 'x', yref: 'y', text: name,
            showarrow: true, arrowcolor: 'yellow', arrowwidth: 2,
            arrowhead: 3, font: {color: 'yellow', size: 28}
        };

        Plotly.relayout('plot', {annotations: [annotation]});

        var label = obj.label || name;
        var infoHtml = '<span style="font-size:20pt;">' + label + '</span><br>';
        infoHtml += '<b>Location:</b> ' + obj.grid + '<br>';

        if (obj.type === 'station') {
            // Station selected: display detailed station info
            if (obj.hullImage) {
                infoHtml += '<img src="' + obj.hullImage + '" alt="Hull Art" style="max-width:48%; height:auto;">';
            }
            if (obj.sides && obj.sides.length > 0) {
                infoHtml += '<img src="Images/Factions/' + obj.sides[0] + '.png" alt="Faction Logo" style="max-width:48%; height:auto;">';
            }
            infoHtml += '<b>Facilities:</b> ' + (obj.facilities.length ? obj.facilities.join(', ') : 'None') + '<br>';
            if (obj.hullName && obj.hullImage) {
                infoHtml += '<b>General Class:</b> ' + obj.hullName + '<br>';
            }
            if (obj.hullDescription) {
                infoHtml += '<p class="hull-desc">' + obj.hullDescription + '</p>';
            }
        } 
        else if ((obj.type === 'jump_point' || obj.type === 'jumppoint' || obj.type === 'jumpnode') && obj.destinations && typeof obj.destinations === 'object') {
        
            // Generate a random 5-character alphanumeric serial
            const serial = Math.random().toString(36).substring(2, 7).toUpperCase();
            infoHtml += 'Oliver Class jump stabilisation node. Serial: ' + serial;
            infoHtml += '<br><br><b>Destinations:</b><br>';
            for (const [target, label] of Object.entries(obj.destinations)) {
                if (typeof target === 'string' && typeof label === 'string') {
                    let file = label + '.html';
                    // Correctly escape single quotes for JS string
                    infoHtml += `<button onclick="window.open('${file}', '_blank')">${label}, ${target}</button>`;
                }
            }
            }
        else if (obj.type === 'sensor_relay') {
            // Generate a random 5-character alphanumeric serial
            const serial = Math.random().toString(36).substring(2, 7).toUpperCase();
            infoHtml += 'Standard sensor and info relay buoy, Serial: ' + serial;
        }
        else if (obj.type === 'jumpnode' || obj.type === 'jumppoint') {
            // Generate a random 5-character alphanumeric serial
            const serial = Math.random().toString(36).substring(2, 7).toUpperCase();
            infoHtml += 'Oliver Class jump stabilisation node. Serial: ' + serial;
        }
        else if (obj.type === 'planet') {
            if (obj['class']) {
                infoHtml += '<b>Class:</b> ' + obj['class'] + '<br>';
            }
        }
        else {
            infoHtml += '<b>Type:</b> ' + obj.type;
        }

            // ——— append a description paragraph if one exists ———
            if (obj.description) {
                infoHtml += '<p class="desc-text">'
                          + obj.description
                          + '</p>';
            }
            document.getElementById('info').innerHTML = getInfoHeader() + infoHtml;
            document.getElementById('galactic-map-btn').addEventListener('click', function() {
                window.location.href = 'index.html';
            });
                + infoHtml;
         
    }
         document.getElementById('galactic-map-btn').addEventListener('click', function() {
        window.location.href = 'index.html';
    });
    

    var fig = {"data": [{"type": "scatter", "x": [-33744.148050105825, -241744.14805010584, -242321.01112913532, -34321.01112913534, -33744.148050105825], "y": [214077.46896991367, 217077.46896991367, 177081.62882386782, 174081.62882386782, 214077.46896991367], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [139136.5446853637, -38792.467660315306, -47272.69151892586, 130656.32082675316, 139136.5446853637], "y": [160033.3753350395, 212467.78891528642, 183691.30887849507, 131256.89529824816, 160033.3753350395], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [212596.3215938598, 128202.03147040299, 128087.74762196079, 212482.0377454176, 212596.3215938598], "y": [152269.20045039768, 152751.4535368174, 132751.7800594332, 132269.52697301348, 152269.20045039768], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-86529.34556736832, -38600.140320454724, -50026.747253848225, -97955.95250076184, -86529.34556736832], "y": [75577.4652810104, 108942.56301763598, 125356.96687491096, 91991.86913828537, 75577.4652810104], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-54552.7854598441, -81328.18412239551, -95119.56250540547, -68344.16384285406, -54552.7854598441], "y": [74909.71253189823, 100404.01122874313, 85919.60988465417, 60425.31118780928, 74909.71253189823], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-206109.3122569202, -174109.3122569202, -136517.5753173827, -168517.5753173827, -206109.3122569202], "y": [5314.903684539393, -82685.0963154606, -69015.37379199243, 18984.62620800757, 5314.903684539393], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-194405.51335928866, -204132.36521114045, -164494.52236316245, -154767.67051131066, -194405.51335928866], "y": [68626.64177040459, -3165.0248962621076, -8535.44521119093, 63256.22145547576, 68626.64177040459], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-16065.264977766092, -187573.74405869885, -193053.14351560405, -21544.66443467128, -16065.264977766092], "y": [34909.5985387925, 83767.14740710535, 64532.38248544159, 15674.833617128734, 34909.5985387925], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [185940.75023201152, 40300.31813324606, 31028.94998518073, 176669.38208394617, 185940.75023201152], "y": [21890.790372302457, 98086.77802662345, 80365.55536386569, 4169.567709544681, 21890.790372302457], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [120773.60452491068, 73030.54896935512, 62920.632729318575, 110663.68828487414, 120773.60452491068], "y": [37090.56839052477, 65061.24740287046, 47804.66623453224, 19833.987222186548, 37090.56839052477], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [165693.61611756802, 106376.48648793835, 111557.71990209338, 170874.84953172304, 165693.61611756802], "y": [75956.7667840864, 52326.365549518516, 39320.412285415056, 62950.81351998295, 75956.7667840864], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [189807.9122197372, 183538.6220962804, 163639.41145424522, 169908.701577702, 189807.9122197372], "y": [-40943.99940648467, 21266.648741663495, 19261.301932776227, -42949.34621537193, -40943.99940648467], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [193125.17784000552, -42985.93327110562, -42397.76157343057, 193713.34953768054, 193125.17784000552], "y": [-72238.18694182858, -75710.4091640508, -115706.08460595395, -112233.86238373173, -72238.18694182858], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-59601.94543489165, 32759.165676219473, 31857.139479244364, -60503.97163186676, -59601.94543489165], "y": [-89314.27202906177, -87230.93869572846, -47241.11062983187, -49324.443963165184, -89314.27202906177], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-43822.843661319464, -39656.17699465281, -59616.40673877226, -63783.07340543892, -43822.843661319464], "y": [-154671.90326288683, -88699.68104066463, -87439.03495156234, -153411.25717378457, -154671.90326288683], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-150543.23687126802, -181376.5702046014, -189673.7913066015, -158840.45797326812, -150543.23687126802], "y": [-177778.47453453162, -131945.14120119825, -137526.90812436197, -183360.24145769535, -177778.47453453162], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [48656.72318609997, 141341.90837128516, 134274.39678417877, 41589.21159899356, 48656.72318609997], "y": [-146602.41407396956, -111590.83999989548, -92881.20932566473, -127892.78339973881, -146602.41407396956], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [96791.27384878151, 56282.014589522245, 46502.50044248485, 87011.75970174413, 96791.27384878151], "y": [-174194.5978142072, -134649.84472778742, -144667.8836101184, -184212.6366965382, -174194.5978142072], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [136612.422104612, 87904.8603762169, 86253.11144591366, 134960.6731743088, 136612.422104612], "y": [-177075.03803787747, -171288.00100084045, -185190.22116422595, -190977.25820126297, -177075.03803787747], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-109976.16492209787, -152977.06512785918, -161988.02260648028, -118987.12240071897, -109976.16492209787], "y": [142418.19222114107, 164119.58111002995, 146264.5357357252, 124563.1468468363, 142418.19222114107], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-13284.218171542543, -63117.0371015837, -69395.6329372825, -19562.814007241333, -13284.218171542543], "y": [161069.6222701764, 177546.6027228513, 158557.67873195742, 142080.69827928251, 161069.6222701764], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [84031.78609645875, 47059.049470944345, 51909.76197167099, 88882.4985971854, 84031.78609645875], "y": [143192.094535442, 133948.91037906343, 114546.06037615679, 123789.24453253538, 143192.094535442], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [168186.26598228337, 140408.48820450561, 159280.48784716325, 187058.265624941, 168186.26598228337], "y": [221137.9664173659, 141971.29975069928, 135349.54549011766, 214516.21215678428, 221137.9664173659], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [85860.41977118485, 211860.41977118485, 208295.22294715059, 82295.22294715059, 85860.41977118485], "y": [51439.332345611285, 80239.33234561128, 95837.06845076116, 67037.06845076116, 51439.332345611285], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [52075.6457873996, 97407.4359108564, 84811.78705439258, 39479.996930935784, 52075.6457873996], "y": [-2391.88038335259, 55478.489987017776, 65345.08159124777, 7474.711220877399, -2391.88038335259], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [51790.29014411775, 56130.567921895534, 40247.605660637404, 35907.32788285962, 51790.29014411775], "y": [-29288.637925286417, 6398.090469775318, 8329.802096144547, -27356.926298917188, -29288.637925286417], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-83912.68910143267, -18808.52243476599, -19844.168180231973, -84948.33484689864, -83912.68910143267], "y": [31135.078358206425, 34510.8499631447, 54484.017911417155, 51108.24630647888, 31135.078358206425], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-181944.65741805828, -117322.74383781139, -122911.7369006434, -187533.65048089033, -181944.65741805828], "y": [26697.52800122857, 45505.398371598945, 64708.60530543205, 45900.73493506167, 26697.52800122857], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-156054.71452980762, -173415.82564091875, -193168.96373951138, -175807.85262840026, -156054.71452980762], "y": [-67265.71324019512, 42205.73737708884, 39073.08111475696, -70398.369502527, -67265.71324019512], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-19742.92255985636, -47713.60157220205, -43986.92854896876, -16016.249536623076, -19742.92255985636], "y": [-59007.176128291496, -64311.9600789088, -83961.69056504793, -78656.90661443063, -59007.176128291496], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [180270.0347529286, 167249.20141959522, 150000.88574318466, 163021.71907651803, 180270.0347529286], "y": [-22296.270251620062, -112.62827631141681, -10236.639651595888, -32420.281626904532, -22296.270251620062], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [61577.23149990246, 99077.23149990247, 99299.39887275393, 61799.39887275393, 61577.23149990246], "y": [-132476.64059385244, -133309.97392718575, -123312.44214886967, -122479.10881553635, -132476.64059385244], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-148333.3333333333], "y": [127500.00000000001], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "#50CC50", "line": {"color": "#50CC50", "width": 5}}, "hovertext": ["Meera Gate [S04]"], "hoverinfo": "text", "text": ["Meera Gate"], "textposition": "top center", "textfont": {"color": "#50CC50", "size": 20}, "meta": {"base_marker_size": 16, "base_text_size": 20}}, {"type": "scatter", "x": [35833.333333333336], "y": [65000.00000000001], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "#50CC50", "line": {"color": "#50CC50", "width": 5}}, "hovertext": ["Jotar Gate [P13]"], "hoverinfo": "text", "text": ["Jotar Gate"], "textposition": "top center", "textfont": {"color": "#50CC50", "size": 20}, "meta": {"base_marker_size": 16, "base_text_size": 20}}, {"type": "scatter", "x": [-171859.56790123458], "y": [-28981.48148148146], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "#50CC50", "line": {"color": "#50CC50", "width": 5}}, "hovertext": ["Waypoint 89 Gate [K03]"], "hoverinfo": "text", "text": ["Waypoint 89 Gate"], "textposition": "top center", "textfont": {"color": "#50CC50", "size": 20}, "meta": {"base_marker_size": 16, "base_text_size": 20}}, {"type": "scatter", "x": [49166.66666666667], "y": [-166666.6666666667], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "#50CC50", "line": {"color": "#50CC50", "width": 5}}, "hovertext": ["Norayne Gate [D14]"], "hoverinfo": "text", "text": ["Norayne Gate"], "textposition": "top center", "textfont": {"color": "#50CC50", "size": 20}, "meta": {"base_marker_size": 16, "base_text_size": 20}}, {"type": "scatter", "x": [23333.333333333336], "y": [-183333.33333333334], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Y-25 [C13]"], "hoverinfo": "text", "text": ["Y-25"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [12500.000000000002], "y": [-163333.33333333334], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["A-43 [D12]"], "hoverinfo": "text", "text": ["A-43"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [125363.70813328748], "y": [-65152.69132944682], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["F-88 [I18]"], "hoverinfo": "text", "text": ["F-88"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [78287.03703703704], "y": [-148333.33333333334], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["L-30 [E15]"], "hoverinfo": "text", "text": ["L-30"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-177500.00000000003], "y": [118333.33333333334], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["V-26 [R03]"], "hoverinfo": "text", "text": ["V-26"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-148333.33333333334], "y": [148333.33333333334], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["X-91 [T04]"], "hoverinfo": "text", "text": ["X-91"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-125833.33333333334], "y": [161666.6666666667], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["F-10 [U05]"], "hoverinfo": "text", "text": ["F-10"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-168333.33333333334], "y": [175000.00000000003], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["S-77 [U03]"], "hoverinfo": "text", "text": ["S-77"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-43333.333333333336], "y": [166666.6666666667], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["C-37 [U09]"], "hoverinfo": "text", "text": ["C-37"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-65833.33333333334], "y": [146666.6666666667], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["D-90 [T08]"], "hoverinfo": "text", "text": ["D-90"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [50308.641975308645], "y": [154124.2283950617], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["J-84 [T14]"], "hoverinfo": "text", "text": ["J-84"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [56666.66666666667], "y": [140833.33333333334], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["K-55 [T14]"], "hoverinfo": "text", "text": ["K-55"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [36666.66666666667], "y": [149166.6666666667], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["H-47 [T13]"], "hoverinfo": "text", "text": ["H-47"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [181666.6666666667], "y": [163333.33333333334], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["L-63 [U21]"], "hoverinfo": "text", "text": ["L-63"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [194166.6666666667], "y": [175833.33333333334], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["V-42 [U21]"], "hoverinfo": "text", "text": ["V-42"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [196666.6666666667], "y": [158858.02469135803], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["B-100 [T21]"], "hoverinfo": "text", "text": ["B-100"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [165088.7345679013], "y": [52584.876543209895], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["H-53 [O20]"], "hoverinfo": "text", "text": ["H-53"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [145000.0], "y": [47500.00000000001], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["T-82 [O19]"], "hoverinfo": "text", "text": ["T-82"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [70829.42172496571], "y": [73879.76180269777], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["G-62 [P15]"], "hoverinfo": "text", "text": ["G-62"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [36662.75505829904], "y": [25395.804755372654], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["C-45 [N13]"], "hoverinfo": "text", "text": ["C-45"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [41627.55058299039], "y": [34566.38303040695], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["H-11 [N14]"], "hoverinfo": "text", "text": ["H-11"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [49857.1995027435], "y": [26687.528577960682], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["P-98 [N14]"], "hoverinfo": "text", "text": ["P-98"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-16656.39646204844], "y": [87466.68881458623], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["W-40 [Q11]"], "hoverinfo": "text", "text": ["W-40"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-27073.063128715108], "y": [81679.6517775492], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["I-65 [Q10]"], "hoverinfo": "text", "text": ["I-65"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-50799.914980566966], "y": [62582.42955532697], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["N-32 [P09]"], "hoverinfo": "text", "text": ["N-32"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-42698.06312871511], "y": [15128.72585162326], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["U-67 [M09]"], "hoverinfo": "text", "text": ["U-67"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-56586.952017604], "y": [13392.614740512148], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Y-15 [M09]"], "hoverinfo": "text", "text": ["Y-15"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-134711.95201760402], "y": [74156.50362940105], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["K-18 [P05]"], "hoverinfo": "text", "text": ["K-18"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-127767.50757315957], "y": [-12649.051926154523], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["S-18 [L05]"], "hoverinfo": "text", "text": ["S-18"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-126031.39646204846], "y": [-44477.755629858235], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Q-49 [J05]"], "hoverinfo": "text", "text": ["Q-49"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-143392.5075731596], "y": [-69940.7185928212], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["P-01 [I04]"], "hoverinfo": "text", "text": ["P-01"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-170012.87794352995], "y": [-84408.3111854138], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Z-37 [H03]"], "hoverinfo": "text", "text": ["Z-37"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-34419.38514517603], "y": [-18612.915094878816], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["M-64 [L10]"], "hoverinfo": "text", "text": ["M-64"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-31123.989054641028], "y": [-28627.704189529006], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["Q22 [K10]"], "hoverinfo": "text", "text": ["Q22"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-26590.81004229536], "y": [-37806.58793438497], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["F-84 [K10]"], "hoverinfo": "text", "text": ["F-84"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [79906.7465420668], "y": [-13693.933613397307], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["J-99 [L15]"], "hoverinfo": "text", "text": ["J-99"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [59812.86794124375], "y": [-44236.62908664834], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["X-07 [J14]"], "hoverinfo": "text", "text": ["X-07"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [80710.50168609971], "y": [-55087.323531092785], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["D-47 [J16]"], "hoverinfo": "text", "text": ["D-47"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [149833.44407293102], "y": [-26152.138345907595], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["O-62 [K19]"], "hoverinfo": "text", "text": ["O-62"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [157469.11794124378], "y": [-135864.71550640144], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["G-01 [F19]"], "hoverinfo": "text", "text": ["G-01"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [165104.7918095565], "y": [-146313.53237882943], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["V-56 [E20]"], "hoverinfo": "text", "text": ["V-56"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [144609.03563671702], "y": [-168416.79883973478], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["U-76 [D19]"], "hoverinfo": "text", "text": ["U-76"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [25951.6282293096], "y": [-130996.53135002284], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["U-02 [F13]"], "hoverinfo": "text", "text": ["U-02"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-34124.24625628714], "y": [-129858.41406607223], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["S-63 [F10]"], "hoverinfo": "text", "text": ["S-63"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-67689.06107110195], "y": [-170946.3770290352], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["K-10 [D08]"], "hoverinfo": "text", "text": ["K-10"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-53800.17218221307], "y": [-177312.11776977594], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["V-11 [D09]"], "hoverinfo": "text", "text": ["V-11"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-150443.6907007316], "y": [-154742.6733253315], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["V-92 [E04]"], "hoverinfo": "text", "text": ["V-92"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}, {"type": "scatter", "x": [-182851.098108139], "y": [-172103.7844364426], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "red"}, "hovertext": ["E-38 [D02]"], "hoverinfo": "text", "text": ["E-38"], "textposition": "top center", "textfont": {"color": "white", "size": 14}, "meta": {"base_marker_size": 12, "base_text_size": 14}}], "layout": {"title": "Holtair", "paper_bgcolor": "black", "plot_bgcolor": "black", "font": {"color": "white"}, "margin": {"l": 0, "r": 0, "t": 40, "b": 0}, "autosize": true, "dragmode": "pan", "hovermode": "closest", "xaxis": {"color": "white", "showgrid": true, "gridcolor": "gray", "dtick": 20000, "title": "X Axis"}, "yaxis": {"color": "white", "showgrid": true, "gridcolor": "gray", "dtick": 20000, "scaleanchor": "x", "scaleratio": 1, "title": "Z Axis"}, "shapes": []}};
    fig.layout.showlegend = false;
    fig.layout.dragmode = 'pan';
    fig.layout.title = 'Holtair';
    if (!isGM()) {
        fig.data = fig.data.filter(t => !t.gmOnly);
        }
    Plotly.newPlot('plot', fig.data, fig.layout, {responsive: true, scrollZoom: true});
        console.log("[DEBUG JS] Plotted traces count:", fig.data.length);
        console.log("[DEBUG JS] fig.data sample:", fig.data.slice(0,3));

    var plotDiv = document.getElementById('plot');
    // Use Plotly's built-in nearest-point selection for accurate clicks
    plotDiv.on('plotly_click', function(ev) {
        if (!ev || !ev.points || !ev.points.length) return;
        var p = ev.points[0];
        var picked = null;
        // Prefer original name from hovertext: "Name [Grid]"
        if (p.hovertext && typeof p.hovertext === 'string') {
            picked = p.hovertext.split(' [')[0];
        } else if (p.text && typeof p.text === 'string') {
            // Fallback to text label (strip any ** used for GM marking)
            picked = p.text.replace(/\*/g, '');
        }
        if (picked && objData[picked]) {
            highlight(picked);
        }
    });

    // ——— Auto-scale markers based on current zoom/span (optimized: planets & blackholes only) ———
    (function() {
        var refSpan = null;
        var planetIdx = [];
        var bhIdx = [];
        function rescaleMarkers() {
            try {
                var full = plotDiv._fullLayout || {};
                var xaxis = full.xaxis || (fig.layout && fig.layout.xaxis);
                if (!xaxis || !xaxis.range) return;
                var curr = Math.abs(xaxis.range[1] - xaxis.range[0]);
                if (!curr) return;
                if (!refSpan) refSpan = curr;
                var scale = refSpan / curr;
                var indices = [];
                var markerSizes = [];
                var textSizes = [];
                function pushForIndex(i) {
                    var t = fig.data[i];
                    if (!t || !t.meta || !t.meta.base_marker_size) return;
                    var base = t.meta.base_marker_size;
                    var baseText = t.meta.base_text_size || (t.textfont && t.textfont.size) || 12;
                    var newMarker = Math.max(2, Math.round(base * scale));
                    var newText = Math.max(8, Math.round(baseText * Math.sqrt(scale)));
                    indices.push(i);
                    markerSizes.push(newMarker);
                    textSizes.push(newText);
                }
                planetIdx.forEach(pushForIndex);
                bhIdx.forEach(pushForIndex);
                if (indices.length) {
                    Plotly.restyle(plotDiv, {'marker.size': [markerSizes], 'textfont.size': [textSizes]}, indices);
                }
            } catch (e) { console.error(e); }
        }
        // initial scale after plot settles
        setTimeout(rescaleMarkers, 250);
        plotDiv.on('plotly_relayout', rescaleMarkers);
    })();

  var ctrl = document.getElementById('object-buttons');

  // Helper: create and append a single button
function addButton(label, fn, header, color, isHidden) {
    if (isHidden && !isGM()) return;
    var btn = document.createElement('button');
    btn.textContent = label;
    if (header) {
      btn.className = 'header';     // section header style
      btn.onclick = null;           // no click action
    } else {
      btn.onclick = fn;             // bind the handler
      if (color) btn.style.backgroundColor = color;
    }
    ctrl.appendChild(btn);
  }
  
  function enterGMMode() {
    const pw = prompt("Enter ONI Auth Code: --We will store a cookie for the purpose of tracking if you have authenticated or not--");
    if (pw === "oni1") {
      document.cookie = "gmMode=1; path=/; max-age=31536000";
      location.reload();
    } else {
      alert("Incorrect password.");
    }
  }

  function isGM() {
    return document.cookie.split(';').some(c => c.trim() === 'gmMode=1');
  }

  function exitGMMode() {
    document.cookie = "gmMode=; path=/; expires=Thu, 01 Jan 1970 00:00:00 UTC;";
    location.reload();
  }

  function renderGMControls() {
    const div = document.getElementById('gm-controls');
    div.innerHTML = '';
    const btn = document.createElement('button');
    btn.style.width = '100%';
    if (isGM()) {
      btn.textContent = 'ONI Logout';
      btn.onclick = exitGMMode;
    } else {
      btn.textContent = 'ONI Login';
      btn.onclick = enterGMMode;
    }
    div.appendChild(btn);
  }

  renderGMControls();

  // ——— Populate the sidebar ———
  addButton('None', clearAnnotations, false, null);

  addButton('--- Gates ---', null, true, null);
  addButton('Jotar Gate',function(){highlight('Jotar Gate');},false,null,false)
    addButton('Meera Gate',function(){highlight('Meera Gate');},false,null,false)
    addButton('Norayne Gate',function(){highlight('Norayne Gate');},false,null,false)
    addButton('Waypoint 89 Gate',function(){highlight('Waypoint 89 Gate');},false,null,false)

  addButton('--- Nav Points/POI ---', null, true, null);
  

    addButton('--- Planets ---', null, true, null);
    

    addButton('--- Stations ---', null, true, null);
    addButton('A-43',function(){highlight('A-43');},false,'red',false)
    addButton('B-100',function(){highlight('B-100');},false,'red',false)
    addButton('C-37',function(){highlight('C-37');},false,'red',false)
    addButton('C-45',function(){highlight('C-45');},false,'red',false)
    addButton('D-47',function(){highlight('D-47');},false,'red',false)
    addButton('D-90',function(){highlight('D-90');},false,'red',false)
    addButton('E-38',function(){highlight('E-38');},false,'red',false)
    addButton('F-10',function(){highlight('F-10');},false,'red',false)
    addButton('F-84',function(){highlight('F-84');},false,'red',false)
    addButton('F-88',function(){highlight('F-88');},false,'red',false)
    addButton('G-01',function(){highlight('G-01');},false,'red',false)
    addButton('G-62',function(){highlight('G-62');},false,'red',false)
    addButton('H-11',function(){highlight('H-11');},false,'red',false)
    addButton('H-47',function(){highlight('H-47');},false,'red',false)
    addButton('H-53',function(){highlight('H-53');},false,'red',false)
    addButton('I-65',function(){highlight('I-65');},false,'red',false)
    addButton('J-84',function(){highlight('J-84');},false,'red',false)
    addButton('J-99',function(){highlight('J-99');},false,'red',false)
    addButton('K-10',function(){highlight('K-10');},false,'red',false)
    addButton('K-18',function(){highlight('K-18');},false,'red',false)
    addButton('K-55',function(){highlight('K-55');},false,'red',false)
    addButton('L-30',function(){highlight('L-30');},false,'red',false)
    addButton('L-63',function(){highlight('L-63');},false,'red',false)
    addButton('M-64',function(){highlight('M-64');},false,'red',false)
    addButton('N-32',function(){highlight('N-32');},false,'red',false)
    addButton('O-62',function(){highlight('O-62');},false,'red',false)
    addButton('P-01',function(){highlight('P-01');},false,'red',false)
    addButton('P-98',function(){highlight('P-98');},false,'red',false)
    addButton('Q-49',function(){highlight('Q-49');},false,'red',false)
    addButton('Q22',function(){highlight('Q22');},false,'red',false)
    addButton('S-18',function(){highlight('S-18');},false,'red',false)
    addButton('S-63',function(){highlight('S-63');},false,'red',false)
    addButton('S-77',function(){highlight('S-77');},false,'red',false)
    addButton('T-82',function(){highlight('T-82');},false,'red',false)
    addButton('U-02',function(){highlight('U-02');},false,'red',false)
    addButton('U-67',function(){highlight('U-67');},false,'red',false)
    addButton('U-76',function(){highlight('U-76');},false,'red',false)
    addButton('V-11',function(){highlight('V-11');},false,'red',false)
    addButton('V-26',function(){highlight('V-26');},false,'red',false)
    addButton('V-42',function(){highlight('V-42');},false,'red',false)
    addButton('V-56',function(){highlight('V-56');},false,'red',false)
    addButton('V-92',function(){highlight('V-92');},false,'red',false)
    addButton('W-40',function(){highlight('W-40');},false,'red',false)
    addButton('X-07',function(){highlight('X-07');},false,'red',false)
    addButton('X-91',function(){highlight('X-91');},false,'red',false)
    addButton('Y-15',function(){highlight('Y-15');},false,'red',false)
    addButton('Y-25',function(){highlight('Y-25');},false,'red',false)
    addButton('Z-37',function(){highlight('Z-37');},false,'red',false)
    
  // Search filter
  document.getElementById('search-box').addEventListener('input', function() {
    const query = this.value.toLowerCase();
    const buttons = document.querySelectorAll('#object-buttons button');
    buttons.forEach(btn => {
      const label = btn.textContent.toLowerCase();
      const isHeader = btn.classList.contains('header');
      if (isHeader) {
        btn.style.display = ''; // always show section headers
      } else {
        btn.style.display = label.includes(query) ? '' : 'none';
      }
    });
  });
</script>
</body>
</html>