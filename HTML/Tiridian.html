
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tiridian.html</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body { margin: 0; background: black; color: white; display: flex; height: 100vh; }
        #controls { flex: 1; min-width: 200px; max-width: 350px; overflow-y: auto; background: #333; padding: 10px; }
        #plot { flex: 3; min-width: 400px; }
        #info { flex: 1; min-width: 200px; background: #333; padding: 10px; overflow-y: auto; }
        h2.header { margin-top: 0; margin-bottom: 5px; text-align: center; }
        h3.subheader { margin-top: 0; margin-bottom: 15px; text-align: center; color: #ccc; }
        .alignment-image { display: block; max-width: 100%; height: auto; margin: 10px auto; }
        button { display: block; width: 100%; margin-bottom: 5px; background: #555; color: white; border: none; padding: 5px; text-align: left; cursor: pointer; font-size: 20px; }
        button.header { background: #444; cursor: default; font-size: 24px; }
    </style>
</head>
<body>
    <div id="controls">
        <div id="gm-controls" style="margin-bottom:10px;"></div>
        <h2 class="header">Tiridian</h2>
        <h3 class="subheader">Alignment: USFP</h3>
        <img src="Images/Factions/USFP.png" alt="Alignment Logo" class="alignment-image" onerror="this.style.display='none';">

        <input type="text" id="search-box" placeholder="Search objects..." style="width: 95%; padding: 6px; margin-bottom: 10px; font-size: 16px;">
        <div id="object-buttons">
    </div>
    </div>
    <div id="plot"></div>
    <div id="info">
        <img src="Images/Compass.png" alt="Compass" style="display:block; max-width:100%; height:auto; margin-bottom:10px;">
        <button id="galactic-map-btn" title="Back to Galactic Map">Show Galactic Map</button>
        Select an object
    </div>
<script>
    var objData = {"Solitude Gate": {"type": "jumpnode", "x": 183469.56877939543, "y": -29456.565398012626, "grid": "K21", "hidden": false, "label": "Solitude Gate", "destinations": {"Starway Gate": "AlMare"}}, "JP 17": {"type": "jumppoint", "x": 193549.56877939543, "y": -225296.5653980126, "grid": "A21", "hidden": true, "label": "**JP 17**", "destinations": {"JP 34": "Blackspire"}}, "Starwright Yards": {"type": "station", "x": -30748.394183567478, "y": -75838.6024350497, "grid": "I10", "hidden": false, "label": "Starwright Yards", "hull": "starbase_command", "facilities": ["Docking", "Refuel", "Repair"], "sides": ["USFP"], "hullName": "Command Starbase", "hullImage": "Images/Ships/tsn-big-base256.png", "hullDescription": ""}, "Titan Slips": {"type": "station", "x": -27703.837270949545, "y": -76230.85857157077, "grid": "I10", "hidden": false, "label": "Titan Slips", "hull": "starbase_industry", "facilities": ["Docking", "Refuel", "Repair"], "sides": ["USFP"], "hullName": "Industrial Starbase", "hullImage": "Images/Ships/industry_station256.png", "hullDescription": ""}, "RS 39": {"type": "station", "x": 295858.23967983254, "y": 156495.3049259469, "grid": "T26", "hidden": false, "label": "RS 39", "hull": "starbase_science", "facilities": ["Docking"], "sides": ["USFP"], "hullName": "Science Starbase", "hullImage": "Images/Ships/science_station256.png", "hullDescription": ""}, "RS 53": {"type": "station", "x": 323858.23967983254, "y": 149495.3049259469, "grid": "T28", "hidden": false, "label": "RS 53", "hull": "starbase_science", "facilities": ["Docking"], "sides": ["USFP"], "hullName": "Science Starbase", "hullImage": "Images/Ships/science_station256.png", "hullDescription": ""}, "Hullforge 5": {"type": "station", "x": 304165.3384452646, "y": 150805.4901111321, "grid": "T27", "hidden": false, "label": "Hullforge 5", "hull": "starbase_industry", "facilities": ["Docking", "Refuel"], "sides": ["USFP"], "hullName": "Industrial Starbase", "hullImage": "Images/Ships/industry_station256.png", "hullDescription": ""}, "Hullforge 3": {"type": "station", "x": -87527.66887492564, "y": -186991.15387537886, "grid": "C07", "hidden": false, "label": "Hullforge 3", "hull": "starbase_industry", "facilities": ["Docking", "Refuel"], "sides": ["USFP"], "hullName": "Industrial Starbase", "hullImage": "Images/Ships/industry_station256.png", "hullDescription": ""}, "Tiridian Comand": {"type": "station", "x": 85222.43721069666, "y": 90041.60122224317, "grid": "Q16", "hidden": false, "label": "Tiridian Comand", "hull": "starbase_command", "facilities": ["Docking", "Refuel", "Repair"], "sides": ["TSN"], "hullName": "Command Starbase", "hullImage": "Images/Ships/tsn-big-base256.png", "hullDescription": ""}, "Jerum Station": {"type": "station", "x": 99087.21344526457, "y": 88675.21747738721, "grid": "Q16", "hidden": false, "label": "Jerum Station", "hull": "starbase_civil", "facilities": ["Docking", "Refuel"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "Tigrim Station": {"type": "station", "x": 78574.71237359104, "y": 79763.2102090592, "grid": "P15", "hidden": false, "label": "Tigrim Station", "hull": "starbase_civil", "facilities": ["Docking", "Refuel"], "sides": ["USFP"], "hullName": "Civilian Starbase", "hullImage": "Images/Ships/civil_station256.png", "hullDescription": ""}, "WP 42": {"type": "platform", "x": 82259.08540086282, "y": 86804.55334230608, "grid": "Q16", "hidden": false, "label": "WP 42"}, "WP 52": {"type": "platform", "x": 89175.41244591409, "y": 90449.64462280608, "grid": "Q16", "hidden": false, "label": "WP 52"}, "WP 58": {"type": "platform", "x": 82632.94091681154, "y": 93066.6332344471, "grid": "Q16", "hidden": false, "label": "WP 58"}, "WP 56": {"type": "platform", "x": 100578.00568234996, "y": 87458.80049521635, "grid": "Q17", "hidden": false, "label": "WP 56"}, "WP 5": {"type": "platform", "x": 77212.03593555515, "y": 78112.41259649843, "grid": "P15", "hidden": false, "label": "WP 5"}, "WP 21": {"type": "platform", "x": 87212.67098718332, "y": 87739.19213217788, "grid": "Q16", "hidden": false, "label": "WP 21"}, "I 07": {"type": "station", "x": -108119.87566504911, "y": -108930.4542869015, "grid": "G06", "hidden": false, "label": "I 07", "hull": "starbase_industry", "facilities": [], "sides": ["USFP"], "hullName": "Industrial Starbase", "hullImage": "Images/Ships/industry_station256.png", "hullDescription": ""}, "I 05": {"type": "station", "x": -151522.65344282688, "y": -120504.52836097557, "grid": "F04", "hidden": false, "label": "I 05", "hull": "starbase_industry", "facilities": [], "sides": ["USFP"], "hullName": "Industrial Starbase", "hullImage": "Images/Ships/industry_station256.png", "hullDescription": ""}, "I 09": {"type": "station", "x": -148629.1349243084, "y": -102564.71354616075, "grid": "G04", "hidden": false, "label": "I 09", "hull": "starbase_industry", "facilities": ["Docking", "Refuel"], "sides": ["USFP"], "hullName": "Industrial Starbase", "hullImage": "Images/Ships/industry_station256.png", "hullDescription": ""}, "SWY   Foundry": {"type": "station", "x": -31883.749636765067, "y": -77510.79446992297, "grid": "I10", "hidden": false, "label": "SWY   Foundry", "hull": "usfp_industrial_refinary", "facilities": ["Docking"], "sides": ["USFP"], "hullName": "Storage Module", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialRefinary256.png", "hullDescription": ""}, "SWY   P2": {"type": "station", "x": -29741.869076642208, "y": -78614.18748574384, "grid": "I10", "hidden": false, "label": "SWY   P2", "hull": "usfp_industrial_processor", "facilities": [], "sides": ["USFP"], "hullName": "Storage Module", "hullImage": "Images/Ships/TSN Mod/USFP/IndustrialProcessor256.png", "hullDescription": ""}, "M 22": {"type": "station", "x": 320858.23967983254, "y": 135495.3049259469, "grid": "S28", "hidden": false, "label": "M 22", "hull": "starbase_industry", "facilities": [], "sides": ["USFP"], "hullName": "Industrial Starbase", "hullImage": "Images/Ships/industry_station256.png", "hullDescription": ""}, "SR 52": {"type": "sensor_relay", "x": 191858.23967983254, "y": -20504.695074053096, "grid": "K21", "hidden": false, "label": "SR 52"}, "SR 65": {"type": "sensor_relay", "x": 152191.57301316585, "y": -30282.47285183087, "grid": "K19", "hidden": false, "label": "SR 65"}, "SR 15": {"type": "sensor_relay", "x": 112524.90634649919, "y": -40060.25062960865, "grid": "J17", "hidden": false, "label": "SR 15"}, "SR 26": {"type": "sensor_relay", "x": 72858.23967983252, "y": -49838.028407386424, "grid": "J15", "hidden": false, "label": "SR 26"}, "SR 57": {"type": "sensor_relay", "x": 33191.573013165864, "y": -59615.806185164205, "grid": "J13", "hidden": false, "label": "SR 57"}, "SR 82": {"type": "sensor_relay", "x": -6475.093653500822, "y": -69393.583962942, "grid": "I11", "hidden": false, "label": "SR 82"}, "SR 90": {"type": "sensor_relay", "x": -46141.76032016748, "y": -79171.36174071976, "grid": "I09", "hidden": false, "label": "SR 90"}, "SR 76": {"type": "sensor_relay", "x": -85808.42698683417, "y": -88949.13951849754, "grid": "H07", "hidden": false, "label": "SR 76"}, "SR 12": {"type": "sensor_relay", "x": -125475.0936535008, "y": -98726.91729627531, "grid": "H05", "hidden": false, "label": "SR 12"}, "SR 29": {"type": "sensor_relay", "x": -165141.76032016746, "y": -108504.69507405309, "grid": "G03", "hidden": false, "label": "SR 29"}, "SR 54": {"type": "sensor_relay", "x": 87593.33378787435, "y": 89986.08365177462, "grid": "Q16", "hidden": false, "label": "SR 54"}, "SR 34": {"type": "sensor_relay", "x": 132593.33378787435, "y": 89986.08365177462, "grid": "Q18", "hidden": false, "label": "SR 34"}, "SR 37": {"type": "sensor_relay", "x": 115650.37487151736, "y": 125168.50036283597, "grid": "S17", "hidden": false, "label": "SR 37"}, "SR 74": {"type": "sensor_relay", "x": 77579.8917598402, "y": 133857.83969995668, "grid": "S15", "hidden": false, "label": "SR 74"}, "SR 86": {"type": "sensor_relay", "x": 47049.73473226549, "y": 109510.85191206474, "grid": "R14", "hidden": false, "label": "SR 86"}, "SR 79": {"type": "sensor_relay", "x": 47049.73473226549, "y": 70461.3153914845, "grid": "P14", "hidden": false, "label": "SR 79"}, "SR 31": {"type": "sensor_relay", "x": 77579.89175984019, "y": 46114.32760359256, "grid": "O15", "hidden": false, "label": "SR 31"}, "SR 72": {"type": "sensor_relay", "x": 115650.37487151734, "y": 54803.66694071327, "grid": "O17", "hidden": false, "label": "SR 72"}, "SR 81": {"type": "sensor_relay", "x": 125016.72522796367, "y": 28261.88985070912, "grid": "N18", "hidden": false, "label": "SR 81"}, "SR 64": {"type": "sensor_relay", "x": 130321.50917858096, "y": -8871.597803611872, "grid": "L18", "hidden": false, "label": "SR 64"}, "SR 89": {"type": "sensor_relay", "x": 182404.84251191432, "y": -42147.06076657484, "grid": "J21", "hidden": false, "label": "SR 89"}, "SR 19": {"type": "sensor_relay", "x": 203543.60279998014, "y": -10880.985663694179, "grid": "L22", "hidden": false, "label": "SR 19"}, "SR 94": {"type": "sensor_relay", "x": 224682.36308804597, "y": 20385.089439186486, "grid": "N23", "hidden": false, "label": "SR 94"}, "SR 18": {"type": "sensor_relay", "x": 245821.12337611185, "y": 51651.164542067156, "grid": "O24", "hidden": false, "label": "SR 18"}, "SR 69": {"type": "sensor_relay", "x": 266959.8836641777, "y": 82917.23964494781, "grid": "Q25", "hidden": false, "label": "SR 69"}, "SR 91": {"type": "sensor_relay", "x": 288098.64395224355, "y": 114183.3147478285, "grid": "R26", "hidden": false, "label": "SR 91"}, "SR 75": {"type": "sensor_relay", "x": 309237.4042403094, "y": 145449.38985070915, "grid": "T27", "hidden": false, "label": "SR 75"}};
        console.log("[DEBUG JS] objData keys:", Object.keys(objData));
        console.log("[DEBUG JS] objData sample:", objData[Object.keys(objData)[0]]);

    function clearAnnotations() {
        Plotly.relayout('plot', {annotations: []});
        document.getElementById('info').innerHTML = getInfoHeader() + 'Select an object';
        document.getElementById('galactic-map-btn').addEventListener('click', function() {
            window.location.href = 'index.html';
        });
        document.getElementById('galactic-map-btn').addEventListener('click', function() {
            window.location.href = 'index.html';
        });
    }
    
    function getInfoHeader() {
    return '<img src="Images/Compass.png" alt="Compass" '
         + 'style="display:block; max-width:100%; height:auto; margin-bottom:10px;">'
         + '<button id="galactic-map-btn" title="Back to Galactic Map">Galactic Map</button>';
        }
    
    function highlight(name) {
        var obj = objData[name];
        if (obj.hidden && !isGM()) {
            alert("This object is not visible on the public map.");
            return;
        }
        var annotation = {
            x: obj.x, y: obj.y, xref: 'x', yref: 'y', text: name,
            showarrow: true, arrowcolor: 'yellow', arrowwidth: 2,
            arrowhead: 3, font: {color: 'yellow', size: 28}
        };

        Plotly.relayout('plot', {annotations: [annotation]});

        var label = obj.label || name;
        var infoHtml = '<span style="font-size:20pt;">' + label + '</span><br>';
        infoHtml += '<b>Location:</b> ' + obj.grid + '<br>';

        if (obj.type === 'station') {
            // Station selected: display detailed station info
            if (obj.hullImage) {
                infoHtml += '<img src="' + obj.hullImage + '" alt="Hull Art" style="max-width:48%; height:auto;">';
            }
            if (obj.sides && obj.sides.length > 0) {
                infoHtml += '<img src="Images/Factions/' + obj.sides[0] + '.png" alt="Faction Logo" style="max-width:48%; height:auto;">';
            }
            infoHtml += '<b>Facilities:</b> ' + (obj.facilities.length ? obj.facilities.join(', ') : 'None') + '<br>';
            if (obj.hullName && obj.hullImage) {
                infoHtml += '<b>General Class:</b> ' + obj.hullName + '<br>';
            }
            if (obj.hullDescription) {
                infoHtml += '<p style="margin-top:5px; font-size:90%; color:#ccc;">' + obj.hullDescription + '</p>';
            }
        } else if ((obj.type === 'jump_point' || obj.type === 'jumppoint' || obj.type === 'jumpnode') && obj.destinations && typeof obj.destinations === 'object') {
            infoHtml += '<b>Type:</b> ' + obj.type + '<br>';
            infoHtml += '<b>Destinations:</b><br>';
            for (const [target, label] of Object.entries(obj.destinations)) {
                if (typeof target === 'string' && typeof label === 'string') {
                    let file = label + '.html';
                    // Correctly escape single quotes for JS string
                    infoHtml += `<button onclick="window.open('${file}', '_blank')">${label}, ${target}</button>`;
                }
            }
            }
        else {
            infoHtml += '<b>Type:</b> ' + obj.type;
        }

            // ——— append a description paragraph if one exists ———
            if (obj.description) {
                infoHtml += '<p style="font-size:90%; margin-top:8px;">'
                          + obj.description
                          + '</p>';
            }
            document.getElementById('info').innerHTML = getInfoHeader() + infoHtml;
            document.getElementById('galactic-map-btn').addEventListener('click', function() {
                window.location.href = 'index.html';
            });
                + infoHtml;
         
    }
         document.getElementById('galactic-map-btn').addEventListener('click', function() {
        window.location.href = 'index.html';
    });
    

    var fig = {"data": [{"type": "scatter", "x": [19295.64857946351, -129037.68475386983, -199748.3628725246, -51415.02953919125, 19295.64857946351], "y": [61841.551439092545, 210174.88477242592, 139464.20665377117, -8869.1266795622, 61841.551439092545], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [145899.5569475242, -19933.776385809164, -45518.93790725195, 120314.39542608139, 145899.5569475242], "y": [56391.180632733114, 93891.18063273313, -19252.089206536075, -56752.08920653608, 56391.180632733114], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [15880.764830287986, -59119.23516971202, -41333.47912334907, 33666.52087665093, 15880.764830287986], "y": [138559.6925059728, -7273.640827360535, -16420.601079775763, 129412.7322535576, 138559.6925059728], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [36157.53456033647, 59490.86789366981, 43389.751146602444, 20056.41781326911, 36157.53456033647], "y": [-70279.11133406666, -38612.444667399985, -26748.463906402983, -58415.130573069655, -70279.11133406666], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-102478.78788537813, -122478.78788537813, -141307.2597410163, -121307.2597410163, -102478.78788537813], "y": [-148474.85733763297, -92641.52400429963, -99386.05123617002, -155219.38456950337, -148474.85733763297], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-127751.77014822318, -125251.77014822318, -145200.94414483788, -147700.94414483788, -127751.77014822318], "y": [-155059.59145344727, -120059.59145344727, -118634.65045368907, -153634.65045368907, -155059.59145344727], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-87645.33181774785, -116811.99848441454, -130307.38247531326, -101140.71580864658, -87645.33181774785], "y": [-132800.16616687877, -106133.4995002121, -120894.07574025755, -147560.74240692426, -132800.16616687877], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-86494.26878441383, -95660.93545108048, -151458.4455086473, -142291.77884198065, -86494.26878441383], "y": [-254468.1573464626, -146968.1573464626, -151726.08456067374, -259226.08456067374, -254468.1573464626], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-6573.320106426479, -84906.65343975982, -80546.0608533013, -2212.7275199679507, -6573.320106426479], "y": [-194587.69945054193, -212087.69945054193, -231606.5424565944, -214106.5424565944, -194587.69945054193], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-15704.301547162087, -70704.30154716209, -83081.74607923234, -28081.74607923234, -15704.301547162087], "y": [-243158.87089795948, -199825.53756462617, -215535.37100917686, -258868.70434251017, -243158.87089795948], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [-443.1743030535522, -61276.50763638689, -57509.53999000754, 3323.7933433257945, -443.1743030535522], "y": [-229526.09816122203, -241192.76482788866, -260834.810412581, -249168.14374591436, -229526.09816122203], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [216869.24170827068, 141035.9083749373, 155178.04399866826, 231011.37733200163, 216869.24170827068], "y": [-156442.71980836935, -232276.05314170272, -246418.18876543368, -170584.8554321003, -156442.71980836935], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [203236.8828668454, 144903.54953351204, 132977.06950676016, 191310.40284009353, 203236.8828668454], "y": [-245486.3491406903, -202153.01580735698, -218207.89276644605, -261541.22609977936, -245486.3491406903], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [223193.67699091855, 182360.34365758518, 258853.6087160204, 299686.94204935373, 223193.67699091855], "y": [-131800.75640816192, -265134.0897414953, -288560.1521656411, -155226.81883230773, -131800.75640816192], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [306626.7796958997, 245793.44636256638, 212087.17267770594, 272920.50601103925, 306626.7796958997], "y": [113127.35019008021, 185627.3501900802, 157345.0745694502, 84845.0745694502, 113127.35019008021], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [72273.64285346946, 72273.64285346946, 52273.64285346946, 52273.64285346946, 72273.64285346946], "y": [122319.54571309852, 142319.54571309852, 142319.54571309852, 122319.54571309852, 122319.54571309852], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [78894.7047505059, 50561.37141717256, 52319.2476230997, 80652.58095643304, 78894.7047505059], "y": [148947.51088001902, 146447.51088001902, 126524.9138795114, 129024.9138795114, 148947.51088001902], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [62359.10090977487, 83192.4342431082, 66354.85146383074, 45521.51813049739, 62359.10090977487], "y": [116089.55123256089, 148589.5512325609, 159382.87352696952, 126882.87352696952, 116089.55123256089], "fill": "toself", "fillcolor": "rgba(165,42,42,0.4)", "line": {"shape": "spline", "color": "rgba(165,42,42,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [303464.2591609241, 259297.5924942574, 261916.3598793481, 306083.0265460148, 303464.2591609241], "y": [146400.11748046576, 140566.78414713242, 120738.97394573133, 126572.30727906468, 146400.11748046576], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [372680.6568660282, 399347.32353269495, 396866.62884091074, 370199.962174244, 372680.6568660282], "y": [117396.76694596183, 120730.10027929518, 140575.65781356854, 137242.3244802352, 117396.76694596183], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [394224.98153376265, 347558.3148670959, 331988.97083984304, 378655.6375065098, 394224.98153376265], "y": [123474.6917747578, 151808.02510809113, 126164.39965143926, 97831.06631810592, 123474.6917747578], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [361194.71954081324, 367028.0528741466, 347519.23283279245, 341685.8994994591, 361194.71954081324], "y": [90950.2703320854, 116783.60366541875, 121188.82109411166, 95355.48776077831, 90950.2703320854], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [352938.3633144161, 297938.3633144161, 294942.25572585623, 349942.25572585623, 352938.3633144161], "y": [111373.36742201285, 119706.70075534619, 99932.39067085087, 91599.05733751753, 111373.36742201285], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [303368.1443849078, 248368.14438490776, 256179.14132203118, 311179.14132203115, 303368.1443849078], "y": [198192.0301985178, 174858.69686518444, 156447.06122767928, 179780.39456101265, 198192.0301985178], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [398861.8781475871, 311361.8781475871, 298185.4075593518, 385685.4075593518, 398861.8781475871], "y": [152172.4868895691, 198839.15355623577, 174133.27120329463, 127466.60453662793, 152172.4868895691], "fill": "toself", "fillcolor": "rgba(128,0,128,0.4)", "line": {"shape": "spline", "color": "rgba(128,0,128,0.4)", "width": 0}, "hoverinfo": "none"}, {"type": "scatter", "x": [183469.56877939543], "y": [-29456.565398012626], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "lightblue"}, "hovertext": ["Solitude Gate [K21]"], "hoverinfo": "text", "text": ["Solitude Gate"], "textposition": "top center", "textfont": {"color": "white", "size": 20}}, {"type": "scatter", "x": [183469.56877939543], "y": [-29456.565398012626], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "lightblue"}, "hovertext": ["Solitude Gate [K21]"], "hoverinfo": "text", "text": ["Solitude Gate"], "textposition": "top center", "textfont": {"color": "white", "size": 20}}, {"type": "scatter", "x": [193549.56877939543], "y": [-225296.5653980126], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "lightblue"}, "hovertext": ["JP 17 [A21]"], "hoverinfo": "text", "text": ["**JP 17**"], "textposition": "top center", "textfont": {"color": "white", "size": 20}, "gmOnly": true}, {"type": "scatter", "x": [193549.56877939543], "y": [-225296.5653980126], "mode": "markers+text", "marker": {"symbol": "circle-open", "size": 16, "color": "lightblue"}, "hovertext": ["JP 17 [A21]"], "hoverinfo": "text", "text": ["**JP 17**"], "textposition": "top center", "textfont": {"color": "white", "size": 20}, "gmOnly": true}, {"type": "scatter", "x": [-30748.394183567478], "y": [-75838.6024350497], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Starwright Yards [I10]"], "hoverinfo": "text", "text": ["Starwright Yards"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-30748.394183567478], "y": [-75838.6024350497], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Starwright Yards [I10]"], "hoverinfo": "text", "text": ["Starwright Yards"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-27703.837270949545], "y": [-76230.85857157077], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Titan Slips [I10]"], "hoverinfo": "text", "text": ["Titan Slips"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-27703.837270949545], "y": [-76230.85857157077], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Titan Slips [I10]"], "hoverinfo": "text", "text": ["Titan Slips"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [295858.23967983254], "y": [156495.3049259469], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["RS 39 [T26]"], "hoverinfo": "text", "text": ["RS 39"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [295858.23967983254], "y": [156495.3049259469], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["RS 39 [T26]"], "hoverinfo": "text", "text": ["RS 39"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [323858.23967983254], "y": [149495.3049259469], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["RS 53 [T28]"], "hoverinfo": "text", "text": ["RS 53"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [323858.23967983254], "y": [149495.3049259469], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["RS 53 [T28]"], "hoverinfo": "text", "text": ["RS 53"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [304165.3384452646], "y": [150805.4901111321], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Hullforge 5 [T27]"], "hoverinfo": "text", "text": ["Hullforge 5"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [304165.3384452646], "y": [150805.4901111321], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Hullforge 5 [T27]"], "hoverinfo": "text", "text": ["Hullforge 5"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-87527.66887492564], "y": [-186991.15387537886], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Hullforge 3 [C07]"], "hoverinfo": "text", "text": ["Hullforge 3"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-87527.66887492564], "y": [-186991.15387537886], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Hullforge 3 [C07]"], "hoverinfo": "text", "text": ["Hullforge 3"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [85222.43721069666], "y": [90041.60122224317], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "green"}, "hovertext": ["Tiridian Comand [Q16]"], "hoverinfo": "text", "text": ["Tiridian Comand"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [85222.43721069666], "y": [90041.60122224317], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "green"}, "hovertext": ["Tiridian Comand [Q16]"], "hoverinfo": "text", "text": ["Tiridian Comand"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [99087.21344526457], "y": [88675.21747738721], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Jerum Station [Q16]"], "hoverinfo": "text", "text": ["Jerum Station"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [99087.21344526457], "y": [88675.21747738721], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Jerum Station [Q16]"], "hoverinfo": "text", "text": ["Jerum Station"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [78574.71237359104], "y": [79763.2102090592], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Tigrim Station [P15]"], "hoverinfo": "text", "text": ["Tigrim Station"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [78574.71237359104], "y": [79763.2102090592], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["Tigrim Station [P15]"], "hoverinfo": "text", "text": ["Tigrim Station"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [82259.08540086282], "y": [86804.55334230608], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 42 [Q16]"], "hoverinfo": "text"}, {"type": "scatter", "x": [82259.08540086282], "y": [86804.55334230608], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 42 [Q16]"], "hoverinfo": "text"}, {"type": "scatter", "x": [89175.41244591409], "y": [90449.64462280608], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 52 [Q16]"], "hoverinfo": "text"}, {"type": "scatter", "x": [89175.41244591409], "y": [90449.64462280608], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 52 [Q16]"], "hoverinfo": "text"}, {"type": "scatter", "x": [82632.94091681154], "y": [93066.6332344471], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 58 [Q16]"], "hoverinfo": "text"}, {"type": "scatter", "x": [82632.94091681154], "y": [93066.6332344471], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 58 [Q16]"], "hoverinfo": "text"}, {"type": "scatter", "x": [100578.00568234996], "y": [87458.80049521635], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 56 [Q17]"], "hoverinfo": "text"}, {"type": "scatter", "x": [100578.00568234996], "y": [87458.80049521635], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 56 [Q17]"], "hoverinfo": "text"}, {"type": "scatter", "x": [77212.03593555515], "y": [78112.41259649843], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 5 [P15]"], "hoverinfo": "text"}, {"type": "scatter", "x": [77212.03593555515], "y": [78112.41259649843], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 5 [P15]"], "hoverinfo": "text"}, {"type": "scatter", "x": [87212.67098718332], "y": [87739.19213217788], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 21 [Q16]"], "hoverinfo": "text"}, {"type": "scatter", "x": [87212.67098718332], "y": [87739.19213217788], "mode": "markers", "marker": {"symbol": "pentagon-open", "size": 3, "color": "orange"}, "hovertext": ["WP 21 [Q16]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-108119.87566504911], "y": [-108930.4542869015], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["I 07 [G06]"], "hoverinfo": "text", "text": ["I 07"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-108119.87566504911], "y": [-108930.4542869015], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["I 07 [G06]"], "hoverinfo": "text", "text": ["I 07"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-151522.65344282688], "y": [-120504.52836097557], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["I 05 [F04]"], "hoverinfo": "text", "text": ["I 05"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-151522.65344282688], "y": [-120504.52836097557], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["I 05 [F04]"], "hoverinfo": "text", "text": ["I 05"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-148629.1349243084], "y": [-102564.71354616075], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["I 09 [G04]"], "hoverinfo": "text", "text": ["I 09"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-148629.1349243084], "y": [-102564.71354616075], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["I 09 [G04]"], "hoverinfo": "text", "text": ["I 09"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-31883.749636765067], "y": [-77510.79446992297], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["SWY   Foundry [I10]"], "hoverinfo": "text", "text": ["SWY   Foundry"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-31883.749636765067], "y": [-77510.79446992297], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["SWY   Foundry [I10]"], "hoverinfo": "text", "text": ["SWY   Foundry"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-29741.869076642208], "y": [-78614.18748574384], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["SWY   P2 [I10]"], "hoverinfo": "text", "text": ["SWY   P2"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [-29741.869076642208], "y": [-78614.18748574384], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["SWY   P2 [I10]"], "hoverinfo": "text", "text": ["SWY   P2"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [320858.23967983254], "y": [135495.3049259469], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["M 22 [S28]"], "hoverinfo": "text", "text": ["M 22"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [320858.23967983254], "y": [135495.3049259469], "mode": "markers+text", "marker": {"symbol": "square", "size": 12, "color": "blue"}, "hovertext": ["M 22 [S28]"], "hoverinfo": "text", "text": ["M 22"], "textposition": "top center", "textfont": {"color": "white", "size": 14}}, {"type": "scatter", "x": [191858.23967983254], "y": [-20504.695074053096], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 52 [K21]"], "hoverinfo": "text"}, {"type": "scatter", "x": [191858.23967983254], "y": [-20504.695074053096], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 52 [K21]"], "hoverinfo": "text"}, {"type": "scatter", "x": [152191.57301316585], "y": [-30282.47285183087], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 65 [K19]"], "hoverinfo": "text"}, {"type": "scatter", "x": [152191.57301316585], "y": [-30282.47285183087], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 65 [K19]"], "hoverinfo": "text"}, {"type": "scatter", "x": [112524.90634649919], "y": [-40060.25062960865], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 15 [J17]"], "hoverinfo": "text"}, {"type": "scatter", "x": [112524.90634649919], "y": [-40060.25062960865], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 15 [J17]"], "hoverinfo": "text"}, {"type": "scatter", "x": [72858.23967983252], "y": [-49838.028407386424], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 26 [J15]"], "hoverinfo": "text"}, {"type": "scatter", "x": [72858.23967983252], "y": [-49838.028407386424], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 26 [J15]"], "hoverinfo": "text"}, {"type": "scatter", "x": [33191.573013165864], "y": [-59615.806185164205], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 57 [J13]"], "hoverinfo": "text"}, {"type": "scatter", "x": [33191.573013165864], "y": [-59615.806185164205], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 57 [J13]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-6475.093653500822], "y": [-69393.583962942], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 82 [I11]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-6475.093653500822], "y": [-69393.583962942], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 82 [I11]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-46141.76032016748], "y": [-79171.36174071976], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 90 [I09]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-46141.76032016748], "y": [-79171.36174071976], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 90 [I09]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-85808.42698683417], "y": [-88949.13951849754], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 76 [H07]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-85808.42698683417], "y": [-88949.13951849754], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 76 [H07]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-125475.0936535008], "y": [-98726.91729627531], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 12 [H05]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-125475.0936535008], "y": [-98726.91729627531], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 12 [H05]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-165141.76032016746], "y": [-108504.69507405309], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 29 [G03]"], "hoverinfo": "text"}, {"type": "scatter", "x": [-165141.76032016746], "y": [-108504.69507405309], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 29 [G03]"], "hoverinfo": "text"}, {"type": "scatter", "x": [87593.33378787435], "y": [89986.08365177462], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 54 [Q16]"], "hoverinfo": "text"}, {"type": "scatter", "x": [87593.33378787435], "y": [89986.08365177462], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 54 [Q16]"], "hoverinfo": "text"}, {"type": "scatter", "x": [132593.33378787435], "y": [89986.08365177462], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 34 [Q18]"], "hoverinfo": "text"}, {"type": "scatter", "x": [132593.33378787435], "y": [89986.08365177462], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 34 [Q18]"], "hoverinfo": "text"}, {"type": "scatter", "x": [115650.37487151736], "y": [125168.50036283597], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 37 [S17]"], "hoverinfo": "text"}, {"type": "scatter", "x": [115650.37487151736], "y": [125168.50036283597], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 37 [S17]"], "hoverinfo": "text"}, {"type": "scatter", "x": [77579.8917598402], "y": [133857.83969995668], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 74 [S15]"], "hoverinfo": "text"}, {"type": "scatter", "x": [77579.8917598402], "y": [133857.83969995668], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 74 [S15]"], "hoverinfo": "text"}, {"type": "scatter", "x": [47049.73473226549], "y": [109510.85191206474], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 86 [R14]"], "hoverinfo": "text"}, {"type": "scatter", "x": [47049.73473226549], "y": [109510.85191206474], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 86 [R14]"], "hoverinfo": "text"}, {"type": "scatter", "x": [47049.73473226549], "y": [70461.3153914845], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 79 [P14]"], "hoverinfo": "text"}, {"type": "scatter", "x": [47049.73473226549], "y": [70461.3153914845], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 79 [P14]"], "hoverinfo": "text"}, {"type": "scatter", "x": [77579.89175984019], "y": [46114.32760359256], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 31 [O15]"], "hoverinfo": "text"}, {"type": "scatter", "x": [77579.89175984019], "y": [46114.32760359256], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 31 [O15]"], "hoverinfo": "text"}, {"type": "scatter", "x": [115650.37487151734], "y": [54803.66694071327], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 72 [O17]"], "hoverinfo": "text"}, {"type": "scatter", "x": [115650.37487151734], "y": [54803.66694071327], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 72 [O17]"], "hoverinfo": "text"}, {"type": "scatter", "x": [125016.72522796367], "y": [28261.88985070912], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 81 [N18]"], "hoverinfo": "text"}, {"type": "scatter", "x": [125016.72522796367], "y": [28261.88985070912], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 81 [N18]"], "hoverinfo": "text"}, {"type": "scatter", "x": [130321.50917858096], "y": [-8871.597803611872], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 64 [L18]"], "hoverinfo": "text"}, {"type": "scatter", "x": [130321.50917858096], "y": [-8871.597803611872], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 64 [L18]"], "hoverinfo": "text"}, {"type": "scatter", "x": [182404.84251191432], "y": [-42147.06076657484], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 89 [J21]"], "hoverinfo": "text"}, {"type": "scatter", "x": [182404.84251191432], "y": [-42147.06076657484], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 89 [J21]"], "hoverinfo": "text"}, {"type": "scatter", "x": [203543.60279998014], "y": [-10880.985663694179], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 19 [L22]"], "hoverinfo": "text"}, {"type": "scatter", "x": [203543.60279998014], "y": [-10880.985663694179], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 19 [L22]"], "hoverinfo": "text"}, {"type": "scatter", "x": [224682.36308804597], "y": [20385.089439186486], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 94 [N23]"], "hoverinfo": "text"}, {"type": "scatter", "x": [224682.36308804597], "y": [20385.089439186486], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 94 [N23]"], "hoverinfo": "text"}, {"type": "scatter", "x": [245821.12337611185], "y": [51651.164542067156], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 18 [O24]"], "hoverinfo": "text"}, {"type": "scatter", "x": [245821.12337611185], "y": [51651.164542067156], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 18 [O24]"], "hoverinfo": "text"}, {"type": "scatter", "x": [266959.8836641777], "y": [82917.23964494781], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 69 [Q25]"], "hoverinfo": "text"}, {"type": "scatter", "x": [266959.8836641777], "y": [82917.23964494781], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 69 [Q25]"], "hoverinfo": "text"}, {"type": "scatter", "x": [288098.64395224355], "y": [114183.3147478285], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 91 [R26]"], "hoverinfo": "text"}, {"type": "scatter", "x": [288098.64395224355], "y": [114183.3147478285], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 91 [R26]"], "hoverinfo": "text"}, {"type": "scatter", "x": [309237.4042403094], "y": [145449.38985070915], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 75 [T27]"], "hoverinfo": "text"}, {"type": "scatter", "x": [309237.4042403094], "y": [145449.38985070915], "mode": "markers", "marker": {"symbol": "circle", "size": 3, "color": "white"}, "hovertext": ["SR 75 [T27]"], "hoverinfo": "text"}], "layout": {"title": "Tiridian", "paper_bgcolor": "black", "plot_bgcolor": "black", "font": {"color": "white"}, "margin": {"l": 0, "r": 0, "t": 40, "b": 0}, "autosize": true, "dragmode": "pan", "hovermode": "closest", "xaxis": {"color": "white", "showgrid": true, "gridcolor": "gray", "dtick": 20000, "title": "X Axis"}, "yaxis": {"color": "white", "showgrid": true, "gridcolor": "gray", "dtick": 20000, "scaleanchor": "x", "scaleratio": 1, "title": "Z Axis"}, "shapes": []}};
    fig.layout.showlegend = false;
    fig.layout.dragmode = 'pan';
    fig.layout.title = 'Tiridian';
    if (!isGM()) {
        fig.data = fig.data.filter(t => !t.gmOnly);
        }
    Plotly.newPlot('plot', fig.data, fig.layout, {responsive: true, scrollZoom: true});
        console.log("[DEBUG JS] Plotted traces count:", fig.data.length);
        console.log("[DEBUG JS] fig.data sample:", fig.data.slice(0,3));

    var plotDiv = document.getElementById('plot');
    // Custom click: select nearest object within 10px of cursor
    plotDiv.addEventListener('click', function(evt) {
        var rect = plotDiv.getBoundingClientRect();
        var px = evt.clientX - rect.left;
        var py = evt.clientY - rect.top;
        var xaxis = plotDiv._fullLayout.xaxis;
        var yaxis = plotDiv._fullLayout.yaxis;
        var l2px = xaxis.l2p.bind(xaxis);
        var l2py = yaxis.l2p.bind(yaxis);
        var minDist = Infinity, closest = null;
        for (var name in objData) {
            var pt = objData[name];
            var xPx = l2px(pt.x);
            var yPx = l2py(pt.y);
            var dx = xPx - px, dy = yPx - py;
            var d = Math.sqrt(dx*dx + dy*dy);
            console.log(`${name}: data=(${pt.x}, ${pt.y}) -> screen=(${xPx.toFixed(1)}, ${yPx.toFixed(1)}), cursor=(${px.toFixed(1)}, ${py.toFixed(1)}), dx=${dx.toFixed(1)}, dy=${dy.toFixed(1)}, d=${d.toFixed(1)}`);
            if (d < minDist) {
                minDist = d;
                closest = name;
            }
        }
        if (minDist <= 35 && closest) {
            highlight(closest);
        }
    });

  var ctrl = document.getElementById('object-buttons');

  // Helper: create and append a single button
function addButton(label, fn, header, color, isHidden) {
    if (isHidden && !isGM()) return;
    var btn = document.createElement('button');
    btn.textContent = label;
    if (header) {
      btn.className = 'header';     // section header style
      btn.onclick = null;           // no click action
    } else {
      btn.onclick = fn;             // bind the handler
      if (color) btn.style.backgroundColor = color;
    }
    ctrl.appendChild(btn);
  }
  
  function enterGMMode() {
    const pw = prompt("Enter ONI Auth Code: --We will store a cookie for the purpose of tracking if you have authenticated or not--");
    if (pw === "oni1") {
      document.cookie = "gmMode=1; path=/; max-age=31536000";
      location.reload();
    } else {
      alert("Incorrect password.");
    }
  }

  function isGM() {
    return document.cookie.split(';').some(c => c.trim() === 'gmMode=1');
  }

  function exitGMMode() {
    document.cookie = "gmMode=; path=/; expires=Thu, 01 Jan 1970 00:00:00 UTC;";
    location.reload();
  }

  function renderGMControls() {
    const div = document.getElementById('gm-controls');
    div.innerHTML = '';
    const btn = document.createElement('button');
    btn.style.width = '100%';
    if (isGM()) {
      btn.textContent = 'ONI Logout';
      btn.onclick = exitGMMode;
    } else {
      btn.textContent = 'ONI Login';
      btn.onclick = enterGMMode;
    }
    div.appendChild(btn);
  }

  renderGMControls();

  // ——— Populate the sidebar ———
  addButton('None', clearAnnotations, false, null);

  addButton('--- Gates ---', null, true, null);
  addButton('JP 17',function(){highlight('JP 17');},false,null,true)
    addButton('Solitude Gate',function(){highlight('Solitude Gate');},false,null,false)

  addButton('--- Nav Points/POI ---', null, true, null);
  

  addButton('--- Stations ---', null, true, null);
  addButton('Hullforge 3',function(){highlight('Hullforge 3');},false,'blue',false)
    addButton('Hullforge 5',function(){highlight('Hullforge 5');},false,'blue',false)
    addButton('I 05',function(){highlight('I 05');},false,'blue',false)
    addButton('I 07',function(){highlight('I 07');},false,'blue',false)
    addButton('I 09',function(){highlight('I 09');},false,'blue',false)
    addButton('Jerum Station',function(){highlight('Jerum Station');},false,'blue',false)
    addButton('M 22',function(){highlight('M 22');},false,'blue',false)
    addButton('RS 39',function(){highlight('RS 39');},false,'blue',false)
    addButton('RS 53',function(){highlight('RS 53');},false,'blue',false)
    addButton('SWY   Foundry',function(){highlight('SWY   Foundry');},false,'blue',false)
    addButton('SWY   P2',function(){highlight('SWY   P2');},false,'blue',false)
    addButton('Starwright Yards',function(){highlight('Starwright Yards');},false,'blue',false)
    addButton('Tigrim Station',function(){highlight('Tigrim Station');},false,'blue',false)
    addButton('Tiridian Comand',function(){highlight('Tiridian Comand');},false,'green',false)
    addButton('Titan Slips',function(){highlight('Titan Slips');},false,'blue',false)
    
  // Search filter
  document.getElementById('search-box').addEventListener('input', function() {
    const query = this.value.toLowerCase();
    const buttons = document.querySelectorAll('#object-buttons button');
    buttons.forEach(btn => {
      const label = btn.textContent.toLowerCase();
      const isHeader = btn.classList.contains('header');
      if (isHeader) {
        btn.style.display = ''; // always show section headers
      } else {
        btn.style.display = label.includes(query) ? '' : 'none';
      }
    });
  });
</script>
</body>
</html>